!function(t){function n(n){for(var e,i,s=n[0],o=n[1],u=0,a=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&a.push(r[i][0]),r[i]=0;for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e]);for(c&&c(n);a.length;)a.shift()()}var e={},r={0:0};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var n=[],e=r[t];if(0!==e)if(e)n.push(e[2]);else{var s=new Promise((function(n,i){e=r[t]=[n,i]}));n.push(e[2]=s);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(t){return i.p+"mapsEms.chunk."+t+".js"}(t);var c=new Error;o=function(n){u.onerror=u.onload=null,clearTimeout(a);var e=r[t];if(0!==e){if(e){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,e[1](c)}r[t]=void 0}};var a=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(n)},i.m=t,i.c=e,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)i.d(e,r,function(n){return t[n]}.bind(null,r));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window.mapsEms_bundle_jsonpfunction=window.mapsEms_bundle_jsonpfunction||[],o=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=o;i(i.s=5)}([function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"g",(function(){return i})),e.d(n,"d",(function(){return s})),e.d(n,"c",(function(){return o})),e.d(n,"f",(function(){return u})),e.d(n,"e",(function(){return c})),e.d(n,"a",(function(){return a})),e.d(n,"h",(function(){return l}));const r="https://vector.maps.elastic.co",i="https://tiles.maps.elastic.co",s="https://maps.elastic.co/v8.1",o="https://tiles.maps.elastic.co/fonts/{fontstack}/{range}.pbf",u="road_map",c="road_map_desaturated",a="dark_map",l="kibana"},function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"a",(function(){return EMSSettings}));var r=e(2),i=e.n(r),s=e(0);function o(t,n){return new EMSSettings(t,n)}class EMSSettings{constructor(t,n){i()(this,"_config",void 0),i()(this,"_getIsEnterprisePlus",void 0),this._config=t,this._getIsEnterprisePlus=n}isEMSUrlSet(){return!!this._config.emsUrl}getEMSRoot(){return this._config.emsUrl.replace(/\/$/,"")}isIncludeElasticMapsService(){return!!this._config.includeElasticMapsService}hasOnPremLicense(){return this._getIsEnterprisePlus()}isEMSEnabled(){return this.isEMSUrlSet()?this._getIsEnterprisePlus():this.isIncludeElasticMapsService()}getEMSFileApiUrl(){return this._config.emsFileApiUrl===s.b&&this.isEMSUrlSet()?`${this.getEMSRoot()}/file`:this._config.emsFileApiUrl}getEMSTileApiUrl(){return this._config.emsTileApiUrl===s.g&&this.isEMSUrlSet()?`${this.getEMSRoot()}/tile`:this._config.emsTileApiUrl}getEMSLandingPageUrl(){return this._config.emsLandingPageUrl===s.d&&this.isEMSUrlSet()?`${this.getEMSRoot()}/maps`:this._config.emsLandingPageUrl}getEMSFontLibraryUrl(){return this._config.emsFontLibraryUrl===s.c&&this.isEMSUrlSet()?`${this.getEMSRoot()}/tile/fonts/{fontstack}/{range}.pbf`:this._config.emsFontLibraryUrl}}},function(t,n,e){t.exports=e(4)(2)},function(t,n,e){"use strict";e.r(n),e.d(n,"LICENSE_CHECK_ID",(function(){return s}));var r=e(0);e.d(n,"DEFAULT_EMS_FILE_API_URL",(function(){return r.b})),e.d(n,"DEFAULT_EMS_TILE_API_URL",(function(){return r.g})),e.d(n,"DEFAULT_EMS_LANDING_PAGE_URL",(function(){return r.d})),e.d(n,"DEFAULT_EMS_FONT_LIBRARY_URL",(function(){return r.c})),e.d(n,"DEFAULT_EMS_ROADMAP_ID",(function(){return r.f})),e.d(n,"DEFAULT_EMS_ROADMAP_DESATURATED_ID",(function(){return r.e})),e.d(n,"DEFAULT_EMS_DARKMAP_ID",(function(){return r.a})),e.d(n,"EMS_APP_NAME",(function(){return r.h}));var i=e(1);e.d(n,"EMSSettings",(function(){return i.a}));const s="maps"},function(t,n){t.exports=__kbnSharedDeps_npm__},function(t,n,e){e(6),__kbnBundles__.define("plugin/mapsEms/public",e,7),__kbnBundles__.define("plugin/mapsEms/common",e,3)},function(t,n,e){e.p=window.__kbnPublicPath__.mapsEms},function(t,n,e){"use strict";e.r(n),e.d(n,"plugin",(function(){return p}));var r=e(2),i=e.n(r),s=e(3);let o;let u;let c=!1;function a(t){const n=t.check(s.LICENSE_CHECK_ID,"enterprise");c="valid"===n.state}function l(){return c}var f=e(1);let _;class plugin_MapsEmsPlugin{constructor(t){i()(this,"_initializerContext",void 0),this._initializerContext=t}setup(){return{}}start(t,n){const r=this._initializerContext.config.get(),i=this._initializerContext.env.packageInfo.version;return o=i,u=r,n.licensing&&async function(t){a(await t.refresh()),t.license$.subscribe(a)}(n.licensing),{config:r,createEMSSettings:()=>Object(f.b)(r,l),createEMSClient:async()=>async function(t,n){return _||(_=await new Promise((async(t,n)=>{try{try{const{createEMSClient:n}=await e.e(1).then(e.bind(null,66));t(n)}catch(t){n(t)}}catch(t){n(t)}}))),await _(t,n)}(Object(f.b)(r,l),i)}}}function p(t){return new plugin_MapsEmsPlugin(t)}},function(t,n){t.exports=__kbnSharedDeps__.Lodash},function(t,n){t.exports=__kbnSharedDeps__.KbnI18n}]);