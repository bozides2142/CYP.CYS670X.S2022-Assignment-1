!function(e){function t(t){for(var n,a,i=t[0],r=t[1],o=0,p=[];o<i.length;o++)a=i[o],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);for(l&&l(t);p.length;)p.shift()()}var n={},s={0:0};function a(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=s[e]=[t,a]}));t.push(n[2]=i);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=function(e){return a.p+"expressionHeatmap.chunk."+e+".js"}(e);var l=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(p);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,n[1](l)}s[e]=void 0}};var p=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.expressionHeatmap_bundle_jsonpfunction=window.expressionHeatmap_bundle_jsonpfunction||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var l=r;a(a.s=12)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var s=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(s))},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return h})),n.d(t,"PLUGIN_NAME",(function(){return f})),n.d(t,"heatmapFunction",(function(){return p})),n.d(t,"heatmapLegendConfig",(function(){return c})),n.d(t,"heatmapGridConfig",(function(){return d})),n.d(t,"EXPRESSION_HEATMAP_NAME",(function(){return i}));var s=n(0),a=n(10);const i="heatmap",r="heatmap_legend",o="heatmap_grid",l=(e,t,n,s)=>{const a="string"==typeof t?((e,t)=>{var n,s;const a=e.find((e=>e.id===t));if(a)return{accessor:Number(a.id),format:{id:null===(n=a.meta.params)||void 0===n?void 0:n.id,params:{...null===(s=a.meta.params)||void 0===s?void 0:s.params}},type:"vis_dimension"}})(e,t):t;a&&n.push([[a],s])},p=()=>({name:i,type:"render",inputTypes:["datatable"],help:s.i18n.translate("expressionHeatmap.function.help",{defaultMessage:"Heatmap visualization"}),args:{percentageMode:{types:["boolean"],default:!1,help:s.i18n.translate("expressionHeatmap.function.percentageMode.help",{defaultMessage:"When is on, tooltip and legends appear as percentages."})},palette:{types:["palette"],help:s.i18n.translate("expressionHeatmap.function.palette.help",{defaultMessage:"Provides colors for the values, based on the bounds."})},legend:{types:[r],help:s.i18n.translate("expressionHeatmap.function.legendConfig.help",{defaultMessage:"Configure the chart legend."}),default:"{heatmap_legend}"},gridConfig:{types:[o],help:s.i18n.translate("expressionHeatmap.function.gridConfig.help",{defaultMessage:"Configure the heatmap layout."}),default:"{heatmap_grid}"},showTooltip:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.addTooltipHelpText",{defaultMessage:"Show tooltip on hover"}),default:!0},highlightInHover:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.highlightInHoverHelpText",{defaultMessage:"When this is enabled, it highlights the ranges of the same color on legend hover"})},lastRangeIsRightOpen:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.lastRangeIsRightOpen",{defaultMessage:"If is set to true, the last range value will be right open"}),default:!0},xAccessor:{types:["string","vis_dimension"],help:s.i18n.translate("expressionHeatmap.function.args.xAccessorHelpText",{defaultMessage:"The id of the x axis column or the corresponding dimension"})},yAccessor:{types:["string","vis_dimension"],help:s.i18n.translate("expressionHeatmap.function.args.yAccessorHelpText",{defaultMessage:"The id of the y axis column or the corresponding dimension"})},valueAccessor:{types:["string","vis_dimension"],help:s.i18n.translate("expressionHeatmap.function.args.valueAccessorHelpText",{defaultMessage:"The id of the value column or the corresponding dimension"}),required:!0},splitRowAccessor:{types:["string","vis_dimension"],help:s.i18n.translate("expressionHeatmap.function.args.splitRowAccessorHelpText",{defaultMessage:"The id of the split row or the corresponding dimension"})},splitColumnAccessor:{types:["string","vis_dimension"],help:s.i18n.translate("expressionHeatmap.function.args.splitColumnAccessorHelpText",{defaultMessage:"The id of the split column or the corresponding dimension"})}},fn(e,t,n){var r;if(null!=n&&null!==(r=n.inspectorAdapters)&&void 0!==r&&r.tables){const i=[];t.valueAccessor&&l(e.columns,t.valueAccessor,i,s.i18n.translate("expressionHeatmap.function.dimension.metric",{defaultMessage:"Metric"})),t.yAccessor&&l(e.columns,t.yAccessor,i,s.i18n.translate("expressionHeatmap.function.dimension.yaxis",{defaultMessage:"Y axis"})),t.xAccessor&&l(e.columns,t.xAccessor,i,s.i18n.translate("expressionHeatmap.function.dimension.xaxis",{defaultMessage:"X axis"})),t.splitRowAccessor&&l(e.columns,t.splitRowAccessor,i,s.i18n.translate("expressionHeatmap.function.dimension.splitRow",{defaultMessage:"Split by row"})),t.splitColumnAccessor&&l(e.columns,t.splitColumnAccessor,i,s.i18n.translate("expressionHeatmap.function.dimension.splitColumn",{defaultMessage:"Split by column"}));const r=Object(a.prepareLogTable)(e,i);n.inspectorAdapters.tables.logDatatable("default",r)}return{type:"render",as:i,value:{data:e,args:t}}}});var u=n(4);const c={name:r,aliases:[],type:r,help:"Configure the heatmap chart's legend",inputTypes:["null"],args:{isVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.legend.isVisible.help",{defaultMessage:"Specifies whether or not the legend is visible."})},position:{types:["string"],options:[u.Position.Top,u.Position.Right,u.Position.Bottom,u.Position.Left],help:s.i18n.translate("expressionHeatmap.function.args.legend.position.help",{defaultMessage:"Specifies the legend position."})},maxLines:{types:["number"],help:s.i18n.translate("expressionHeatmap.function.args.legend.maxLines.help",{defaultMessage:"Specifies the number of lines per legend item."})},shouldTruncate:{types:["boolean"],default:!0,help:s.i18n.translate("expressionHeatmap.function.args.legend.shouldTruncate.help",{defaultMessage:"Specifies whether or not the legend items should be truncated."})}},fn:(e,t)=>({type:r,...t})},d={name:o,aliases:[],type:o,help:"Configure the heatmap layout",inputTypes:["null"],args:{strokeWidth:{types:["number"],help:s.i18n.translate("expressionHeatmap.function.args.grid.strokeWidth.help",{defaultMessage:"Specifies the grid stroke width"}),required:!1},strokeColor:{types:["string"],help:s.i18n.translate("expressionHeatmap.function.args.grid.strokeColor.help",{defaultMessage:"Specifies the grid stroke color"}),required:!1},isCellLabelVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.grid.isCellLabelVisible.help",{defaultMessage:"Specifies whether or not the cell label is visible."})},isYAxisLabelVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.grid.isYAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the Y-axis labels are visible."})},isYAxisTitleVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.grid.isYAxisTitleVisible.help",{defaultMessage:"Specifies whether or not the Y-axis title is visible."})},yTitle:{types:["string"],help:s.i18n.translate("expressionHeatmap.function.args.grid.yTitle.help",{defaultMessage:"Specifies the title of the y axis"}),required:!1},isXAxisLabelVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.grid.isXAxisLabelVisible.help",{defaultMessage:"Specifies whether or not the X-axis labels are visible."})},isXAxisTitleVisible:{types:["boolean"],help:s.i18n.translate("expressionHeatmap.function.args.grid.isXAxisTitleVisible.help",{defaultMessage:"Specifies whether or not the X-axis title is visible."})},xTitle:{types:["string"],help:s.i18n.translate("expressionHeatmap.function.args.grid.xTitle.help",{defaultMessage:"Specifies the title of the x axis"}),required:!1}},fn:(e,t)=>({type:o,...t})},h="expressionHeatmap",f="expressionHeatmap"},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t,n){e.exports=n(14)(3)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(5),a=n.n(s),i=(n(8),n(1));const r=({title:e,titleId:t,...n})=>Object(i.jsx)("svg",a()({width:30,height:22,viewBox:"0 0 30 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t},n),e?Object(i.jsx)("title",{id:t},e):null,Object(i.jsx)("path",{className:"chart-icon__accent",d:"M16 1a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V1zM0 17a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1v-4zm17-9a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V9a1 1 0 00-1-1h-4zm-1 9a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4zm9-17a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V1a1 1 0 00-1-1h-4z"}),Object(i.jsx)("path",{className:"chart-icon__subdued",d:"M0 1a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V1zm0 8a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V9zm9-9a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V1a1 1 0 00-1-1H9zM8 9a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H9a1 1 0 01-1-1V9zm1 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1H9zm15-7a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V9zm1 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1h-4z"}))},function(e,t,n){n.r(t);var s=__kbnBundles__.get("plugin/visualizations/common/prepare_log_table");Object.defineProperties(t,Object.getOwnPropertyDescriptors(s))},function(e,t,n){n.r(t);var s=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(s))},function(e,t,n){n(13),__kbnBundles__.define("plugin/expressionHeatmap/public",n,15),__kbnBundles__.define("plugin/expressionHeatmap/common",n,3)},function(e,t,n){n.p=window.__kbnPublicPath__.expressionHeatmap},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return M})),n.d(t,"HeatmapIcon",(function(){return H.a}));var s=n(3),a=n(2);const[i,r]=Object(a.createGetterSetter)("fieldFormats"),[o,l]=Object(a.createGetterSetter)("palette"),[p,u]=Object(a.createGetterSetter)("charts.theme"),[c,d]=Object(a.createGetterSetter)("core.uiSettings");var h=n(5),f=n.n(h),g=n(0),m=(n(8),n(6)),b=n(11),x=n(7),_=n.n(x);var v=n(1);const y=({theme:e})=>({name:s.EXPRESSION_HEATMAP_NAME,displayName:g.i18n.translate("expressionHeatmap.visualizationName",{defaultMessage:"Heatmap"}),reuseDomNode:!0,render:async(t,s,a)=>{a.onDestroy((()=>{Object(m.unmountComponentAtNode)(t)}));const r=function(e){if(e.isDefault("dateFormat:tz"))return _.a.tz.guess()||_()().format("Z");return e.get("dateFormat:tz","Browser")}(c()),{HeatmapComponent:l}=await n.e(1).then(n.bind(null,26)),{isInteractive:u}=a;Object(m.render)(Object(v.jsx)(b.KibanaThemeProvider,{theme$:e.theme$},Object(v.jsx)("div",{className:"heatmap-container","data-test-subj":"heatmapChart"},Object(v.jsx)(l,f()({},s,{onClickValue:e=>{a.event({name:"filter",data:e})},onSelectRange:e=>{a.event({name:"brush",data:e})},timeZone:r,formatFactory:i().deserialize,chartsThemeService:p(),paletteService:o(),uiState:a.uiState,interactive:u()})))),t,(()=>{a.done()}))}});class plugin_ExpressionHeatmapPlugin{setup(e,{expressions:t,charts:n}){n.palettes.getPalettes().then((e=>{l(e)})),d(e.uiSettings),u(n.theme),t.registerFunction(s.heatmapFunction),t.registerFunction(s.heatmapLegendConfig),t.registerFunction(s.heatmapGridConfig),t.registerRenderer(y({theme:e.theme}))}start(e,{fieldFormats:t}){r(t)}}var H=n(9);function M(){return new plugin_ExpressionHeatmapPlugin}},function(e,t,n){n.r(t);var s=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(s))},function(e,t,n){n.r(t);var s=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(s))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui}]);