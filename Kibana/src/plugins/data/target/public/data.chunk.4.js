(window.data_bundle_jsonpfunction=window.data_bundle_jsonpfunction||[]).push([[4],{116:function(e,t,n){"use strict";function s(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Object.is(e[n[s]],t[n[s]]))return!1;return!0}n.d(t,"a",(function(){return s}))},121:function(e,t,n){"use strict";function s(e){let t;return(...n)=>{t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame((()=>{t=null,e(...n)}))}}n.d(t,"a",(function(){return s}))},133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(107),i=n(4),o=s.__importDefault(n(134));t.default=function(e){var t=i.useRef(0),n=i.useState(e),s=n[0],r=n[1],a=i.useCallback((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){r(e)}))}),[]);return o.default((function(){cancelAnimationFrame(t.current)})),[s,a]}},134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(107),i=n(4),o=s.__importDefault(n(135));t.default=function(e){var t=i.useRef(e);t.current=e,o.default((function(){return function(){return t.current()}}))}},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(4);t.default=function(e){s.useEffect(e,[])}},140:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return suggestions_component_SuggestionsComponent}));var s=n(3),i=n.n(s),o=n(1),r=n(4),a=n.n(r),u=n(106),c=n.n(u),l=n(111),d=n.n(l),p=n(133),f=n.n(p),g=n(14);function h(e){switch(e){case"field":return"kqlField";case"value":return"kqlValue";case"recentSearch":return"search";case"conjunction":return"kqlSelector";case"operator":return"kqlOperand";default:throw new Error(`Unknown type: ${e}`)}}const m=a.a.memo((function(e){const{index:t,innerRef:n,onClick:s,onMouseEnter:i,suggestion:o}=e,u=Object(r.useCallback)((e=>{n(t,e)}),[t,n]),l=Object(r.useCallback)((()=>{s(o,t)}),[t,s,o]),d=Object(r.useCallback)((()=>{i(o,t)}),[t,i,o]);return a.a.createElement("div",{className:c()({kbnTypeahead__item:!0,active:e.selected}),role:"option",onMouseEnter:d,onClick:l,ref:u,id:e.ariaId,"aria-selected":e.selected,"data-test-subj":`autocompleteSuggestion-${e.suggestion.type}-${e.suggestion.text.replace(/\s/g,"-")}`},a.a.createElement("div",{className:c()({kbnSuggestionItem:!0,["kbnSuggestionItem--"+e.suggestion.type]:!0})},a.a.createElement("div",{className:"kbnSuggestionItem__type"},a.a.createElement(g.EuiIcon,{type:h(e.suggestion.type)})),a.a.createElement("div",{className:"kbnSuggestionItem__text","data-test-subj":"autoCompleteSuggestionText"},e.suggestion.text),e.shouldDisplayDescription&&a.a.createElement("div",{className:"kbnSuggestionItem__description","data-test-subj":"autoCompleteSuggestionDescription"},e.suggestion.description)))}));var b=n(121),v=n(116);class suggestions_component_SuggestionsComponent extends r.PureComponent{constructor(e){super(e),i()(this,"childNodes",[]),i()(this,"parentNode",null),i()(this,"scrollIntoView",Object(b.a)((()=>{if(null===this.props.index)return;const e=this.parentNode,t=this.childNodes[this.props.index];if(null==this.props.index||!e||!t)return;const n=Math.max(Math.min(e.scrollTop,t.offsetTop),t.offsetTop+t.offsetHeight-e.offsetHeight);e.scrollTop=n}))),i()(this,"handleScroll",Object(b.a)((()=>{if(!this.props.loadMore||!this.parentNode)return;const e=this.parentNode.scrollTop+this.parentNode.offsetHeight,t=this.parentNode.scrollHeight;t&&e&&t-e<=50&&this.props.loadMore()}))),this.assignParentNode=this.assignParentNode.bind(this),this.assignChildNode=this.assignChildNode.bind(this)}assignParentNode(e){this.parentNode=e}assignChildNode(e,t){this.childNodes[e]=t}render(){if(!this.props.inputContainer||!this.props.show||Object(o.isEmpty)(this.props.suggestions))return null;const e=e=>{const t=e>=600;return this.props.suggestions.map(((e,n)=>a.a.createElement(m,{innerRef:this.assignChildNode,selected:n===this.props.index,index:n,suggestion:e,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,ariaId:"suggestion-"+n,key:`${e.type} - ${e.text}`,shouldDisplayDescription:t})))};return a.a.createElement(_,{inputContainer:this.props.inputContainer,suggestionsSize:this.props.size},(t=>a.a.createElement("div",{id:"kbnTypeahead__items",role:"listbox",ref:this.assignParentNode,onScroll:this.handleScroll},e(t.width))))}componentDidUpdate(e){e.index!==this.props.index&&this.scrollIntoView()}}const w=d.a.div.withConfig({displayName:"StyledSuggestionsListDiv",componentId:"sc-8s3ge7-0"})(["",""],(e=>`\n      position: absolute;\n      z-index: 4001;\n      left: ${e.left}px;\n      width: ${e.width}px;\n      ${e.verticalListPosition}`)),_=a.a.memo((e=>{const t=e.inputContainer,[{documentHeight:n},{pageYOffset:s},i]=function(e){const[t,n]=f()((()=>document.documentElement.clientHeight||window.innerHeight)),[s,i]=f()((()=>({pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset}))),[o,r]=f()((()=>{var t;return null!==(t=null==e?void 0:e.getBoundingClientRect())&&void 0!==t?t:null})),u=a.a.useCallback((()=>{r((t=>{var n;const s=null!==(n=null==e?void 0:e.getBoundingClientRect())&&void 0!==n?n:null;return Object(v.a)(null==t?void 0:t.toJSON(),null==s?void 0:s.toJSON())?t:s}))}),[e,r]);return a.a.useEffect((()=>{const e=()=>{n(document.documentElement.clientHeight||window.innerHeight)};return window.addEventListener("resize",e,{passive:!0}),()=>{window.removeEventListener("resize",e)}}),[n]),a.a.useEffect((()=>{const t=()=>{i((e=>{const{pageXOffset:t,pageYOffset:n}=window;return e.pageXOffset!==t||e.pageYOffset!==n?{pageXOffset:t,pageYOffset:n}:e})),u()};window.addEventListener("scroll",t,{passive:!0,capture:!0});const n=void 0!==window.ResizeObserver&&new ResizeObserver((()=>{u()}));return e&&n&&n.observe(e),()=>{window.removeEventListener("scroll",t,{capture:!0}),n&&n.disconnect()}}),[i,e,u]),[{documentHeight:t},s,o]}(t);if(!i)return null;const o=n-(i.top+i.height)>250,r=o?`top: ${s+i.bottom-0}px;`:`bottom: ${n-(s+i.top)}px;`;return a.a.createElement(w,{left:i.left,width:i.width,verticalListPosition:r},a.a.createElement("div",{className:c()("kbnTypeahead",{"kbnTypeahead--small":"s"===e.suggestionsSize})},a.a.createElement("div",{className:c()("kbnTypeahead__popover",{"kbnTypeahead__popover--bottom":o,"kbnTypeahead__popover--top":!o})},e.children(i))))}))}}]);