/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=0,c=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={7:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"infra.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=o;i(i.s=52)}([function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),u=o.either.map,s=o.either.chain,c=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,r){var i=this;return void 0===r&&(r="pipe("+this.name+", "+n.name+")"),new e(r,n.is,(function(e,t){return s(i.validate(e,t),(function(e){return n.validate(e,t)}))}),this.encode===t.identity&&n.encode===t.identity?t.identity:function(e){return i.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,n,r){for(var i=e.length,a=Array(i+1),o=0;o<i;o++)a[o]=e[o];return a[i]={key:t,type:n,actual:r},a},t.failures=o.left,t.failure=function(e,n,r){return t.failures([{value:e,context:n,message:r}])},t.success=o.right;var l=function(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])},f=function(e){return function(t){return t._tag===e}},p=f("AnyType"),d=f("InterfaceType"),g=f("PartialType"),h=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NullType",n}return i(n,e),n}(c);t.NullType=h,t.nullType=new h,t.null=t.nullType;var m=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="UndefinedType",n}return i(n,e),n}(c);t.UndefinedType=m;var y=new m;t.undefined=y;var b=function(e){function n(){var n=e.call(this,"void",y.is,y.validate,t.identity)||this;return n._tag="VoidType",n}return i(n,e),n}(c);t.VoidType=b,t.voidType=new b,t.void=t.voidType;var v=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return n._tag="UnknownType",n}return i(n,e),n}(c);t.UnknownType=v,t.unknown=new v;var _=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="StringType",n}return i(n,e),n}(c);t.StringType=_,t.string=new _;var E=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NumberType",n}return i(n,e),n}(c);t.NumberType=E,t.number=new E;var T=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="BooleanType",n}return i(n,e),n}(c);t.BooleanType=T,t.boolean=new T;var R=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyArrayType",n}return i(n,e),n}(c);t.AnyArrayType=R,t.UnknownArray=new R,t.Array=t.UnknownArray;var A=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyDictionaryType",n}return i(n,e),n}(c);t.AnyDictionaryType=A,t.UnknownRecord=new A;var O=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="FunctionType",n}return i(n,e),n}(c);t.FunctionType=O,t.Function=new O;var L=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i)||this;return u.type=a,u.predicate=o,u._tag="RefinementType",u}return i(t,e),t}(c);t.RefinementType=L,t.brand=function(e,t,n){return Z(e,t,n)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var k=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.value=a,o._tag="LiteralType",o}return i(t,e),t}(c);t.LiteralType=k,t.literal=function(e,n){void 0===n&&(n=JSON.stringify(e));var r=function(t){return t===e};return new k(n,r,(function(n,i){return r(n)?t.success(e):t.failure(n,i)}),t.identity,e)};var S=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.keys=a,o._tag="KeyofType",o}return i(t,e),t}(c);t.KeyofType=S;var w=Object.prototype.hasOwnProperty;t.keyof=function(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var r=function(n){return t.string.is(n)&&w.call(e,n)};return new S(n,r,(function(e,n){return r(e)?t.success(e):t.failure(e,n)}),t.identity,e)};var x=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.runDefinition=a,o._tag="RecursiveType",o}return i(t,e),t}(c);t.RecursiveType=x,Object.defineProperty(x.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var n,r=function(){return n||((n=t(i)).name=e),n},i=new x(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return i};var M=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ArrayType",o}return i(t,e),t}(c);t.ArrayType=M,t.array=function(e,n){return void 0===n&&(n="Array<"+e.name+">"),new M(n,(function(n){return t.UnknownArray.is(n)&&n.every(e.is)}),(function(n,r){return s(t.UnknownArray.validate(n,r),(function(n){for(var i=n.length,a=n,u=[],s=0;s<i;s++){var c=n[s],f=e.validate(c,t.appendContext(r,String(s),e,c));if(o.isLeft(f))l(u,f.left);else{var p=f.right;p!==c&&(a===n&&(a=n.slice()),a[s]=p)}}return u.length>0?t.failures(u):t.success(a)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var U=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="InterfaceType",o}return i(t,e),t}(c);t.InterfaceType=U;var I=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},C=function(e){for(var n=0;n<e.length;n++)if(e[n].encode!==t.identity)return!1;return!0},j=function(e){return"{ "+I(e)+" }"};t.type=function(e,n){void 0===n&&(n=j(e));var r=Object.keys(e),i=r.map((function(t){return e[t]})),u=r.length;return new U(n,(function(e){if(t.UnknownRecord.is(e)){for(var n=0;n<u;n++){var a=r[n];if(!w.call(e,a)||!i[n].is(e[a]))return!1}return!0}return!1}),(function(e,n){return s(t.UnknownRecord.validate(e,n),(function(e){for(var s=e,c=[],f=0;f<u;f++){var p=r[f];w.call(s,p)||(s===e&&(s=a({},e)),s[p]=s[p]);var d=s[p],g=i[f],h=g.validate(d,t.appendContext(n,p,g,d));if(o.isLeft(h))l(c,h.left);else{var m=h.right;m!==d&&(s===e&&(s=a({},e)),s[p]=m)}}return c.length>0?t.failures(c):t.success(s)}))}),C(i)?t.identity:function(e){for(var n=a({},e),o=0;o<u;o++){var s=r[o],c=i[o].encode;c!==t.identity&&(n[s]=c(e[s]))}return n},e)},t.interface=t.type;var N=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="PartialType",o}return i(t,e),t}(c);t.PartialType=N;var P=function(e){return"Partial<"+e+">"};t.partial=function(e,n){void 0===n&&(n=P(j(e)));var r=Object.keys(e),i=r.map((function(t){return e[t]})),u=r.length;return new N(n,(function(n){if(t.UnknownRecord.is(n)){for(var i=0;i<u;i++){var a=r[i],o=n[a];if(void 0!==o&&!e[a].is(o))return!1}return!0}return!1}),(function(n,i){return s(t.UnknownRecord.validate(n,i),(function(n){for(var s=n,c=[],f=0;f<u;f++){var p=r[f],d=s[p],g=e[p],h=g.validate(d,t.appendContext(i,p,g,d));if(o.isLeft(h))void 0!==d&&l(c,h.left);else{var m=h.right;m!==d&&(s===n&&(s=a({},n)),s[p]=m)}}return c.length>0?t.failures(c):t.success(s)}))}),C(i)?t.identity:function(e){for(var t=a({},e),n=0;n<u;n++){var o=r[n],s=e[o];void 0!==s&&(t[o]=i[n].encode(s))}return t},e)};var D=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i)||this;return u.domain=a,u.codomain=o,u._tag="DictionaryType",u}return i(t,e),t}(c);t.DictionaryType=D,t.record=function(e,n,r){return void 0===r&&(r="{ [K in "+e.name+"]: "+n.name+" }"),new D(r,(function(r){return t.UnknownRecord.is(r)?Object.keys(r).every((function(t){return e.is(t)&&n.is(r[t])})):p(n)&&Array.isArray(r)}),(function(r,i){if(t.UnknownRecord.is(r)){for(var a={},u=[],s=Object.keys(r),c=s.length,f=!1,d=0;d<c;d++){var g=s[d],h=r[g],m=e.validate(g,t.appendContext(i,g,e,g));if(o.isLeft(m))l(u,m.left);else{var y=m.right;f=f||y!==g,g=y;var b=n.validate(h,t.appendContext(i,g,n,h));if(o.isLeft(b))l(u,b.left);else{var v=b.right;f=f||v!==h,a[g]=v}}}return u.length>0?t.failures(u):t.success(f?a:r)}return p(n)&&Array.isArray(r)?t.success(r):t.failure(r,i)}),e.encode===t.identity&&n.encode===t.identity?t.identity:function(t){for(var r={},i=Object.keys(t),a=i.length,o=0;o<a;o++){var u=i[o];r[String(e.encode(u))]=n.encode(t[u])}return r},e,n)};var F=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="UnionType",o}return i(t,e),t}(c);t.UnionType=F;var q=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,n){void 0===n&&(n=q(e));var r=ae(e);if(void 0!==r&&e.length>0){var i=r[0],a=r[1],u=a.length,c=function(e){for(var t=0;t<u;t++)if(-1!==a[t].indexOf(e))return t};return new G(n,(function(n){if(t.UnknownRecord.is(n)){var r=c(n[i]);return void 0!==r&&e[r].is(n)}return!1}),(function(n,r){return s(t.UnknownRecord.validate(n,r),(function(a){var o=c(a[i]);if(void 0===o)return t.failure(n,r);var u=e[o];return u.validate(a,t.appendContext(r,String(o),u,a))}))}),C(e)?t.identity:function(t){var r=c(t[i]);if(void 0===r)throw new Error("no codec found to encode value in union codec "+n);return e[r].encode(t)},e,i)}return new F(n,(function(t){return e.some((function(e){return e.is(t)}))}),(function(n,r){for(var i=[],a=0;a<e.length;a++){var u=e[a],s=u.validate(n,t.appendContext(r,String(a),u,n));if(!o.isLeft(s))return t.success(s.right);l(i,s.left)}return t.failures(i)}),C(e)?t.identity:function(t){for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.is(t))return a.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)};var W=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="IntersectionType",o}return i(t,e),t}(c);t.IntersectionType=W;var $=function(e,n){for(var r=!0,i=!0,a=0,o=n;a<o.length;a++){(l=o[a])!==e&&(r=!1),t.UnknownRecord.is(l)&&(i=!1)}if(r)return e;if(i)return n[n.length-1];for(var u={},s=0,c=n;s<c.length;s++){var l=c[s];for(var f in l)l[f]===e[f]&&u.hasOwnProperty(f)||(u[f]=l[f])}return u};t.intersection=function(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var r=e.length;return new W(n,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(n,i){for(var a=[],u=[],s=0;s<r;s++){var c=e[s],f=c.validate(n,t.appendContext(i,String(s),c,n));o.isLeft(f)?l(u,f.left):a.push(f.right)}return u.length>0?t.failures(u):t.success($(n,a))},0===e.length?t.identity:function(t){return $(t,e.map((function(e){return e.encode(t)})))},e)};var V=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="TupleType",o}return i(t,e),t}(c);t.TupleType=V,t.tuple=function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var r=e.length;return new V(n,(function(n){return t.UnknownArray.is(n)&&n.length===r&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,i){return s(t.UnknownArray.validate(n,i),(function(n){for(var a=n.length>r?n.slice(0,r):n,u=[],s=0;s<r;s++){var c=n[s],f=e[s],p=f.validate(c,t.appendContext(i,String(s),f,c));if(o.isLeft(p))l(u,p.left);else{var d=p.right;d!==c&&(a===n&&(a=n.slice()),a[s]=d)}}return u.length>0?t.failures(u):t.success(a)}))}),C(e)?t.identity:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)};var B=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyType",o}return i(t,e),t}(c);t.ReadonlyType=B,t.readonly=function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new B(n,e.is,(function(t,n){return u(e.validate(t,n),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var H=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyArrayType",o}return i(t,e),t}(c);t.ReadonlyArrayType=H,t.readonlyArray=function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var r=t.array(e);return new H(n,r.is,(function(e,t){return u(r.validate(e,t),(function(e){return e}))}),r.encode,e)},t.strict=function(e,n){return t.exact(t.type(e),n)};var G=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i,a)||this;return u.tag=o,u}return i(t,e),t}(F);t.TaggedUnionType=G,t.taggedUnion=function(e,n,r){void 0===r&&(r=q(n));var i=t.union(n,r);return i instanceof G?i:(console.warn("[io-ts] Cannot build a tagged union for "+r+", returning a de-optimized union"),new G(r,i.is,i.validate,i.encode,n,e))};var K=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ExactType",o}return i(t,e),t}(c);t.ExactType=K;var Q=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return Q(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,Q(t))}),{})}},z=function(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,i={},a=0;a<n.length;a++){var o=n[a];w.call(t,o)?i[o]=e[o]:r=!0}return r?i:e};t.exact=function(e,n){void 0===n&&(n=function(e){return d(e)?"{| "+I(e.props)+" |}":g(e)?P("{| "+I(e.props)+" |}"):"Exact<"+e.name+">"}(e));var r=Q(e);return new K(n,e.is,(function(n,i){return s(t.UnknownRecord.validate(n,i),(function(){return u(e.validate(n,i),(function(e){return z(e,r)}))}))}),(function(t){return e.encode(z(t,r))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var Y=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return t.failure(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return i(n,e),n}(c);t.NeverType=Y,t.never=new Y;var J=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return n._tag="AnyType",n}return i(n,e),n}(c);t.AnyType=J,t.any=new J,t.Dictionary=t.UnknownRecord;var X=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="ObjectType",n}return i(n,e),n}(c);function Z(e,n,r){return void 0===r&&(r="("+e.name+" | "+t.getFunctionName(n)+")"),new L(r,(function(t){return e.is(t)&&n(t)}),(function(r,i){return s(e.validate(r,i),(function(e){return n(e)?t.success(e):t.failure(e,i)}))}),e.encode,e,n)}t.ObjectType=X,t.object=new X,t.refinement=Z,t.Integer=Z(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="StrictType",o}return i(t,e),t}(c);t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}};function te(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];-1!==t.indexOf(a)&&n.push(a)}return n}function ne(e){return"LiteralType"===e._tag}t.emptyTags={};var re=[];function ie(e){if(-1!==re.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var n=t.emptyTags;for(var r in e.props){var i=e.props[r];ne(i)&&(n===t.emptyTags&&(n={}),n[r]=[i.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ie(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===t.emptyTags)return n;if(n===t.emptyTags)return e;var r=Object.assign({},e);for(var i in n)if(e.hasOwnProperty(i)){var a=te(e[i],n[i]);if(!(a.length>0)){r=t.emptyTags;break}r[i]=a}else r[i]=n[i];return r}(e,ie(n))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===t.emptyTags||n===t.emptyTags)return t.emptyTags;var r=t.emptyTags;for(var i in e)n.hasOwnProperty(i)&&0===te(e[i],n[i]).length&&(r===t.emptyTags&&(r={}),r[i]=e[i].concat(n[i]));return r}(e,ie(n))}),ie(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){re.push(e);var a=ie(e.type);return re.pop(),a}return t.emptyTags}function ae(e){var t=ie(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),a=[t[n]],o=1;o<r;o++){var u=ie(e[o])[n];if(void 0===u)return"continue-keys";if(u.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,u),a.push(u)}return{value:[n,a]}};e:for(var a=0,o=n;a<o.length;a++){var u=i(o[a]);if("object"==typeof u)return u.value;switch(u){case"continue-keys":continue e}}}t.getTags=ie,t.getIndex=ae},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=n(56);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var a=n(57);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(58);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return f}));const r="default",i="metrics-*,metricbeat-*",a="metrics",o="logs",u="@timestamp",s="_doc",c="host.name",l="container.id",f="kubernetes.pod.uid"},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return c}));var r=n(0);const i="metrics.alert.threshold",a="metrics.alert.inventory.threshold";let o,u,s;!function(e){e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.OUTSIDE_RANGE="outside"}(o||(o={})),function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e.RATE="rate",e.CARDINALITY="cardinality",e.P95="p95",e.P99="p99"}(u||(u={})),function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.WARNING=2]="WARNING",e[e.NO_DATA=3]="NO_DATA",e[e.ERROR=4]="ERROR"}(s||(s={}));r.union([r.literal("hosts"),r.literal("k8s")]),r.union([r.literal("memory_usage"),r.literal("network_in"),r.literal("network_out")]),r.type({fieldName:r.string,fieldValue:r.string});const c=Symbol("QUERY_INVALID")},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o.a})),n.d(t,"c",(function(){return s}));var r=n(0);const i=r.intersection([r.type({statusCode:r.literal(400),error:r.literal("Bad Request"),message:r.string}),r.partial({attributes:r.unknown})]),a=r.intersection([r.type({statusCode:r.literal(403),error:r.literal("Forbidden"),message:r.string}),r.partial({attributes:r.unknown})]);r.intersection([r.type({statusCode:r.literal(409),error:r.literal("Conflict"),message:r.string}),r.partial({attributes:r.unknown})]),r.type({avg:r.union([r.number,r.null]),count:r.number,max:r.union([r.number,r.null]),min:r.union([r.number,r.null]),sum:r.number});var o=n(40);n(41);const u=r.type({duration:r.number,id:r.string,name:r.string,start:r.number}),s=r.type({spans:r.array(u)})},function(e,t,n){"use strict";n.d(t,"d",(function(){return ResolveLogSourceConfigurationError})),n.d(t,"a",(function(){return FetchLogSourceConfigurationError})),n.d(t,"b",(function(){return FetchLogSourceStatusError})),n.d(t,"c",(function(){return PatchLogSourceConfigurationError})),n.d(t,"f",(function(){return r.b})),n.d(t,"e",(function(){return r.a})),n.d(t,"g",(function(){return r.c})),n.d(t,"h",(function(){return a}));class ResolveLogSourceConfigurationError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="ResolveLogSourceConfigurationError"}}class FetchLogSourceConfigurationError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogSourceConfigurationError"}}class FetchLogSourceStatusError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="FetchLogSourceStatusError"}}class PatchLogSourceConfigurationError extends Error{constructor(e,t){super(e),this.cause=t,Object.setPrototypeOf(this,new.target.prototype),this.name="PatchLogSourceConfigurationError"}}var r=n(11),i=n(5);const a=async(e,t)=>"index_name"===e.logIndices.type?await o(e,t):await u(e,t),o=async(e,t)=>{if("index_name"!==e.logIndices.type)throw new Error("This function can only resolve legacy references");const n=e.logIndices.indexName,r=await t.getFieldsForWildcard({pattern:n,allowNoIndex:!0}).catch((e=>{throw new ResolveLogSourceConfigurationError(`Failed to fetch fields for indices "${n}": ${e}`,e)}));return{indices:e.logIndices.indexName,timestampField:i.i,tiebreakerField:i.h,messageField:e.fields.message,fields:r,runtimeMappings:{},columns:e.logColumns,name:e.name,description:e.description}},u=async(e,t)=>{var n;if("index_pattern"!==e.logIndices.type)throw new Error("This function can only resolve Kibana Index Pattern references");const{indexPatternId:r}=e.logIndices,a=await t.get(r).catch((e=>{throw new ResolveLogSourceConfigurationError(`Failed to fetch index pattern "${r}": ${e}`,e)}));return{indices:a.title,timestampField:null!==(n=a.timeFieldName)&&void 0!==n?n:i.i,tiebreakerField:i.h,messageField:["message"],fields:a.fields,runtimeMappings:s(a),columns:e.logColumns,name:e.name,description:e.description}},s=e=>{const{runtimeFields:t}=e.getComputedFields();return Object.entries(t).reduce(((e,[t,n])=>({...e,[t]:{type:n.type,...null!=n.script?{script:{lang:"painless",source:n.script.source}}:{}}})),{})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return _})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"f",(function(){return w})),n.d(t,"i",(function(){return P}));var r=n(1),i=n(0);const a=i.type({_shards:i.type({total:i.number,successful:i.number,skipped:i.number,failed:i.number}),timed_out:i.boolean,took:i.number}),o="logs.alert.document.count";i.keyof({count:null,ratio:null});let u;!function(e){e.GT="more than",e.GT_OR_EQ="more than or equals",e.LT="less than",e.LT_OR_EQ="less than or equals",e.EQ="equals",e.NOT_EQ="does not equal",e.MATCH="matches",e.NOT_MATCH="does not match",e.MATCH_PHRASE="matches phrase",e.NOT_MATCH_PHRASE="does not match phrase"}(u||(u={}));const s=i.keyof({[u.GT]:null,[u.GT_OR_EQ]:null,[u.LT]:null,[u.LT_OR_EQ]:null,[u.EQ]:null,[u.NOT_EQ]:null,[u.MATCH]:null,[u.NOT_MATCH]:null,[u.MATCH_PHRASE]:null,[u.NOT_MATCH_PHRASE]:null}),c={[u.GT]:r.i18n.translate("xpack.infra.logs.alerting.comparator.gt",{defaultMessage:"more than"}),[u.GT_OR_EQ]:r.i18n.translate("xpack.infra.logs.alerting.comparator.gtOrEq",{defaultMessage:"more than or equals"}),[u.LT]:r.i18n.translate("xpack.infra.logs.alerting.comparator.lt",{defaultMessage:"less than"}),[u.LT_OR_EQ]:r.i18n.translate("xpack.infra.logs.alerting.comparator.ltOrEq",{defaultMessage:"less than or equals"}),[u.EQ]:r.i18n.translate("xpack.infra.logs.alerting.comparator.eq",{defaultMessage:"is"}),[u.NOT_EQ]:r.i18n.translate("xpack.infra.logs.alerting.comparator.notEq",{defaultMessage:"is not"}),[`${u.EQ}:number`]:r.i18n.translate("xpack.infra.logs.alerting.comparator.eqNumber",{defaultMessage:"equals"}),[`${u.NOT_EQ}:number`]:r.i18n.translate("xpack.infra.logs.alerting.comparator.notEqNumber",{defaultMessage:"does not equal"}),[u.MATCH]:r.i18n.translate("xpack.infra.logs.alerting.comparator.match",{defaultMessage:"matches"}),[u.NOT_MATCH]:r.i18n.translate("xpack.infra.logs.alerting.comparator.notMatch",{defaultMessage:"does not match"}),[u.MATCH_PHRASE]:r.i18n.translate("xpack.infra.logs.alerting.comparator.matchPhrase",{defaultMessage:"matches phrase"}),[u.NOT_MATCH_PHRASE]:r.i18n.translate("xpack.infra.logs.alerting.comparator.notMatchPhrase",{defaultMessage:"does not match phrase"})};u.GT,u.GT_OR_EQ,u.LT,u.LT_OR_EQ,u.EQ,u.NOT_EQ,u.EQ,u.NOT_EQ,u.MATCH,r.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.match",{defaultMessage:"matches"}),u.NOT_MATCH,r.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.notMatch",{defaultMessage:"does not match"}),u.MATCH_PHRASE,r.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.matchPhrase",{defaultMessage:"matches phrase"}),u.NOT_MATCH_PHRASE,r.i18n.translate("xpack.infra.logs.alerting.comparator.symbol.notMatchPhrase",{defaultMessage:"does not match phrase"});let l;!function(e){e[e.OK=0]="OK",e[e.ALERT=1]="ALERT",e[e.NO_DATA=2]="NO_DATA",e[e.ERROR=3]="ERROR"}(l||(l={}));const f=i.type({comparator:s,value:i.number}),p=i.type({field:i.string,comparator:s,value:i.union([i.string,i.number])}),d=i.partial(p.props),g=i.array(p),h=i.array(d),m=i.tuple([g,g]),y=i.tuple([h,h]),b=(i.union([h,y]),i.union([i.literal("s"),i.literal("m"),i.literal("h"),i.literal("d")])),v=i.number,_=i.array(i.string),E=i.type({count:f,timeUnit:b,timeSize:v}),T=(i.partial(E.props),i.partial({groupBy:_})),R=i.intersection([i.type({criteria:g,...E.props}),i.partial({...T.props})]),A=i.intersection([i.type({criteria:h,...E.props}),i.partial({...T.props})]),O=i.intersection([i.type({criteria:m,...E.props}),i.partial({...T.props})]),L=i.intersection([i.type({criteria:y,...E.props}),i.partial({...T.props})]),k=(i.union([R,O]),i.union([A,L]),e=>!!(e.length>0&&Array.isArray(e[0]))),S=e=>e[0],w=e=>e[1],x=i.type({key:i.number,doc_count:i.number}),M=i.partial({histogramBuckets:i.type({buckets:i.array(x)})}),U=i.type({total:i.type({value:i.number})}),I=i.type({key:i.record(i.string,i.string),doc_count:i.number}),C=i.partial({after_key:i.record(i.string,i.string)}),j=(i.intersection([a,i.intersection([i.type({hits:U}),i.partial({aggregations:M})])]),i.intersection([a,i.type({aggregations:i.type({groups:i.intersection([i.type({buckets:i.array(i.type({...I.props,filtered_results:i.intersection([i.type({doc_count:i.number}),M])}))}),C])}),hits:U})])),N=i.intersection([a,i.type({aggregations:i.type({groups:i.intersection([i.type({buckets:i.array(i.intersection([I,M]))}),C])}),hits:U})]),P=(i.union([j,N]),(e,t)=>e===u.GT||"number"==typeof t&&e===u.GT_OR_EQ&&t>0)},function(e,t,n){e.exports=n(29)(129)},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h}));var r=n(0);const i=r.keyof({fallback:null,internal:null,stored:null}),a=r.strict({message:r.array(r.string)}),o=r.strict({id:r.string}),u=r.strict({timestampColumn:o}),s=r.strict({messageColumn:o}),c=r.strict({fieldColumn:r.intersection([o,r.strict({field:r.string})])}),l=r.union([u,s,c]),f=r.type({type:r.literal("index_pattern"),indexPatternId:r.string}),p=r.type({type:r.literal("index_name"),indexName:r.string}),d=r.union([f,p]),g=r.strict({name:r.string,description:r.string,logIndices:d,fields:a,logColumns:r.array(l)}),h=r.exact(r.intersection([r.type({id:r.string,origin:i,configuration:g}),r.partial({updatedAt:r.number,version:r.string})]))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>Number(e).toLocaleString("en",{maximumFractionDigits:1})},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){e.exports=n(29)(2)},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return s}));var r=n(0),i=n(7),a=n(11);r.type({sourceId:r.string});const o=r.intersection([r.type({data:a.f}),r.partial({timing:i.c})]),u=r.union([i.a,i.b]),s=(r.union([o,u]),e=>`/api/infra/log_source_configurations/${e}`),c=e=>`${s(e)}/status`,l=(r.type({sourceId:r.string}),r.strict({name:r.string,type:r.string,searchable:r.boolean,aggregatable:r.boolean}),r.keyof({missing:null,empty:null,available:null})),f=r.strict({logIndexStatus:l}),p=r.intersection([r.type({data:f}),r.partial({timing:i.c})]),d=(r.type({sourceId:r.string}),r.partial({...a.e.type.props,fields:r.partial(a.e.type.props.fields.type.props)})),g=r.type({data:d}),h=o;r.union([h,i.a,i.b])},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(21),i=n(22),a=n(28),o=n(0);const u=([e,...t])=>{if(void 0===e)return[];if(e.type instanceof o.IntersectionType){const[,...e]=t;return u(e)}if(e.type instanceof o.UnionType){const[,...n]=t;return[e.key,...u(n)]}return[e.key,...u(t)]},s=e=>`Failed to validate: \n${e.map((e=>`  ${(e=>{var t;return null!==(t=e.message)&&void 0!==t?t:`in ${u(e.context).join("/")}: ${JSON.stringify(e.value)} does not match expected type ${(({context:e})=>{var t,n,r;return null!==(t=null===(n=e[e.length-1])||void 0===n||null===(r=n.type)||void 0===r?void 0:r.name)&&void 0!==t?t:"unknown"})(e)}`})(e)}`)).join("\n")}`,c=e=>new Error(e),l=e=>t=>{throw e(s(t))},f=(e,t=c)=>n=>Object(a.pipe)(e.decode(n),Object(r.fold)(l(t),i.identity))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(4);const i=(e,t)=>Object(r.createKibanaReactContext)({...e,...t}),a=r.useKibana},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var r=n(54),i=n(22);function a(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=a,t.parseJSON=function(e,t){return a((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return a((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(r){return e(r)?t.right(r):t.left(n(r))}},t.fold=function(e,n){return function(r){return t.isLeft(r)?e(r.left):n(r.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(r){return e(r)?t.right(r):t.left(n(r))}))};var o=function(e,n){return i.pipe(e,t.map(n))},u=function(e,n){return i.pipe(e,t.ap(n))},s=function(e,n){return i.pipe(e,t.chain(n))},c=function(e,n,r){return i.pipe(e,t.reduce(n,r))},l=function(e){return function(n,r){var a=t.foldMap(e);return i.pipe(n,a(r))}},f=function(e,n,r){return i.pipe(e,t.reduceRight(n,r))},p=function(e){var n=t.traverse(e);return function(e,t){return i.pipe(e,n(t))}},d=function(e,n,r){return i.pipe(e,t.bimap(n,r))},g=function(e,n){return i.pipe(e,t.mapLeft(n))},h=function(e,n){return i.pipe(e,t.alt(n))},m=function(e,n){return i.pipe(e,t.extend(n))},y=function(e,n){return r.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function b(e){return{concat:function(n,r){return t.isLeft(n)?n:t.isLeft(r)?r:t.right(e.concat(n.right,r.right))}}}function v(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:o,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,r){return t.isLeft(e)||r(e.right)?e:n},filterMap:function(e,r){if(t.isLeft(e))return e;var i=r(e.right);return"None"===i._tag?n:t.right(i.value)},partition:function(e,r){return t.isLeft(e)?{left:e,right:e}:r(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,r){if(t.isLeft(e))return{left:e,right:e};var i=r(e.right);return t.isLeft(i)?{left:t.right(i.left),right:n}:{left:n,right:t.right(i.right)}}}}function _(e){return{URI:t.URI,_E:void 0,map:o,ap:function(n,r){return t.isLeft(n)?t.isLeft(r)?t.left(e.concat(n.left,r.left)):n:t.isLeft(r)?r:t.right(n.right(r.right))},of:t.of}}function E(e){return{URI:t.URI,_E:void 0,map:o,alt:function(n,r){if(t.isRight(n))return n;var i=r();return t.isLeft(i)?t.left(e.concat(n.left,i.left)):i}}}function T(e,n){return{concat:function(r,i){return t.isLeft(r)?t.isLeft(i)?t.left(e.concat(r.left,i.left)):r:t.isLeft(i)?i:t.right(n.concat(r.right,i.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(r){return t.isLeft(r)?t.left(e(r.left)):t.right(n(r.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return i.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return i.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return i.pipe(n,t.chainW((function(n){return i.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(i.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(i.identity),t.reduce=function(e,n){return function(r){return t.isLeft(r)?e:n(e,r.right)}},t.foldMap=function(e){return function(n){return function(r){return t.isLeft(r)?e.empty:n(r.right)}}},t.reduceRight=function(e,n){return function(r){return t.isLeft(r)?e:n(r.right,e)}},t.traverse=function(e){return function(n){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(r){return t.isLeft(r)?"left("+e.show(r.left)+")":"right("+n.show(r.right)+")"}}},t.getEq=function(e,n){return{equals:function(r,i){return r===i||(t.isLeft(r)?t.isLeft(i)&&e.equals(r.left,i.left):t.isRight(i)&&n.equals(r.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(n,r){return t.isLeft(r)?n:t.isLeft(n)?r:t.right(e.concat(n.right,r.right))}}},t.getApplySemigroup=b,t.getApplyMonoid=function(e){return{concat:b(e).concat,empty:t.right(e.empty)}},t.getFilterable=v,t.getWitherable=function(e){var n=v(e);return{URI:t.URI,_E:void 0,map:o,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:l,reduceRight:f,wither:function(e){var t=p(e);return function(r,i){return e.map(t(r,i),n.compact)}},wilt:function(e){var t=p(e);return function(r,i){return e.map(t(r,i),n.separate)}}}},t.getApplicativeValidation=_,t.getAltValidation=E,t.getValidation=function(e){var n=_(e),r=E(e);return{URI:t.URI,_E:void 0,map:o,of:t.of,chain:s,bimap:d,mapLeft:g,reduce:c,foldMap:l,reduceRight:f,extend:m,traverse:p,sequence:t.sequence,chainRec:y,throwError:t.throwError,ap:n.ap,alt:r.alt}},t.getValidationSemigroup=T,t.Functor={URI:t.URI,map:o},t.Applicative={URI:t.URI,map:o,ap:u,of:t.of},t.Monad={URI:t.URI,map:o,ap:u,of:t.of,chain:s},t.Foldable={URI:t.URI,reduce:c,foldMap:l,reduceRight:f},t.Traversable={URI:t.URI,map:o,reduce:c,foldMap:l,reduceRight:f,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:d,mapLeft:g},t.Alt={URI:t.URI,map:o,alt:h},t.Extend={URI:t.URI,map:o,extend:m},t.ChainRec={URI:t.URI,map:o,ap:u,chain:s,chainRec:y},t.MonadThrow={URI:t.URI,map:o,ap:u,of:t.of,chain:s,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:T(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:o,of:t.of,ap:u,chain:s,reduce:c,foldMap:l,reduceRight:f,traverse:p,sequence:t.sequence,bimap:d,mapLeft:g,alt:h,extend:m,chainRec:y,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,r){return!t.isLeft(r)&&e.equals(n,r.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(i.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(r){return i.pipe(n(r),t.map((function(t){return i.bind_(r,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return i.flow(t.map((function(t){return function(n){return i.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},function(e,t,n){"use strict";function r(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=r,t.unsafeCoerce=r,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,r,i,a,o,u,s){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return s(u(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,i,a,o,u,s,c,l,f,p,d,g,h,m,y,b,v){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return u(o(a(i(r(n(t(e)))))));case 9:return s(u(o(a(i(r(n(t(e))))))));case 10:return c(s(u(o(a(i(r(n(t(e)))))))));case 11:return l(c(s(u(o(a(i(r(n(t(e))))))))));case 12:return f(l(c(s(u(o(a(i(r(n(t(e)))))))))));case 13:return p(f(l(c(s(u(o(a(i(r(n(t(e))))))))))));case 14:return d(p(f(l(c(s(u(o(a(i(r(n(t(e)))))))))))));case 15:return g(d(p(f(l(c(s(u(o(a(i(r(n(t(e))))))))))))));case 16:return h(g(d(p(f(l(c(s(u(o(a(i(r(n(t(e)))))))))))))));case 17:return m(h(g(d(p(f(l(c(s(u(o(a(i(r(n(t(e))))))))))))))));case 18:return y(m(h(g(d(p(f(l(c(s(u(o(a(i(r(n(t(e)))))))))))))))));case 19:return b(y(m(h(g(d(p(f(l(c(s(u(o(a(i(r(n(t(e))))))))))))))))));case 20:return v(b(y(m(h(g(d(p(f(l(c(s(u(o(a(i(r(n(t(e)))))))))))))))))))}},t.hole=i,t.bind_=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},function(e,t,n){"use strict";const r=n(59),i=n(60),a=n(61);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?i(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function f(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===n?n:s(n,e);r[t]=i};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){let[e,o]=a(t.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:s(o,t),n(s(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=f,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[",i,"]"].join("")]:[...n,[u(t,e),"[",u(i,e),"]=",u(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[u(t,e),"[]"].join("")]:[...n,[u(t,e),"[]=",u(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[u(t,e),"=",u(r,e)].join("")]:[[n,u(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,u(t,e)]:[...n,[u(t,e),"=",u(r,e)].join("")]}}(t),i={};for(const t of Object.keys(e))n(t)||(i[t]=e[t]);const a=Object.keys(i);return!1!==t.sort&&a.sort(t.sort),a.map((n=>{const i=e[n];return void 0===i?"":null===i?u(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):u(n,t)+"="+u(i,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(f(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),o=Object.assign(a,e.query);let s=t.stringify(o,n);s&&(s=`?${s}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${u(e.fragmentIdentifier,n)}`),`${r}${s}${c}`}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(2);const i=r.createContext({triggersActionsUI:null}),a=e=>r.createElement(i.Provider,{value:{triggersActionsUI:e.triggersActionsUI}},e.children)},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(2),i=n.n(r);const a=Object(r.createContext)({setPrompt:e=>{}}),o=()=>Object(r.useContext)(a),u=({children:e})=>{const[t,n]=Object(r.useState)(void 0);return i.a.createElement(a.Provider,{value:{prompt:t,setPrompt:n}},e)},s=({prompt:e})=>{const{setPrompt:t}=o();return Object(r.useEffect)((()=>(t(e),()=>{t(void 0)})),[e,t]),null}},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var r=n(22);t.pipe=r.pipe;t.pipeable=function(e){var t={};if(function(e){return"function"==typeof e.map}(e)){t.map=function(t){return function(n){return e.map(n,t)}}}if(function(e){return"function"==typeof e.contramap}(e)){t.contramap=function(t){return function(n){return e.contramap(n,t)}}}if(function(e){return"function"==typeof e.mapWithIndex}(e)){t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.ap}(e)){t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}if(function(e){return"function"==typeof e.chain}(e)){t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,r.identity)}}if(function(e){return"function"==typeof e.bimap}(e)){t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}}if(function(e){return"function"==typeof e.extend}(e)){t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,r.identity)}}if(function(e){return"function"==typeof e.reduce}(e)){t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}}if(function(e){return"function"==typeof e.reduceWithIndex}(e)){t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}}if(function(e){return"function"==typeof e.alt}(e)){t.alt=function(t){return function(n){return e.alt(n,t)}}}if(function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)){t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}}if(function(e){return"function"==typeof e.filterWithIndex}(e)){t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}}if(function(e){return"function"==typeof e.promap}(e)){t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}}if(function(e){return"function"==typeof e.compose}(e)){t.compose=function(t){return function(n){return e.compose(n,t)}}}if(function(e){return"function"==typeof e.throwError}(e)){t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}}return t}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(10),i=n.n(r);function a(e){const t=i.a.parse(e);return!(!t||!t.isValid())}function o(e,t="down"){const n=i.a.parse(e,{roundUp:"up"===t});return n&&n.isValid()?n.valueOf():null}const u=/(\+|\-)(\d+)(ms|s|m|h|d|w|M|y)$/;function s(e,t="before",n){if(a(e))return"now"===e?{value:"now"}:e.startsWith("now")?function(e,t){const[,n,r,a]=u.exec(e)||[];if(!n||!r||!a)return;const o="-"===n&&"before"===t||"+"===n&&"after"===t,s=parseInt(r,10);let c,l=a;switch(a){case"ms":case"s":c=o?2*s:Math.floor(s/2);break;case"m":let e;const t=10;o?(e=s>=t?.5:1,c=s+Math.floor(s*e)):c=s>=t?Math.floor(s/1.5):s-Math.floor(.5*s);break;case"h":1===s?(c=o?90:30,l="m"):c=o?s+1:s-1;break;case"d":case"w":case"M":case"y":1===s?(l=i.a.unitsDesc[i.a.unitsDesc.indexOf(a)+1],c=o?g(1,a,l)+1:g(1,a,l)-1):c=o?s+1:s-1;break;default:throw new TypeError("Unhandled datemath unit")}const{unit:f,amount:p}=h(c,l),d=Math.abs(p-g(s,a,f)),y=d%1!=0,b=`now${n}${p}${f}`;return m(b)?{value:b,diffUnit:y?a:l,diffAmount:y?Math.abs(c-s):d}:void 0}(e,t):n&&a(n)?function(e,t,n){const r=o(e),i=o(n),a=h(Math.abs(r-i),"ms"),u=g(a.amount,a.unit,"ms"),s="before"===t?r-u:r+u;return m(s)?{value:new Date(s).toISOString(),diffUnit:a.unit,diffAmount:a.amount}:void 0}(e,t,n):void 0}const c=[["w",52],["y",1]],l=[["ms",1e3],["s",60],["m",60],["h",24],["d",7],["w",4],["M",12],["y",1]],f=[["ms",1e3],["s",60],["m",60],["h",24],["d",30],["M",12],["y",1]],p=[["ms",1e3],["s",60],["m",60],["h",24],["d",365],["y",1]];function d(e,t){return"y"===e&&"w"===t||"w"===e&&"y"===t?c:"w"===e||"w"===t?l:"M"===e||"M"===t?f:p}function g(e,t,n){if(t===n)return e;const r=d(t,n),i=r.findIndex((e=>e[0]===t)),a=r.findIndex((e=>e[0]===n));let o=e;if(i>a)for(let e=a;e<i;e++)o*=r[e][1];else for(let e=i;e<a;e++)o/=r[e][1];return o}function h(e,t){if("y"===t)return{amount:e,unit:t};const n=i.a.unitsAsc[i.a.unitsAsc.indexOf(t)+1],r=e/d(t,n).find((e=>e[0]===t))[1];return 1===r?{amount:r,unit:n}:r>=2?h(Math.round(r),n):{amount:e,unit:t}}function m(e){try{var t;const n="string"==typeof e?null!==(t=o(e))&&void 0!==t?t:-1:e;return n>=0&&n<=864e13}catch{return!1}}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/home/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){e.exports=n(29)(3)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return f}));var r=n(2),i=n(23),a=n(38),o=n(4);var u=n(26);const s=({app:e,pathname:t,hash:n,search:i},a={})=>{var s;l({app:e,pathname:t,hash:n,search:i});const{prompt:p}=Object(u.c)(),d=(()=>{var e;const t=null===(e=Object(o.useKibana)().services.application)||void 0===e?void 0:e.getUrlForApp;return Object(r.useMemo)((()=>{if(!t)throw new Error("Application core service is unavailable");return(e,n)=>t(e,{path:n})}),[t])})(),g=null===(s=Object(o.useKibana)().services.application)||void 0===s?void 0:s.navigateToApp,{hrefOnly:h}=a,m=Object(r.useMemo)((()=>i?c(i):void 0),[i]),y=Object(r.useMemo)((()=>n&&m?`${n}?${m}`:n),[n,m]),b=Object(r.useMemo)((()=>t&&m?`${t}?${m}`:t),[t,m]),v=Object(r.useMemo)((()=>d(e,`${null!=t?t:""}${n?"":m?`?${m}`:""}${y?`#${y}`:""}`)),[y,n,m,t,d,e]),_=Object(r.useMemo)((()=>t=>{if(!f(t))return;t.preventDefault();const n=()=>{if(g){const t=y?`#${y}`:b;g(e,{path:t||void 0})}};if(p){if(!window.confirm(p))return;n()}else n()}),[g,y,b,e,p]);return{href:v,onClick:h?void 0:_}},c=e=>Object(i.stringify)(a.url.encodeQuery(e),{sort:!1,encode:!1}),l=({app:e,pathname:t,hash:n,search:r})=>{if(!e&&n)throw new Error("The metrics and logs apps use browserHistory. Please provide a pathname rather than a hash.")},f=e=>{return!(e.defaultPrevented||(t=e,t.metaKey||t.altKey||t.ctrlKey||t.shiftKey));var t}},function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return g}));var r=n(1),i=n(0);const a=i.keyof({gt:null,gte:null,lt:null,lte:null,eq:null}),o={status:r.i18n.translate("xpack.infra.legendControls.palettes.status",{defaultMessage:"Status"}),temperature:r.i18n.translate("xpack.infra.legendControls.palettes.temperature",{defaultMessage:"Temperature"}),cool:r.i18n.translate("xpack.infra.legendControls.palettes.cool",{defaultMessage:"Cool"}),warm:r.i18n.translate("xpack.infra.legendControls.palettes.warm",{defaultMessage:"Warm"}),positive:r.i18n.translate("xpack.infra.legendControls.palettes.positive",{defaultMessage:"Positive"}),negative:r.i18n.translate("xpack.infra.legendControls.palettes.negative",{defaultMessage:"Negative"})},u=i.keyof(o),s=i.intersection([i.type({value:i.number,operator:a,color:i.string}),i.partial({label:i.string})]),c=i.type({type:i.literal("step"),rules:i.array(s)}),l=i.type({value:i.number,color:i.string}),f=i.type({type:i.literal("gradient"),rules:i.array(l)}),p=i.type({type:i.literal("steppedGradient"),rules:i.array(l)});i.union([c,f,p]);let d,g;!function(e){e.gt="gt",e.gte="gte",e.lt="lt",e.lte="lte",e.eq="eq"}(d||(d={})),function(e){e.number="number",e.abbreviatedNumber="abbreviatedNumber",e.bytes="bytes",e.bits="bits",e.percent="percent"}(g||(g={}))},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(12);let i;!function(e){e.bytesDecimal="bytesDecimal",e.bitsDecimal="bitsDecimal",e.abbreviatedNumber="abbreviatedNumber"}(i||(i={}));const a={[i.bytesDecimal]:["B","kB","MB","GB","TB","PB","EB","ZB","YB"],[i.bitsDecimal]:["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],[i.abbreviatedNumber]:["","K","M","B","T"]},o={[i.bytesDecimal]:1e3,[i.bitsDecimal]:1e3,[i.abbreviatedNumber]:1e3},u=e=>t=>{const n=a[e],u=o[e],s=e===i.bitsDecimal?8*t:t,c=Math.min(Math.floor(Math.log(Math.abs(s))/Math.log(u)),n.length-1);return c<0?`${Object(r.a)(s)}${n[0]}`:`${Object(r.a)(s/Math.pow(u,c))}${n[c]}`},s={number:r.a,abbreviatedNumber:u(i.abbreviatedNumber),bytes:u(i.bytesDecimal),bits:u(i.bitsDecimal),percent:e=>`${Object(r.a)(100*e)}%`,highPercision:e=>Number(e).toLocaleString("en",{maximumFractionDigits:5})},c=(e,t="{{value}}")=>n=>{if(null==n)return"";const r=(0,s[e])(Number(n));return t.replace(/{{value}}/g,r)}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0);const i=r.type({startTime:r.number,endTime:r.number})},function(e,t,n){var r=n(62),i=n(63),a=i;a.v1=r,a.v4=i,e.exports=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(2),i=n.n(r),a=n(17),o=n(4),u=n(20),s=n(43),c=n(26),l=n(24);const f=({children:e,triggersActionsUI:t,setHeaderActionMenu:n,appName:r,storage:u,theme$:f})=>{const[p]=Object(o.useUiSetting$)("theme:darkMode");return i.a.createElement(l.b,{triggersActionsUI:t},i.a.createElement(a.EuiThemeProvider,{darkMode:p},i.a.createElement(d,{appName:r,storage:u},i.a.createElement(s.b,{setHeaderActionMenu:n,theme$:f},i.a.createElement(c.a,null,e)))))},p=({children:e,core:t,plugins:n,theme$:a})=>{const{Provider:s}=Object(r.useMemo)((()=>Object(u.a)(t,n)),[t,n]);return i.a.createElement(s,{services:{...t,...n}},i.a.createElement(t.i18n.Context,null,i.a.createElement(o.KibanaThemeProvider,{theme$:a},e)))},d=({appName:e,children:t,storage:n})=>i.a.createElement(o.KibanaContextProvider,{services:{appName:e,storage:n}},t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(2),i=n.n(r);const a=i.a.createContext({}),o=({setHeaderActionMenu:e,theme$:t,children:n})=>i.a.createElement(a.Provider,{value:{setHeaderActionMenu:e,theme$:t}},n)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16),i=n(8),a=n(19);const o=async(e,t)=>{const n=await t(Object(r.a)(e),{method:"GET"}).catch((t=>{throw new i.a(`Failed to fetch log source configuration "${e}": ${t}`,t)}));return Object(a.b)(r.b,(t=>new i.a(`Failed to decode log source configuration "${e}": ${t}`)))(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(16),i=n(8),a=n(19);const o=async(e,t)=>{const n=await t(Object(r.c)(e),{method:"GET"}).catch((t=>{throw new i.b(`Failed to fetch status for log source "${e}": ${t}`,t)}));return Object(a.b)(r.d,(t=>new i.b(`Failed to decode status for log source "${e}": ${t}`)))(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));var r=n(1),i=n(0),a=n(27),o=n(9);const u=i.type({field:i.array(i.string),comparator:i.array(i.string),value:i.array(i.string)}),s=i.record(i.string,u),c=i.recursion("AlertingError",(()=>i.record(i.string,i.union([i.string,i.array(i.string),c])))),l=i.type({threshold:i.type({value:i.array(i.string)}),criteria:i.record(i.string,s),timeWindowSize:i.array(i.string),timeSizeUnit:i.array(i.string)});function f({count:e,criteria:t,timeSize:n}){const i={errors:{}},u={threshold:{value:[]},criteria:{},timeSizeUnit:[],timeWindowSize:[]};if(i.errors=u,Object(a.isNumber)(null==e?void 0:e.value)||Object(a.isFinite)(null==e?void 0:e.value)||u.threshold.value.push(r.i18n.translate("xpack.infra.logs.alertFlyout.error.thresholdRequired",{defaultMessage:"Numeric threshold value is Required."})),n||u.timeWindowSize.push(r.i18n.translate("xpack.infra.logs.alertFlyout.error.timeSizeRequired",{defaultMessage:"Time size is Required."})),t&&t.length>0){const e=e=>{const t={};return e.forEach(((e,n)=>{t[n]={field:[],comparator:[],value:[]},e.field||t[n].field.push(r.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionFieldRequired",{defaultMessage:"Field is required."})),e.comparator||t[n].comparator.push(r.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionComparatorRequired",{defaultMessage:"Comparator is required."})),void 0!==e.value&&null!==e.value||t[n].value.push(r.i18n.translate("xpack.infra.logs.alertFlyout.error.criterionValueRequired",{defaultMessage:"Value is required."}))})),t};if(Object(o.j)(t)){const n=e(Object(o.g)(t));u.criteria[0]=n;const r=e(Object(o.f)(t));u.criteria[1]=r}else{const n=e(t);u.criteria[0]=n}}return i}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return T}));var r=n(1),i=n(2),a=n.n(i),o=n(9),u=n(3),s=n(51);const c=({fields:e})=>{var t;const n=null!==(t=e[u.ALERT_REASON])&&void 0!==t?t:"",r=e[u.ALERT_START],i=null!=r?new Date(r).valueOf():null;return{reason:n,link:Object(s.modifyUrl)("/app/logs/link-to/default/logs",(({query:e,...t})=>({...t,query:{...e,...null!=i?{time:`${i}`}:{}}})))}};var l=n(46);function f(){return{id:o.c,description:r.i18n.translate("xpack.infra.logs.alertFlyout.alertDescription",{defaultMessage:"Alert when the log aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.logsThreshold}`,ruleParamsExpression:a.a.lazy((()=>Promise.all([n.e(4),n.e(9)]).then(n.bind(null,291)))),validate:l.b,defaultActionMessage:r.i18n.translate("xpack.infra.logs.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{^context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\}\\{\\{context.matchingDocuments\\}\\} log entries have matched the following conditions: \\{\\{context.conditions\\}\\}\\{\\{/context.isRatio\\}\\}\\{\\{#context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\} Ratio of the count of log entries matching \\{\\{context.numeratorConditions\\}\\} to the count of log entries matching \\{\\{context.denominatorConditions\\}\\} was \\{\\{context.ratio\\}\\}\\{\\{/context.isRatio\\}\\}"}),requiresAppContext:!1,format:c}}var p=n(33),d=n.n(p),g=n(13),h=n(18),m=n(24);const y=e=>{const{visible:t,setVisible:n}=e,{triggersActionsUI:r}=Object(i.useContext)(m.a),u=Object(i.useCallback)((()=>n(!1)),[n]),s=Object(i.useMemo)((()=>r&&r.getAddAlertFlyout({consumer:"logs",onClose:u,canChangeTrigger:!1,alertTypeId:o.c,metadata:{isInternal:!0}})),[r,u]);return a.a.createElement(a.a.Fragment,null,t&&s)};var b=n(34),v=n(20);const _=r.i18n.translate("xpack.infra.logs.alertDropdown.readOnlyCreateAlertContent",{defaultMessage:"Creating alerts requires more permissions in this application."}),E=r.i18n.translate("xpack.infra.logs.alertDropdown.readOnlyCreateAlertTitle",{defaultMessage:"Read only"}),T=()=>{var e,t;const{services:{application:{capabilities:n}}}=Object(v.b)(),r=null!==(e=null==n||null===(t=n.logs)||void 0===t?void 0:t.save)&&void 0!==e&&e,[o,u]=Object(i.useState)(!1),[s,c]=Object(i.useState)(!1),l=Object(b.b)({app:"management",pathname:"/insightsAndAlerting/triggersActions/alerts"},{hrefOnly:!0}),f=Object(i.useCallback)((()=>{u(!1)}),[u]),p=Object(i.useCallback)((()=>{u(!0)}),[u]),m=Object(i.useCallback)((()=>{c(!0),f()}),[c,f]),T=Object(i.useMemo)((()=>[a.a.createElement(g.EuiContextMenuItem,{disabled:!r,icon:"bell",key:"createLink",onClick:m,toolTipContent:r?void 0:_,toolTipTitle:r?void 0:E},a.a.createElement(h.FormattedMessage,{id:"xpack.infra.alerting.logs.createAlertButton",defaultMessage:"Create rule"})),a.a.createElement(g.EuiContextMenuItem,d()({icon:"tableOfContents",key:"manageLink"},l),a.a.createElement(h.FormattedMessage,{id:"xpack.infra.alerting.logs.manageAlerts",defaultMessage:"Manage rules"}))]),[l,r,m]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.EuiPopover,{panelPaddingSize:"none",button:a.a.createElement(g.EuiHeaderLink,{color:"text",iconSide:"right",iconType:"arrowDown",onClick:p},a.a.createElement(h.FormattedMessage,{id:"xpack.infra.alerting.logs.alertsButton",defaultMessage:"Alerts and rules"})),isOpen:o,closePopover:f},a.a.createElement(g.EuiContextMenuPanel,{items:T})),a.a.createElement(y,{setVisible:c,visible:s}))}},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){n(53),__kbnBundles__.define("plugin/infra/public",n,64)},function(e,t,n){n.p=window.__kbnPublicPath__.infra},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.TIMESTAMP=t.TAGS=t.SPACE_IDS=t.KIBANA_NAMESPACE=t.EVENT_MODULE=t.EVENT_KIND=t.EVENT_ACTION=t.ECS_VERSION=t.ALERT_WORKFLOW_USER=t.ALERT_WORKFLOW_STATUS=t.ALERT_WORKFLOW_REASON=t.ALERT_UUID=t.ALERT_SYSTEM_STATUS=t.ALERT_STATUS=t.ALERT_START=t.ALERT_SEVERITY=t.ALERT_RULE_VERSION=t.ALERT_RULE_UUID=t.ALERT_RULE_UPDATED_BY=t.ALERT_RULE_UPDATED_AT=t.ALERT_RULE_TYPE_ID=t.ALERT_RULE_TYPE=t.ALERT_RULE_TO=t.ALERT_RULE_TAGS=t.ALERT_RULE_RULE_NAME_OVERRIDE=t.ALERT_RULE_RULE_ID=t.ALERT_RULE_REFERENCES=t.ALERT_RULE_PRODUCER=t.ALERT_RULE_PARAMETERS=t.ALERT_RULE_NOTE=t.ALERT_RULE_NAMESPACE=t.ALERT_RULE_NAME=t.ALERT_RULE_LICENSE=t.ALERT_RULE_INTERVAL=t.ALERT_RULE_FROM=t.ALERT_RULE_EXECUTION_UUID=t.ALERT_RULE_ENABLED=t.ALERT_RULE_DESCRIPTION=t.ALERT_RULE_CREATED_BY=t.ALERT_RULE_CREATED_AT=t.ALERT_RULE_CONSUMER=t.ALERT_RULE_CATEGORY=t.ALERT_RULE_AUTHOR=t.ALERT_RISK_SCORE=t.ALERT_REASON=t.ALERT_NAMESPACE=t.ALERT_INSTANCE_ID=t.ALERT_EVALUATION_VALUE=t.ALERT_EVALUATION_THRESHOLD=t.ALERT_END=t.ALERT_DURATION=t.ALERT_BUILDING_BLOCK_TYPE=t.ALERT_ACTION_GROUP=void 0;const r="kibana";t.KIBANA_NAMESPACE=r;const i="kibana.alert";t.ALERT_NAMESPACE=i;const a="kibana.alert.rule";t.ALERT_RULE_NAMESPACE=a;const o="ecs.version";t.ECS_VERSION=o;const u="event.action";t.EVENT_ACTION=u;const s="event.kind";t.EVENT_KIND=s;const c="event.module";t.EVENT_MODULE=c;const l="kibana.space_ids";t.SPACE_IDS=l;const f="tags";t.TAGS=f;const p="@timestamp";t.TIMESTAMP=p;const d="kibana.version";t.VERSION=d;const g="kibana.alert.action_group";t.ALERT_ACTION_GROUP=g;const h="kibana.alert.building_block_type";t.ALERT_BUILDING_BLOCK_TYPE=h;const m="kibana.alert.duration.us";t.ALERT_DURATION=m;const y="kibana.alert.end";t.ALERT_END=y;const b="kibana.alert.evaluation.threshold";t.ALERT_EVALUATION_THRESHOLD=b;const v="kibana.alert.evaluation.value";t.ALERT_EVALUATION_VALUE=v;const _="kibana.alert.instance.id";t.ALERT_INSTANCE_ID=_;const E="kibana.alert.reason";t.ALERT_REASON=E;const T="kibana.alert.risk_score";t.ALERT_RISK_SCORE=T;const R="kibana.alert.severity";t.ALERT_SEVERITY=R;const A="kibana.alert.start";t.ALERT_START=A;const O="kibana.alert.status";t.ALERT_STATUS=O;const L="kibana.alert.system_status";t.ALERT_SYSTEM_STATUS=L;const k="kibana.alert.uuid";t.ALERT_UUID=k;const S="kibana.alert.workflow_reason";t.ALERT_WORKFLOW_REASON=S;const w="kibana.alert.workflow_status";t.ALERT_WORKFLOW_STATUS=w;const x="kibana.alert.workflow_user";t.ALERT_WORKFLOW_USER=x;const M="kibana.alert.rule.author";t.ALERT_RULE_AUTHOR=M;const U="kibana.alert.rule.created_at";t.ALERT_RULE_CREATED_AT=U;const I="kibana.alert.rule.created_by";t.ALERT_RULE_CREATED_BY=I;const C="kibana.alert.rule.description";t.ALERT_RULE_DESCRIPTION=C;const j="kibana.alert.rule.enabled";t.ALERT_RULE_ENABLED=j;const N="kibana.alert.rule.execution.uuid";t.ALERT_RULE_EXECUTION_UUID=N;const P="kibana.alert.rule.from";t.ALERT_RULE_FROM=P;const D="kibana.alert.rule.interval";t.ALERT_RULE_INTERVAL=D;const F="kibana.alert.rule.license";t.ALERT_RULE_LICENSE=F;const q="kibana.alert.rule.category";t.ALERT_RULE_CATEGORY=q;const W="kibana.alert.rule.name";t.ALERT_RULE_NAME=W;const $="kibana.alert.rule.note";t.ALERT_RULE_NOTE=$;const V="kibana.alert.rule.parameters";t.ALERT_RULE_PARAMETERS=V;const B="kibana.alert.rule.references";t.ALERT_RULE_REFERENCES=B;const H="kibana.alert.rule.rule_id";t.ALERT_RULE_RULE_ID=H;const G="kibana.alert.rule.rule_name_override";t.ALERT_RULE_RULE_NAME_OVERRIDE=G;const K="kibana.alert.rule.tags";t.ALERT_RULE_TAGS=K;const Q="kibana.alert.rule.to";t.ALERT_RULE_TO=Q;const z="kibana.alert.rule.type";t.ALERT_RULE_TYPE=z;const Y="kibana.alert.rule.rule_type_id";t.ALERT_RULE_TYPE_ID=Y;const J="kibana.alert.rule.updated_at";t.ALERT_RULE_UPDATED_AT=J;const X="kibana.alert.rule.updated_by";t.ALERT_RULE_UPDATED_BY=X;const Z="kibana.alert.rule.version";t.ALERT_RULE_VERSION=Z;const ee="kibana.alert.rule.consumer";t.ALERT_RULE_CONSUMER=ee;const te="kibana.alert.rule.producer";t.ALERT_RULE_PRODUCER=te;const ne="kibana.alert.rule.uuid";t.ALERT_RULE_UUID=ne},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validFeatureIds=t.isValidFeatureId=t.getSafeSortIds=t.getEsQueryConfig=t.AlertConsumers=void 0;const r={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SIEM:"siem",UPTIME:"uptime"};t.AlertConsumers=r;const i=Object.values(r).map((e=>e));t.validFeatureIds=i;t.isValidFeatureId=e=>"string"==typeof e&&i.includes(e);t.getSafeSortIds=e=>null==e?e:e.map((e=>null==e||""===e||e>=Number.MAX_SAFE_INTEGER?"9223372036854775807":e));t.getEsQueryConfig=e=>{const t={allowLeadingWildcards:!0,queryStringOptions:{analyze_wildcard:!0},ignoreFilterIfFieldNotInIndex:!1,dateFormatTZ:"Zulu"};if(null==e)return t;return Object.keys(e).reduce(((n,r)=>{const i=r;return null!=e[i]?{[r]:e[i],...n}:{[r]:t[i],...n}}),{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALERT_SEVERITY_WARNING=t.ALERT_SEVERITY_CRITICAL=void 0;t.ALERT_SEVERITY_WARNING="warning";t.ALERT_SEVERITY_CRITICAL="critical"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALERT_STATUS_RECOVERED=t.ALERT_STATUS_ACTIVE=void 0;t.ALERT_STATUS_ACTIVE="active";t.ALERT_STATUS_RECOVERED="recovered"},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),a=new RegExp("("+r+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function u(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=u(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="";for(var i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){var r,i,a=n(48),o=n(49),u=0,s=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==p){var d=a();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==p&&(p=i=16383&(d[6]<<8|d[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:s+1,m=g-u+(h-s)/1e4;if(m<0&&void 0===e.clockseq&&(p=p+1&16383),(m<0||g>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=g,s=h,i=p;var y=(1e4*(268435455&(g+=122192928e5))+h)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var b=g/4294967296*1e4&268435455;l[c++]=b>>>8&255,l[c++]=255&b,l[c++]=b>>>24&15|16,l[c++]=b>>>16&255,l[c++]=p>>>8|128,l[c++]=255&p;for(var v=0;v<6;++v)l[c+v]=f[v];return t||o(l)}},function(e,t,n){var r=n(48),i=n(49);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var u=0;u<16;++u)t[a+u]=o[u];return t||i(o)}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return H})),n.d(t,"FORMATTERS",(function(){return V.a})),n.d(t,"InfraFormatterType",(function(){return B.b})),n.d(t,"LogStream",(function(){return w}));var r=n(1),i=n(39),a=n(36),o=n(31),u=n(2),s=n.n(u),c=n(6);function l({criteria:e,filterQuery:t}){const n={errors:{}},i={};return n.errors=i,t===c.e&&(i.filterQuery=[r.i18n.translate("xpack.infra.metrics.alertFlyout.error.invalidFilterQuery",{defaultMessage:"Filter query is invalid."})]),e&&e.length?(e.forEach(((e,t)=>{var n;const a=t.toString();i[a]=i[a]||{timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]},e.threshold&&e.threshold.length||i[a].critical.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.warningThreshold&&!e.warningThreshold.length&&i[a].warning.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const t of[{comparator:e.comparator,threshold:e.threshold,type:"critical"},{comparator:e.warningComparator,threshold:e.warningThreshold,type:"warning"}]){const{comparator:e,threshold:n,type:o}=t;n&&n.length&&![...n].every(f)&&[...n].forEach(((e,t)=>{if(!f(e)){const e=0===t?"threshold0":"threshold1";i[a][o][e].push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),e===c.b.BETWEEN&&(!n||n.length<2)&&i[a][o].threshold1.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}e.timeSize||i[a].timeWindowSize.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),e.metric||i[a].metric.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."})),"custom"!==e.metric||null!==(n=e.customMetric)&&void 0!==n&&n.field||i[a].metric.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.customMetricFieldRequired",{defaultMessage:"Field is required."}))})),n):n}const f=e=>"number"==typeof e;var p=n(3),d=n(15),g=n(23);const h=({fields:e})=>{var t;const n=null!==(t=e[p.ALERT_REASON])&&void 0!==t?t:"-",r=`${p.ALERT_RULE_PARAMETERS}.nodeType`;let i="/app/metrics/link-to/inventory?";if(e[r]){const t={nodeType:e[r][0],timestamp:Date.parse(e[p.TIMESTAMP]),customMetric:""},n=e[`${p.ALERT_RULE_PARAMETERS}.criteria.metric`][0],a=e[`${p.ALERT_RULE_PARAMETERS}.criteria.customMetric.id`][0];if("alert-custom-metric"!==a){const n=e[`${p.ALERT_RULE_PARAMETERS}.criteria.customMetric.aggregation`][0],r=e[`${p.ALERT_RULE_PARAMETERS}.criteria.customMetric.field`][0],i=Object(d.encode)({id:a,type:"custom",field:r,aggregation:n});t.customMetric=i,t.metric=i}else t.metric=Object(d.encode)({type:n});i+=Object(g.stringify)(t)}return{reason:n,link:i}};var m=n(50);function y({criteria:e,filterQuery:t}){const n={errors:{}},i={};return n.errors=i,t===c.e&&(i.filterQuery=[r.i18n.translate("xpack.infra.metrics.alertFlyout.error.invalidFilterQuery",{defaultMessage:"Filter query is invalid."})]),e&&e.length?(e.forEach(((e,t)=>{const n=t.toString();i[n]=i[n]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[],filterQuery:[]},e.aggType||i[n].aggField.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.aggregationRequired",{defaultMessage:"Aggregation is required."})),e.threshold&&e.threshold.length||i[n].critical.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.warningThreshold&&!e.warningThreshold.length&&i[n].warning.threshold0.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));for(const t of[{comparator:e.comparator,threshold:e.threshold,type:"critical"},{comparator:e.warningComparator,threshold:e.warningThreshold,type:"warning"}]){const{comparator:e,threshold:a,type:o}=t;a&&a.length&&![...a].every(b)&&[...a].forEach(((e,t)=>{if(!b(e)){const e=0===t?"threshold0":"threshold1";i[n][o][e].push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),e===c.b.BETWEEN&&(!a||a.length<2)&&i[n][o].threshold1.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}e.timeSize||i[n].timeWindowSize.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),e.metric||"count"===e.aggType||i[n].metric.push(r.i18n.translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."}))})),n):n}const b=e=>"number"==typeof e,v=({fields:e})=>{var t;return{reason:null!==(t=e[p.ALERT_REASON])&&void 0!==t?t:"-",link:"/app/metrics/explorer"}};var _=n(14),E=n.n(_),T=n(25),R=n.n(T),A=n(47),O=n(17),L=n(42),k=n(30);const S=s.a.lazy((()=>Promise.all([n.e(0),n.e(1)]).then(n.bind(null,232)))),w=e=>s.a.createElement(s.a.Suspense,{fallback:s.a.createElement("div",null)},s.a.createElement(S,e)),x="LOG_STREAM_EMBEDDABLE";class log_stream_embeddable_LogStreamEmbeddable extends A.Embeddable{constructor(e,t,n,r){super(n,{},r),E()(this,"type",x),E()(this,"node",void 0),E()(this,"subscription",void 0),this.core=e,this.pluginDeps=t,this.subscription=this.getInput$().subscribe((()=>this.renderComponent()))}render(e){this.node&&R.a.unmountComponentAtNode(this.node),this.node=e,this.renderComponent()}destroy(){super.destroy(),this.subscription.unsubscribe(),this.node&&R.a.unmountComponentAtNode(this.node)}async reload(){}renderComponent(){if(!this.node)return;const e=Object(k.a)(this.input.timeRange.from),t=Object(k.a)(this.input.timeRange.to,"up");e&&t&&R.a.render(s.a.createElement(L.b,{core:this.core,plugins:this.pluginDeps,theme$:this.core.theme.theme$},s.a.createElement(O.EuiThemeProvider,null,s.a.createElement("div",{style:{width:"100%"}},s.a.createElement(w,{startTimestamp:e,endTimestamp:t,height:"100%",query:this.input.query,filters:this.input.filters})))),this.node)}}class log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition{constructor(e){E()(this,"type",x),this.getStartServices=e}async isEditable(){const[{application:e}]=await this.getStartServices();return e.capabilities.logs.save}async create(e,t){const[n,r]=await this.getStartServices();return new log_stream_embeddable_LogStreamEmbeddable(n,r,e,t)}getDisplayName(){return r.i18n.translate("xpack.infra.logStreamEmbeddable.displayName",{defaultMessage:"Log stream"})}getDescription(){return r.i18n.translate("xpack.infra.logStreamEmbeddable.description",{defaultMessage:"Add a table of live streaming logs."})}getIconType(){return"logsApp"}async getExplicitInput(){return{title:r.i18n.translate("xpack.infra.logStreamEmbeddable.title",{defaultMessage:"Log stream"})}}}const M=e=>async()=>{const[t]=await e(),{http:n}=t,r=await n.get("/api/metrics/source/default/hasData");return{hasData:r.hasData,indices:r.configuration.metricAlias}},U=e=>async({absoluteTime:t,intervalString:n})=>{const[r]=await e(),{http:i}=r,a=async(e={})=>{const{start:r,end:o}=t,u={sourceId:"default",bucketSize:n,size:5,timerange:{from:r,to:o},...e};return{appLink:`/app/metrics/inventory?waffleTime=(currentTime:${o},isAutoReloading:!f)`,series:(await i.post("/api/metrics/overview/top",{body:JSON.stringify(u)})).series,sort:async(e,t)=>a({sort:e,sortDirection:t})}};return await a()};var I=n(32);var C=n(5),j=n(44),N=n(45),P=n(8);function D(e){return async t=>{const[n,r]=await e(),{data:i}=r,a=await Object(j.a)(C.b,n.http.fetch),o=await Object(P.h)(a.data.configuration,r.data.indexPatterns),{stats:u,series:s}=await async function(e,t,n){return new Promise(((r,i)=>{let a;n.search.search({params:{index:e.index,body:{size:0,query:F(e,t),aggs:q(e,t)}}}).subscribe((e=>a=e.rawResponse),(e=>i(e)),(()=>{var e;null!==(e=a)&&void 0!==e&&e.aggregations?r(function(e){const t={},n={};return e.stats.buckets.forEach((e=>{const r=e.key;t[e.key]={type:"number",label:r,value:e.doc_count},e.series.buckets.forEach((e=>{n[r]=n[r]||{label:r,coordinates:[]},n[r].coordinates.push({x:e.key,y:e.doc_count})}))})),{stats:t,series:n}}(a.aggregations)):r({stats:{},series:{}})}))}))}({index:o.indices},t,i),c=(t.absoluteTime.end-t.absoluteTime.start)/6e4;return{appLink:`/app/logs/stream?logPosition=(end:${Object(d.encode)(t.relativeTime.end)},start:${Object(d.encode)(t.relativeTime.start)})`,stats:W(u,c),series:$(s)}}}function F(e,t){return{range:{[C.i]:{gt:new Date(t.absoluteTime.start).toISOString(),lte:new Date(t.absoluteTime.end).toISOString(),format:"strict_date_optional_time"}}}}function q(e,t){return{stats:{terms:{field:"event.dataset",size:4,missing:"unknown"},aggs:{series:{date_histogram:{field:C.i,fixed_interval:t.intervalString}}}}}}function W(e,t){return Object.keys(e).reduce(((n,r)=>(n[r]={...e[r],value:e[r].value/t},n)),{})}function $(e){const t=Object.keys(e),n=t.flatMap((t=>e[t].coordinates.map((e=>e.x)))),[r,i]=[...new Set(n)].sort(),a=(i-r)/6e4;return t.reduce(((t,n)=>(t[n]={...e[n],coordinates:e[n].coordinates.map((e=>e.y?{...e,y:e.y/a}:e))},t)),{})}class plugin_Plugin{constructor(e){}setup(e,t){var u,f;t.home&&((u=t.home).featureCatalogue.register({id:"metrics",title:r.i18n.translate("xpack.infra.registerFeatures.infraOpsTitle",{defaultMessage:"Metrics"}),description:r.i18n.translate("xpack.infra.registerFeatures.infraOpsDescription",{defaultMessage:"Explore infrastructure metrics and logs for common servers, containers, and services."}),icon:"metricsApp",path:"/app/metrics",showOnHomePage:!1,category:I.FeatureCatalogueCategory.DATA}),u.featureCatalogue.register({id:"logs",title:r.i18n.translate("xpack.infra.registerFeatures.logsTitle",{defaultMessage:"Logs"}),description:r.i18n.translate("xpack.infra.registerFeatures.logsDescription",{defaultMessage:"Stream logs in real time or scroll through historical views in a console-like experience."}),icon:"logsApp",path:"/app/logs",showOnHomePage:!1,category:I.FeatureCatalogueCategory.DATA})),t.observability.observabilityRuleTypeRegistry.register({id:c.c,description:r.i18n.translate("xpack.infra.metrics.inventory.alertFlyout.alertDescription",{defaultMessage:"Alert when the inventory exceeds a defined threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.infrastructureThreshold}`,ruleParamsExpression:s.a.lazy((()=>Promise.all([n.e(0),n.e(2),n.e(3),n.e(6),n.e(12)]).then(n.bind(null,293)))),validate:l,defaultActionMessage:r.i18n.translate("xpack.infra.metrics.alerting.inventory.threshold.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n"}),requiresAppContext:!1,format:h}),t.observability.observabilityRuleTypeRegistry.register(Object(m.b)()),t.observability.observabilityRuleTypeRegistry.register({id:c.d,description:r.i18n.translate("xpack.infra.metrics.alertFlyout.alertDescription",{defaultMessage:"Alert when the metrics aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.metricsThreshold}`,ruleParamsExpression:s.a.lazy((()=>Promise.all([n.e(0),n.e(3),n.e(11)]).then(n.bind(null,292)))),validate:y,defaultActionMessage:r.i18n.translate("xpack.infra.metrics.alerting.threshold.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n"}),requiresAppContext:!1,format:v}),t.observability.dashboard.register({appName:"infra_logs",hasData:(f=e.getStartServices,async()=>{const[e]=await f();return"available"===(await Object(N.a)(C.b,e.http.fetch)).data.logIndexStatus}),fetchData:D(e.getStartServices)}),t.observability.dashboard.register({appName:"infra_metrics",hasData:M(e.getStartServices),fetchData:U(e.getStartServices)}),t.observability.navigation.registerSections(Object(i.from)(e.getStartServices()).pipe(Object(a.map)((([{application:{capabilities:e}}])=>[...e.logs.show?[{label:"Logs",sortKey:200,entries:[{label:"Stream",app:"logs",path:"/stream"},{label:"Anomalies",app:"logs",path:"/anomalies"},{label:"Categories",app:"logs",path:"/log-categories"}]}]:[],...e.infrastructure.show?[{label:"Metrics",sortKey:300,entries:[{label:"Inventory",app:"metrics",path:"/inventory"},{label:"Metrics Explorer",app:"metrics",path:"/explorer"}]}]:[]])))),t.embeddable.registerEmbeddableFactory(x,new log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition(e.getStartServices)),e.application.register({id:"logs",title:r.i18n.translate("xpack.infra.logs.pluginTitle",{defaultMessage:"Logs"}),euiIconType:"logoObservability",order:8100,appRoute:"/app/logs",deepLinks:[{id:"stream",title:r.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"}),path:"/stream"},{id:"anomalies",title:r.i18n.translate("xpack.infra.logs.index.anomaliesTabTitle",{defaultMessage:"Anomalies"}),path:"/anomalies"},{id:"log-categories",title:r.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"}),path:"/log-categories"},{id:"settings",title:r.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}],category:o.DEFAULT_APP_CATEGORIES.observability,mount:async t=>{const[r,i]=await e.getStartServices(),{renderApp:a}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(5),n.e(10)]).then(n.bind(null,290));return a(r,i,t)}}),e.application.register({id:"metrics",title:r.i18n.translate("xpack.infra.metrics.pluginTitle",{defaultMessage:"Metrics"}),euiIconType:"logoObservability",order:8200,appRoute:"/app/metrics",category:o.DEFAULT_APP_CATEGORIES.observability,deepLinks:[{id:"inventory",title:r.i18n.translate("xpack.infra.homePage.inventoryTabTitle",{defaultMessage:"Inventory"}),path:"/inventory"},{id:"metrics-explorer",title:r.i18n.translate("xpack.infra.homePage.metricsExplorerTabTitle",{defaultMessage:"Metrics Explorer"}),path:"/explorer"},{id:"settings",title:r.i18n.translate("xpack.infra.homePage.settingsTabTitle",{defaultMessage:"Settings"}),path:"/settings"}],mount:async t=>{const[r,i]=await e.getStartServices(),{renderApp:a}=await Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(5),n.e(6),n.e(8)]).then(n.bind(null,289));return a(r,i,t)}}),e.application.register({id:"infra",appRoute:"/app/infra",title:"infra",navLinkStatus:3,mount:async e=>{const{renderApp:t}=await n.e(13).then(n.bind(null,288));return t(e)}})}start(e,t){}stop(){}}var V=n(37),B=n(35);const H=e=>new plugin_Plugin(e)},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/licenseManagement/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.History}]);