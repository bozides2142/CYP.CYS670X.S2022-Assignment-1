/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[0],Array(49).concat([function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(27);const a=()=>Object(r.useKibana)()},function(t,e,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function u(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},r=[],a=0;a<t.length;a++){var i=t[a],l=e.base?i[0]+e.base:i[0],s=n[l]||0,c="".concat(l," ").concat(s);n[l]=s+1;var d=u(c),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:c,updater:m(f,e),references:1}),r.push(c)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var o=i(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function f(t,e,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function h(t,e,n){var r=n.css,a=n.media,i=n.sourceMap;if(a?t.setAttribute("media",a):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(t,e){var n,r,a;if(e.singleton){var i=g++;n=p||(p=s(e)),r=f.bind(null,n,i,!1),a=f.bind(null,n,i,!0)}else n=s(e),r=h.bind(null,n,e),a=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=a());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var a=u(n[r]);o[a].references--}for(var i=l(t,e),s=0;s<n.length;s++){var c=u(n[s]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=i}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=(o=r,u=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(u),"/*# ".concat(l," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(i).concat([a]).join("\n")}var o,u,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},,,function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return v}));var r=n(23),a=n(4);const i=1e3,o={timestampFormat:void 0,timestampField:void 0,format:void 0,delimiter:void 0,quote:void 0,hasHeaderRow:void 0,charset:void 0,columnNames:void 0,shouldTrimFields:void 0,grokPattern:void 0,linesToSample:void 0};function u(t){return new Promise(((e,n)=>{if(t&&t.size){const r=new FileReader;r.readAsArrayBuffer(t),r.onload=()=>{const t=new TextDecoder,i=r.result;if(null===i||"string"==typeof i)return n();const o=5*a.e,u=t.decode(i.slice(0,o));""===u?n():e({fileContents:u,data:i})}}else n()}))}function l(t,e){const n={};for(const a in o)if(o.hasOwnProperty(a)){let i=t[a];(Array.isArray(i)&&Object(r.isEqual)(i,e[a])||void 0===i||i===e[a])&&(i="");n[a.replace(/([A-Z])/g,(t=>`_${t.toLowerCase()}`))]=i}return""===n.format&&e.format===a.b.DELIMITED&&(""===n.should_trim_fields&&""===n.has_header_row&&""===n.delimiter&&""===n.quote&&""===n.column_names||(n.format=e.format),Array.isArray(n.column_names)&&(n.column_names=n.column_names.join())),""===n.format&&e.format===a.b.SEMI_STRUCTURED_TEXT&&""!==n.grok_pattern&&(n.format=e.format),n.format!==a.b.NDJSON&&e.format!==a.b.NDJSON||(n.should_trim_fields="",n.has_header_row="",n.delimiter="",n.quote="",n.column_names=""),""===n.lines_to_sample&&(n.lines_to_sample=t.linesToSample),n}function s({results:t,overrides:e}){const n=void 0!==t.java_timestamp_formats&&t.java_timestamp_formats.length?t.java_timestamp_formats[0]:void 0,r=void 0!==e&&void 0!==e.lines_to_sample?e.lines_to_sample:i;return{format:t.format,delimiter:t.delimiter,timestampField:t.timestamp_field,timestampFormat:n,quote:t.quote,hasHeaderRow:t.has_header_row,shouldTrimFields:t.should_trim_fields,charset:t.charset,columnNames:t.column_names,grokPattern:t.grok_pattern,linesToSample:r}}function c(t,e=2){if(void 0===t)return"";if(t%1==0)return t;if(Math.abs(t)<Math.pow(10,-e))return Number.parseFloat(String(t)).toExponential(2);const n=Math.pow(10,e);return Math.round(t*n)/n}function d(t,e){return null!=e?e.convert(t,"text"):t}var f=n(33),h=n.n(f);function p(t){const e=Math.floor(t);return`${h()(e).format("0o")}`}var g=n(25),m=n.n(g);function v(t,e,n,r){if(null==t)return"";if("time_of_week"===e){const e=void 0!==r&&void 0!==r.timestamp?new Date(r.timestamp):new Date,n=m.a.utc(e).startOf("week").add(t,"s");return m()(n.valueOf()).format("ddd HH:mm")}if("time_of_day"===e){const e=void 0!==r&&void 0!==r.timestamp?new Date(r.timestamp):new Date,n=m.a.utc(e).startOf("day").add(t,"s");return m()(n.valueOf()).format("HH:mm")}if(void 0!==n)return n.convert(t,"text");{const e=Math.abs(t);if(e>=1e4||e===Math.floor(e))return void 0!==n?n.convert(t,"text"):Number(t.toFixed(0));if(e>=10)return Number(t.toFixed(1));{let e;return e=t>0?Math.pow(10,3-Math.floor(Math.log(t)/Math.LN10)-1):Math.pow(10,3-Math.floor(Math.log(-1*t)/Math.LN10)-1),Math.round(t*e)/e}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var r=n(21),a=n(5);const i=({children:t,dataTestSubj:e,grow:n,className:i})=>Object(a.jsx)(r.EuiPanel,{"data-test-subj":e,hasShadow:!1,hasBorder:!1,grow:!!n,className:null!=i?i:"",paddingSize:"s"},t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(0);var r=n(21),a=n(5);const i=({children:t,dataTestSubj:e})=>Object(a.jsx)(r.EuiFlexGrid,{"data-test-subj":e,gutterSize:"s"},t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(22),a=(n(0),n(1)),i=n(21),o=n(58),u=n(54),l=n(55),s=n(5);const c=[{field:"function",name:"",render:(t,e)=>e.display,width:"25px",align:i.LEFT_ALIGNMENT},{field:"value",name:"",render:t=>Object(s.jsx)("strong",null,t),align:i.RIGHT_ALIGNMENT}],d=a.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.metaTableTitle",{defaultMessage:"Documents stats"}),f=({config:t})=>{if(void 0===(null==t?void 0:t.stats)||void 0===t.stats.cardinality||void 0===t.stats.count||void 0===t.stats.sampleCount)return null;const{cardinality:e,count:n,sampleCount:a}=t.stats,f=[{function:"count",display:Object(s.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.countLabel",defaultMessage:"count"}),value:n},{function:"percentage",display:Object(s.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.percentageLabel",defaultMessage:"percentage"}),value:`${Object(u.h)(n/a*100)}%`},{function:"distinctValues",display:Object(s.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.distinctValueLabel",defaultMessage:"distinct values"}),value:e}];return Object(s.jsx)(l.a,{dataTestSubj:"dataVisualizerDocumentStatsContent",className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(s.jsx)(o.a,null,d),Object(s.jsx)(i.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:f,columns:c,tableCaption:d}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(21),a=(n(0),n(5));const i=({children:t})=>Object(a.jsx)(r.EuiText,{size:"xs",color:"subdued",className:"dvExpandedRow__fieldHeader",textAlign:"center"},t)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return l}));var r=n(1),a=n(4),i=n(8);const o=t=>t in u?u[t]:null,u={[a.d.BOOLEAN]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.booleanTypeLabel",{defaultMessage:"Boolean"}),[a.d.DATE]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.dateTypeLabel",{defaultMessage:"Date"}),[a.d.GEO_POINT]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoPointTypeLabel",{defaultMessage:"Geo point"}),[a.d.GEO_SHAPE]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoShapeTypeLabel",{defaultMessage:"Geo shape"}),[a.d.IP]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.ipTypeLabel",{defaultMessage:"IP"}),[a.d.KEYWORD]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.keywordTypeLabel",{defaultMessage:"Keyword"}),[a.d.NUMBER]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.numberTypeLabel",{defaultMessage:"Number"}),[a.d.HISTOGRAM]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.histogramTypeLabel",{defaultMessage:"Histogram"}),[a.d.TEXT]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.textTypeLabel",{defaultMessage:"Text"}),[a.d.UNKNOWN]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.unknownTypeLabel",{defaultMessage:"Unknown"})};function l(t){let e;switch(t.type){case i.KBN_FIELD_TYPES.STRING:e=t.aggregatable?a.d.KEYWORD:a.d.TEXT;break;case i.KBN_FIELD_TYPES.NUMBER:e=a.d.NUMBER;break;case i.KBN_FIELD_TYPES.DATE:e=a.d.DATE;break;case i.KBN_FIELD_TYPES.IP:e=a.d.IP;break;case i.KBN_FIELD_TYPES.BOOLEAN:e=a.d.BOOLEAN;break;case i.KBN_FIELD_TYPES.GEO_POINT:e=a.d.GEO_POINT;break;case i.KBN_FIELD_TYPES.GEO_SHAPE:e=a.d.GEO_SHAPE;break;case i.KBN_FIELD_TYPES.HISTOGRAM:e=a.d.HISTOGRAM}return e}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(0);var r=n(21),a=n(22),i=n(58),o=n(55),u=n(5);const l=({examples:t})=>{if(null==t||!Array.isArray(t))return null;let e;return e=0===t.length?Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.noExamplesMessage",defaultMessage:"No examples were obtained for this field"}):t.map(((t,e)=>Object(u.jsx)(r.EuiListGroupItem,{size:"xs",key:`example_${e}`,label:"string"==typeof t?t:JSON.stringify(t)}))),Object(u.jsx)(o.a,{dataTestSubj:"dataVisualizerFieldDataExamplesList",className:"dvText__wrapper dvPanel__wrapper"},Object(u.jsx)(i.a,null,Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.title",defaultMessage:"{numExamples, plural, one {Value} other {Examples}}",values:{numExamples:t.length}})),Object(u.jsx)(r.EuiListGroup,{showToolTips:!0,maxWidth:"s",gutterSize:"none",flush:!0},e))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(21),a=n(0),i=n(22),o=n(5);const u=()=>Object(o.jsx)("div",{className:"euiFilterSelect__note"},Object(o.jsx)("div",{className:"euiFilterSelect__noteContent"},Object(o.jsx)(r.EuiIcon,{type:"minusInCircle"}),Object(o.jsx)(r.EuiSpacer,{size:"xs"}),Object(o.jsx)("p",null,Object(o.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.multiSelectPicker.NoFiltersFoundMessage",defaultMessage:"No filters found"})))),l=({options:t,onChange:e,title:n,checkedOptions:i,dataTestSubj:l})=>{const[s,c]=Object(a.useState)(t),[d,f]=Object(a.useState)("");Object(a.useEffect)((()=>{if(""===d)c(t);else{const e=t.filter((t=>{var e;return null==t||null===(e=t.value)||void 0===e?void 0:e.includes(d)}));c(e)}}),[t,d]);const[h,p]=Object(a.useState)(!1),g=Object(o.jsx)(r.EuiFilterButton,{"data-test-subj":`${l}-button`,iconType:"arrowDown",onClick:()=>{p(!h)},isSelected:h,numFilters:s.length,hasActiveFilters:i&&i.length>0,numActiveFilters:i&&i.length},n);return Object(o.jsx)(r.EuiFilterGroup,{"data-test-subj":l,style:{marginLeft:8}},Object(o.jsx)(r.EuiPopover,{ownFocus:!0,"data-test-subj":`${l}-popover`,button:g,isOpen:h,closePopover:()=>{p(!1)},panelPaddingSize:"none"},Object(o.jsx)(r.EuiPopoverTitle,{paddingSize:"s"},Object(o.jsx)(r.EuiFieldSearch,{compressed:!0,onChange:t=>f(t.target.value),"data-test-subj":`${l}-searchInput`})),Object(o.jsx)("div",{style:{maxHeight:250,overflow:"auto"}},Array.isArray(s)&&s.length>0?s.map(((t,n)=>{var a;const u=i&&i.findIndex((e=>e===t.value))>-1;return Object(o.jsx)(r.EuiFilterSelectItem,{checked:u?"on":void 0,key:n,onClick:()=>(t=>{if(!s[t]||!Array.isArray(i)||void 0===e)return;const n=s[t],r=i.findIndex((t=>t===n.value));e(r>-1?i.filter(((t,e)=>e!==r)):[...i,n.value])})(n),style:{flexDirection:"row"},"data-test-subj":`${l}-option-${t.value}${u?"-checked":""}`},null!==(a=t.name)&&void 0!==a?a:t.value)})):Object(o.jsx)(u,null))))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return i}));var r=n(21);const a=t=>{const{stats:e}=t;if(void 0===e)return null;const{count:n}=e;let{trueCount:r,falseCount:a}=e;var i;void 0!==e.trueCount&&void 0!==e.falseCount||null!=t&&null!==(i=t.stats)&&void 0!==i&&i.topValues&&t.stats.topValues.forEach((t=>{void 0!==t.doc_count&&("false"===t.key.toString().toLowerCase()&&(a=t.doc_count),"true"===t.key.toString().toLowerCase()&&(r=t.doc_count))}));return void 0===n||void 0===r||void 0===a?null:{count:n,trueCount:r,falseCount:a}},i=t=>{const e={expander:"40px",type:"75px",docCount:"225px",distinctValues:"225px",distributions:"225px",showIcon:!0,breakPoint:"xl"};if(void 0===t)return e;const n=Object(r.getBreakpoint)(t);switch(n){case"xs":case"s":return{expander:"25px",type:"40px",docCount:"auto",distinctValues:"auto",distributions:"auto",showIcon:!1,breakPoint:n};case"m":case"l":return{expander:"25px",type:"40px",docCount:"auto",distinctValues:"auto",distributions:"auto",showIcon:!1,breakPoint:n};default:return e}}},function(t,e,n){t.exports=n(14)(3)},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));var r=n(0),a=n.n(r),i=n(21),o=n(1),u=n(23),l=n(4),s=n(54);function c(t){return t.hasOwnProperty("existsInDocs")}var d=n(5);const f=({config:t,showIcon:e})=>{const{stats:n}=t;if(void 0===n)return null;const{count:r,sampleCount:o}=n,u=null!=r?r:c(t)&&!0===t.existsInDocs?void 0:0,l=void 0!==u&&void 0!==o?Object(s.h)(u/o*100):0;return void 0!==u?Object(d.jsx)(a.a.Fragment,null,e?Object(d.jsx)(i.EuiIcon,{type:"document",size:"m",className:"columnHeader__icon"}):null,Object(d.jsx)(i.EuiText,{size:"xs"},u," (",l,"%)")):null};var h=n(93);const p=({config:t})=>{const{stats:e,fieldFormat:n,fieldName:o}=t,[u,l]=Object(r.useState)([]),[c,f]=Object(r.useState)(),p=`dataVisualizerDataGridChart-${o}`;return Object(r.useEffect)((()=>{const t=Object(h.b)(e,100);Array.isArray(t)&&void 0!==t[0].x&&void 0!==t[t.length-1].x&&(l(t),f({min:Object(s.c)(t[0].x),max:Object(s.c)(t[t.length-1].x)}))}),[]),Object(d.jsx)("div",{"data-test-subj":p,style:{width:"100%"}},Object(d.jsx)("div",{className:"dataGridChart__histogram","data-test-subj":`${p}-histogram`},Object(d.jsx)(h.a,{width:100,height:10,chartData:u,fieldFormat:n,hideXAxis:!0})),Object(d.jsx)("div",{className:"dataGridChart__legend","data-test-subj":`${p}-legend`},c&&Object(d.jsx)(a.a.Fragment,null,Object(d.jsx)(i.EuiFlexGroup,{direction:"row","data-test-subj":`${p}-legend`,responsive:!1,gutterSize:"m"},Object(d.jsx)(i.EuiFlexItem,{className:"dataGridChart__legend",style:{maxWidth:75}},Object(s.d)(c.min,n)),Object(d.jsx)(i.EuiFlexItem,{className:"dataGridChart__legend"},Object(s.d)(c.max,n))))))},g=[10,25,50,100];var m=n(29),v=n.n(m),x=n(28);n(109);const b=t=>"object"==typeof t&&t.hasOwnProperty("data")&&t.hasOwnProperty("id")&&t.hasOwnProperty("interval")&&t.hasOwnProperty("stats")&&t.hasOwnProperty("type")&&"numeric"===t.type,y=t=>"object"==typeof t&&t.hasOwnProperty("data")&&t.hasOwnProperty("cardinality")&&t.hasOwnProperty("id")&&t.hasOwnProperty("type")&&("ordinal"===t.type||"boolean"===t.type);var _=n(25),M=n.n(_),w=n(24),j=n(81),T=n.n(j),E=n(31);const k=new w.BehaviorSubject(null),O=Object(i.euiPaletteColorBlind)()[0],S=Object(i.euiPaletteColorBlind)({rotations:2})[10],C=(t,e,n=!1)=>{if("unsupported"===t.type)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.histogramNotAvailable",{defaultMessage:"Chart not supported."});if(0===t.data.length)return"";var r,a,i,u;if("boolean"===t.type)return Object(d.jsx)("table",null,Object(d.jsx)("tbody",null,Object(d.jsx)("tr",null,void 0!==t.data[0]&&Object(d.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(r=null===(a=t.data[0].key_as_string)||void 0===a?void 0:a.slice(0,1))&&void 0!==r?r:""),void 0!==t.data[1]&&Object(d.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(i=null===(u=t.data[1].key_as_string)||void 0===u?void 0:u.slice(0,1))&&void 0!==i?i:""))));if(y(t)&&n)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.singleTopValueLegend",{defaultMessage:"{cardinality, plural, one {# value {exampleValue}} other {# values}}",values:{cardinality:t.cardinality,exampleValue:t.data[0].key?`(${t.data[0].key})`:""}});if(y(t)&&t.cardinality<=e)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.singleCategoryLegend",{defaultMessage:"{cardinality, plural, one {# category} other {# categories}}",values:{cardinality:t.cardinality}});if(y(t)&&t.cardinality>e)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.topCategoriesLegend",{defaultMessage:"top {maxChartColumns} of {cardinality} categories",values:{cardinality:t.cardinality,maxChartColumns:e}});if(b(t)){const e=Math.round(100*t.stats[0])/100,n=Math.round(100*t.stats[1])/100;return e!==n?`${e} - ${n}`:""+e}return""},N=(t,e,n,r)=>{const a=(t=>{if("non-aggregatable"===t)return;let e;switch(t){case"datetime":e=E.KBN_FIELD_TYPES.DATE;break;case"numeric":e=E.KBN_FIELD_TYPES.NUMBER;break;case"boolean":e=E.KBN_FIELD_TYPES.BOOLEAN;break;case"json":e=E.KBN_FIELD_TYPES.OBJECT;break;default:e=E.KBN_FIELD_TYPES.STRING}return e})(e.schema),i=T()(k),o=(t=>{switch(t){case E.KBN_FIELD_TYPES.BOOLEAN:case E.KBN_FIELD_TYPES.IP:case E.KBN_FIELD_TYPES.STRING:return"ordinal";case E.KBN_FIELD_TYPES.DATE:return"time";case E.KBN_FIELD_TYPES.NUMBER:return"linear"}})(a),u=n=>null==i||y(t)&&"ordinal"===o&&i._source[e.id]===n.key||b(t)&&"linear"===o&&i._source[e.id]>=+n.key&&i._source[e.id]<+n.key+t.interval||b(t)&&"time"===o&&1e3*M()(i._source[e.id]).unix()>=+n.key&&1e3*M()(i._source[e.id]).unix()<+n.key+t.interval?O:S;let l=[];return y(t)?l=t.data.map(((t,e)=>{var n;return{...t,x:e,key_as_string:null!==(n=t.key_as_string)&&void 0!==n?n:t.key,color:u(t)}})):b(t)&&(l=t.data.map(((t,e)=>({...t,x:e,key_as_string:t.key_as_string||t.key,color:u(t)})))),{data:l,legendText:C(t,n,r),xScaleType:o}},F={bottom:0,left:0,right:0,top:0},z={width:100,height:10},A=({chartData:t,columnType:e,dataTestSubj:n,hideLabel:r,maxChartColumns:a,isNumeric:i})=>{const{data:o,legendText:u}=N(t,e,a,i);return Object(d.jsx)("div",{"data-test-subj":n,style:{width:"100%"}},!("object"==typeof(l=t)&&l.hasOwnProperty("type")&&"unsupported"===l.type)&&o.length>0&&Object(d.jsx)(x.Chart,{size:z},Object(d.jsx)(x.Settings,{xDomain:Array.from({length:a},((t,e)=>e)),theme:{chartMargins:F,chartPaddings:F,crosshair:{band:{visible:!1}}}}),Object(d.jsx)(x.Axis,{id:"bottom",position:x.Position.Bottom,tickFormat:t=>{var e,n;return`${null!==(e=null===(n=o[t])||void 0===n?void 0:n.key_as_string)&&void 0!==e?e:""}`},hide:!0}),Object(d.jsx)(x.BarSeries,{id:"count",xScaleType:x.ScaleType.Ordinal,yScaleType:x.ScaleType.Linear,xAccessor:"x",yAccessors:["doc_count"],data:o,styleAccessor:t=>t.datum.color})),Object(d.jsx)("div",{className:v()("dataGridChart__legend",{"dataGridChart__legend--numeric":"number"===e.schema}),"data-test-subj":`${n}-legend`},u),!r&&Object(d.jsx)("div",{"data-test-subj":`${n}-id`},e.id));var l},L=({config:t,isNumeric:e})=>{const{stats:n}=t;if(void 0===n)return null;const{topValues:r,cardinality:a}=n;if(void 0===a||void 0===r||void 0===t.fieldName)return null;const i={cardinality:a,data:r.map((t=>({...t,key:t.key.toString()}))),id:t.fieldName,type:"ordinal"},o={id:t.fieldName,schema:void 0};return Object(d.jsx)(A,{chartData:i,columnType:o,dataTestSubj:`dataVisualizerDataGridChart-${t.fieldName}`,hideLabel:!0,maxChartColumns:10,isNumeric:e})};var R=n(22);const V=({config:t})=>{const e=t.stats;return void 0===e||void 0===e.min||void 0===e.median||void 0===e.max?null:Object(d.jsx)(i.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(d.jsx)(i.EuiFlexGroup,{gutterSize:"xs"},Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},Object(d.jsx)(R.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.minTitle",defaultMessage:"min"}))),Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},Object(d.jsx)(R.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.medianTitle",defaultMessage:"median"}))),Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},Object(d.jsx)(R.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.maxTitle",defaultMessage:"max"})))),Object(d.jsx)(i.EuiFlexGroup,{gutterSize:"xs"},Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},e.min)),Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},e.median)),Object(d.jsx)(i.EuiFlexItem,null,Object(d.jsx)(i.EuiText,{size:"xs"},e.max))))};var D=n(67);const P=({config:t})=>{const e=Object(r.useMemo)((()=>{const e=Object(D.b)(t);if(e){const n=[{key:"true",key_as_string:"true",doc_count:e.trueCount},{key:"false",key_as_string:"false",doc_count:e.falseCount}];return{id:t.fieldName,cardinality:2,data:n,type:"boolean"}}}),[t]);if(!e||void 0===t.fieldName)return null;const n={id:t.fieldName,schema:void 0},a=`dataVisualizerDataGridChart-${t.fieldName}`;return Object(d.jsx)(A,{dataTestSubj:a,chartData:e,columnType:n,hideLabel:!0,maxChartColumns:10})},I=({cardinality:t,showIcon:e})=>void 0===t?null:Object(d.jsx)(a.a.Fragment,null,e?Object(d.jsx)(i.EuiIcon,{type:"database",size:"m",className:"columnHeader__icon"}):null,Object(d.jsx)(i.EuiText,{size:"xs"},t));var B=n(73);n(125);const G=({items:t,pageState:e,updatePageState:n,getItemIdToExpandedRowMap:a,extendedColumns:s,showPreviewByDefault:h,onChange:m,loading:v})=>{const[x,b]=Object(r.useState)([]),[y,_]=Object(r.useState)(!1),{onTableChange:M,pagination:w,sorting:j}=function(t,e,n){const{pageIndex:a,pageSize:i,sortField:o,sortDirection:u}=e;return{onTableChange:Object(r.useCallback)((({page:t,sort:r})=>{var a,i,o,u;const l={...e,pageIndex:null!==(a=null==t?void 0:t.index)&&void 0!==a?a:e.pageIndex,pageSize:null!==(i=null==t?void 0:t.size)&&void 0!==i?i:e.pageSize,sortField:null!==(o=null==r?void 0:r.field)&&void 0!==o?o:e.sortField,sortDirection:null!==(u=null==r?void 0:r.direction)&&void 0!==u?u:e.sortDirection};n(l)}),[e,n]),pagination:Object(r.useMemo)((()=>({pageIndex:a,pageSize:i,totalItemCount:t.length,pageSizeOptions:g})),[t,a,i]),sorting:Object(r.useMemo)((()=>({sort:{field:o,direction:u}})),[o,u])}}(t,e,n),[T,E]=Object(r.useState)(null==h||h),[k,O]=Object(r.useState)(Object(D.a)()),[S,C]=Object(r.useState)(1400),N=Object(r.useCallback)((e=>{b(e?t.map((t=>t.fieldName)).filter((t=>void 0!==t)):[]),_(e)}),[t]),F=Object(r.useCallback)(Object(u.throttle)((t=>{C(t.width),O(Object(D.a)(t.width))}),500),[S]),z=Object(r.useCallback)((()=>{E(!T),m&&m({showDistributions:!T})}),[m,T]);const A=Object(r.useMemo)((()=>{const t=[{name:"xs"!==k.breakPoint&&"s"!==k.breakPoint?Object(d.jsx)(i.EuiButtonIcon,{"data-test-subj":"dataVisualizerToggleDetailsForAllRowsButton "+(y?"expanded":"collapsed"),onClick:()=>N(!y),"aria-label":y?o.i18n.translate("xpack.dataVisualizer.dataGrid.collapseDetailsForAllAriaLabel",{defaultMessage:"Collapse details for all fields"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.expandDetailsForAllAriaLabel",{defaultMessage:"Expand details for all fields"}),iconType:y?"arrowDown":"arrowRight"}):null,align:i.RIGHT_ALIGNMENT,width:k.expander,isExpander:!0,render:t=>{var e;const n=null!==(e=t.displayName)&&void 0!==e?e:t.fieldName;if(void 0===t.fieldName)return null;const r=x.includes(t.fieldName)?"arrowDown":"arrowRight";return Object(d.jsx)(i.EuiButtonIcon,{"data-test-subj":`dataVisualizerDetailsToggle-${t.fieldName}-${r}`,onClick:()=>function(t){if(void 0===t.fieldName)return;const e=x.indexOf(t.fieldName);-1!==e?x.splice(e,1):x.push(t.fieldName),b([...x])}(t),"aria-label":x.includes(t.fieldName)?o.i18n.translate("xpack.dataVisualizer.dataGrid.rowCollapse",{defaultMessage:"Hide details for {fieldName}",values:{fieldName:n}}):o.i18n.translate("xpack.dataVisualizer.dataGrid.rowExpand",{defaultMessage:"Show details for {fieldName}",values:{fieldName:n}}),iconType:r})},"data-test-subj":"dataVisualizerTableColumnDetailsToggle"},{field:"type",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.typeColumnName",{defaultMessage:"Type"}),render:t=>Object(d.jsx)(B.a,{type:t,tooltipEnabled:!0}),width:k.type,sortable:!0,align:i.CENTER_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnType"},{field:"fieldName",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.nameColumnName",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:(t,e)=>{var n;const r=null!==(n=e.displayName)&&void 0!==n?n:e.fieldName;return Object(d.jsx)(i.EuiText,{size:"xs","data-test-subj":`dataVisualizerDisplayName-${e.fieldName}`},r)},align:i.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnName"},{field:"docCount",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.documentsCountColumnName",{defaultMessage:"Documents (%)"}),render:(t,e)=>Object(d.jsx)(f,{config:e,showIcon:k.showIcon}),sortable:t=>{var e;return null==t||null===(e=t.stats)||void 0===e?void 0:e.count},align:i.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDocumentsCount",width:k.docCount},{field:"stats.cardinality",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.distinctValuesColumnName",{defaultMessage:"Distinct values"}),render:t=>Object(d.jsx)(I,{cardinality:t,showIcon:k.showIcon}),sortable:!0,align:i.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistinctValues",width:k.distinctValues},{name:Object(d.jsx)("div",{className:"columnHeader__title"},k.showIcon?Object(d.jsx)(i.EuiIcon,{type:"visBarVertical",className:"columnHeader__icon"}):null,o.i18n.translate("xpack.dataVisualizer.dataGrid.distributionsColumnName",{defaultMessage:"Distributions"}),Object(d.jsx)(i.EuiToolTip,{content:T?o.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsTooltip",{defaultMessage:"Hide distributions"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsTooltip",{defaultMessage:"Show distributions"})},Object(d.jsx)(i.EuiButtonIcon,{style:{marginLeft:4},size:"s",iconType:T?"eyeClosed":"eye",onClick:()=>z(),"aria-label":T?o.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsAriaLabel",{defaultMessage:"Show distributions"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsAriaLabel",{defaultMessage:"Hide distributions"})}))),render:t=>{var e,n,r,a;return void 0===t||!1===T?null:t.type!==l.d.KEYWORD&&t.type!==l.d.IP||void 0===(null===(e=t.stats)||void 0===e?void 0:e.topValues)?t.type===l.d.NUMBER?c(t)&&void 0!==(null===(n=t.stats)||void 0===n?void 0:n.distribution)?(null===(r=t.stats)||void 0===r||null===(a=r.distribution)||void 0===a?void 0:a.percentiles.length)<=2?Object(d.jsx)(L,{config:t,isNumeric:!0}):Object(d.jsx)(p,{config:t}):Object(d.jsx)(V,{config:t}):t.type===l.d.BOOLEAN?Object(d.jsx)(P,{config:t}):null:Object(d.jsx)(L,{config:t})},width:k.distributions,align:i.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistribution"}];return s?[...t,...s]:t}),[y,T,n,s,k.breakPoint,N]),R=Object(r.useMemo)((()=>a(x,t)),[t,x,a]);return Object(d.jsx)(i.EuiResizeObserver,{onResize:F},(e=>Object(d.jsx)("div",{"data-test-subj":"dataVisualizerTableContainer",ref:e},Object(d.jsx)(i.EuiInMemoryTable,{message:v?o.i18n.translate("xpack.dataVisualizer.dataGrid.searchingMessage",{defaultMessage:"Searching"}):void 0,className:"dvTable",items:t,itemId:"fieldName",columns:A,pagination:w,sorting:j,isExpandable:!0,itemIdToExpandedRowMap:R,isSelectable:!1,onTableChange:M,"data-test-subj":"dataVisualizerTable",rowProps:t=>({"data-test-subj":`dataVisualizerRow row-${t.fieldName}`})}))))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n(0);var r=n(21),a=n(1),i=n(68),o=n.n(i),u=n(82),l=n.n(u),s=n(29),c=n.n(s),d=n(5),f=["type","label","size","scripted","className"],h={iconType:"questionInCircle",color:"gray"},p={boolean:{iconType:"tokenBoolean"},conflict:{iconType:"alert",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},murmur3:{iconType:"tokenFile"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function g(t){var e=t.type,n=t.label,a=t.size,i=void 0===a?"s":a,u=t.scripted,s=t.className,g=l()(t,f),m=p[e]||h;return Object(d.jsx)(r.EuiToken,o()({},m,{className:c()("kbnFieldIcon",s),"aria-label":n||e,title:n||e,size:i,fill:u?"dark":void 0},g))}n(115);var m={s:"kbnFieldButton--small",m:null};Object.keys(m);var v=n(60);n(120);const x=({tooltipEnabled:t=!1,type:e})=>{var n;const i=null!==(n=Object(v.a)(e))&&void 0!==n?n:a.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.fieldTypeTooltip",{defaultMessage:"{type} type",values:{type:e}});return!0===t?Object(d.jsx)(r.EuiToolTip,{position:"left",content:i,anchorClassName:"dvFieldTypeIcon__anchor"},Object(d.jsx)(g,{type:e})):Object(d.jsx)(g,{type:e,label:i})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return m}));var r=n(0),a=n(57),i=n(75),o=n(21),u=n(32);const l=t=>{if("string"==typeof t){var e,n;const r=t.trim().replace("POINT (","").replace(")",""),a=g.exec(r.trim());if(null!=(null==a||null===(e=a.groups)||void 0===e?void 0:e.lat)&&null!=(null==a||null===(n=a.groups)||void 0===n?void 0:n.lon))return{lat:parseFloat(a.groups.lat.trim()),lon:parseFloat(a.groups.lon.trim())}}},s=Object(o.euiPaletteColorBlind)()[0],c=(t,e=s)=>({id:"geo_points",label:"Geo points",sourceDescriptor:{type:u.SOURCE_TYPES.GEOJSON_FILE,__featureCollection:{features:t,type:"FeatureCollection"}},visible:!0,style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:e}},lineColor:{type:"STATIC",options:{color:"#fff"}},lineWidth:{type:"STATIC",options:{size:2}},iconSize:{type:"STATIC",options:{size:6}}}},type:u.LAYER_TYPE.GEOJSON_VECTOR});var d=n(56),f=n(65),h=n(55),p=n(5);const g=RegExp("(?<lat>.+) (?<lon>.+)"),m=({config:t})=>{const e=Object(r.useMemo)((()=>{const{stats:e}=t;if(void 0===e||void 0===e.topValues)return null;if(Array.isArray(e.topValues)){const n=[],r=[];for(let a=0;a<e.topValues.length;a++){const i=e.topValues[a],o=l(i.key);if(o){const e=`(${o.lat}, ${o.lon})`;r.push(o),n.push({type:"Feature",id:`fileDataVisualizer-${t.fieldName}-${a}`,geometry:{type:"Point",coordinates:[o.lat,o.lon]},properties:{value:e,count:i.doc_count}})}}if(n.length>0)return{examples:r,layerList:[c(n)]}}}),[t]);return Object(p.jsx)(d.a,{dataTestSubj:"dataVisualizerGeoPointContent"},Object(p.jsx)(a.a,{config:t}),e&&Array.isArray(e.examples)&&Object(p.jsx)(f.a,{examples:e.examples}),e&&Array.isArray(e.layerList)&&Object(p.jsx)(h.a,{className:"dvPanel__wrapper dvMap__wrapper",grow:!0},Object(p.jsx)(i.a,{layerList:e.layerList})))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),a=n(21),i=n(32),o=n(39),u=n(34),l=n(49),s=(n(130),n(5));function c({layerList:t,mapEmbeddableInput:e,renderTooltipContent:n}){const[c,d]=Object(r.useState)(),f=Object(r.useRef)(null),h=Object(r.useRef)(),{services:{embeddable:p,maps:g,data:m}}=Object(l.a)(),v=p?p.getEmbeddableFactory(o.MAP_SAVED_OBJECT_TYPE):void 0;return Object(r.useEffect)((()=>{!async function(){c&&!Object(u.isErrorEmbeddable)(c)&&Array.isArray(t)&&Array.isArray(h.current)&&c.setLayerList([...h.current,...t])}()}),[c,t]),Object(r.useEffect)((()=>{!async function(){var t;if(!v)return void console.error("Map embeddable not found.");const e={id:Object(a.htmlIdGenerator)()(),attributes:{title:""},filters:null!==(t=m.query.filterManager.getFilters())&&void 0!==t?t:[],hidePanelTitles:!0,viewMode:u.ViewMode.VIEW,isLayerTOCOpen:!1,hideFilterActions:!0,mapSettings:{disableInteractive:!1,hideToolbarOverlay:!1,hideLayerControl:!1,hideViewControl:!1,initialLocation:i.INITIAL_LOCATION.AUTO_FIT_TO_BOUNDS,autoFitToDataBounds:!0}},n=await v.create(e);if(n&&!Object(u.isErrorEmbeddable)(n)){const t=g?await g.createLayerDescriptors.createBasemapLayerDescriptor():null;t&&(h.current=[t],await n.setLayerList(h.current))}d(n)}()}),[]),Object(r.useEffect)((()=>{c&&!Object(u.isErrorEmbeddable)(c)&&void 0!==e&&c.updateInput(e)}),[c,e]),Object(r.useEffect)((()=>{c&&!Object(u.isErrorEmbeddable)(c)&&void 0!==n&&c.setRenderTooltipContent(n)}),[c,n]),Object(r.useEffect)((()=>{f.current&&c&&c.render(f.current)}),[c,f]),p?g?Object(s.jsx)("div",{"data-test-subj":"dataVisualizerEmbeddedMapContent",className:"embeddedMap__content",ref:f}):(console.error("Maps start plugin not found"),null):(console.error("Embeddable start plugin not found"),null)}},,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(37),a=n(0),i=r.__importDefault(n(114));e.default=function(t,e){var n=a.useState(e),r=n[0],o=n[1];return i.default((function(){var e=t.subscribe(o);return function(){return e.unsubscribe()}}),[t]),r}},function(t,e,n){t.exports=n(14)(6)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(21),a=n(22),i=(n(0),n(5));const o=({fieldName:t,error:e})=>Object(i.jsx)(r.EuiCallOut,{heading:"p",color:"danger",size:"s"},Object(i.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.index.fieldStatisticsErrorMessage",defaultMessage:"Error getting statistics for field '{fieldName}' because {reason}",values:{fieldName:t,reason:e.message}}))},,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return x})),n.d(e,"b",(function(){return _})),n.d(e,"d",(function(){return F})),n.d(e,"c",(function(){return z})),n.d(e,"e",(function(){return L})),n.d(e,"f",(function(){return V})),n.d(e,"g",(function(){return D}));var r=n(0),a=n.n(r),i=n(21),o=n(28),u=n(22),l=n(1),s=n(58),c=n(67),d=n(54),f=n(94),h=n(57),p=n(56),g=n(55),m=n(5);function v(t,e){return`${t} (${function(t){return 0===t?"0%":t>=.1?`${Object(d.h)(t)}%`:"< 0.1%"}(t/e*100)})`}const x=({config:t})=>{const e="fieldFormat"in t?t.fieldFormat:void 0,n=Object(r.useMemo)((()=>Object(c.b)(t)),[t]),a=Object(f.a)();if(!n)return null;const{trueCount:d,falseCount:x,count:b}=n,y=[{function:"true",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.trueCountLabel",defaultMessage:"true"}),value:v(d,b)},{function:"false",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.falseCountLabel",defaultMessage:"false"}),value:v(x,b)}],_=[{field:"function",name:"",render:(t,e)=>e.display,width:"25px",align:i.LEFT_ALIGNMENT},{field:"value",name:"",render:t=>Object(m.jsx)("strong",null,t),align:i.RIGHT_ALIGNMENT}],M=l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.summaryTableTitle",{defaultMessage:"Summary"});return Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerBooleanContent"},Object(m.jsx)(h.a,{config:t}),Object(m.jsx)(g.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(m.jsx)(s.a,null,M),Object(m.jsx)(i.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:y,columns:_,tableCaption:M})),Object(m.jsx)(g.a,{className:"dvPanel__wrapper dvPanel--uniform"},Object(m.jsx)(s.a,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardBoolean.valuesLabel",defaultMessage:"Values"})),Object(m.jsx)(i.EuiSpacer,{size:"xs"}),Object(m.jsx)(o.Chart,{renderer:"canvas",size:{height:70}},Object(m.jsx)(o.Axis,{id:"bottom",position:"bottom",showOverlappingTicks:!0}),Object(m.jsx)(o.Axis,{id:"left2",title:"Left axis",hide:!0,tickFormat:t=>v(t,b)}),Object(m.jsx)(o.Settings,{showLegend:!1,theme:a}),Object(m.jsx)(o.BarSeries,{id:t.fieldName||e,data:[{x:"true",count:n.trueCount},{x:"false",count:n.falseCount}],splitSeriesAccessors:["x"],stackAccessors:["x"],xAccessor:"x",xScaleType:o.ScaleType.Ordinal,yAccessors:["count"],yScaleType:o.ScaleType.Linear}))))};var b=n(38);const y="MMM D YYYY, HH:mm:ss.SSS",_=({config:t})=>{const{stats:e}=t;if(void 0===e)return null;const{earliest:n,latest:r}=e,a=l.i18n.translate("xpack.dataVisualizer.dataGrid.field.cardDate.summaryTableTitle",{defaultMessage:"Summary"}),o=[{function:"earliest",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.earliestLabel",defaultMessage:"earliest"}),value:"string"==typeof n?n:Object(b.formatDate)(n,y)},{function:"latest",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.latestLabel",defaultMessage:"latest"}),value:"string"==typeof r?r:Object(b.formatDate)(r,y)}],c=[{name:"",field:"function",render:(t,e)=>e.display,width:"70px",align:i.LEFT_ALIGNMENT},{field:"value",name:"",render:t=>Object(m.jsx)("strong",null,t),align:i.RIGHT_ALIGNMENT}];return Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerDateContent"},Object(m.jsx)(h.a,{config:t}),Object(m.jsx)(g.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper dvPanel__dateSummary"},Object(m.jsx)(s.a,null,a),Object(m.jsx)(i.EuiBasicTable,{className:"dvSummaryTable","data-test-subj":"dataVisualizerDateSummaryTable",compressed:!0,items:o,columns:c,tableCaption:a,tableLayout:"auto"})))};n(74);var M=n(29),w=n.n(M);function j(t,e){const n=100*t/e;return n>=.1?`${Object(d.h)(n,1)}%`:"< 0.1%"}const T=({stats:t,fieldFormat:e,barColor:n,compressed:o,onAddFilter:c})=>{if(void 0===t||!t.topValues)return null;const{topValues:f,topValuesSampleSize:h,topValuesSamplerShardSize:p,count:v,isTopValuesSampled:x,fieldName:b}=t,y=!0===x?h:v;return Object(m.jsx)(g.a,{dataTestSubj:"dataVisualizerFieldDataTopValues",className:w()("dvPanel__wrapper",o?"dvPanel--compressed":void 0)},Object(m.jsx)(s.a,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValuesLabel",defaultMessage:"Top values"})),Object(m.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataTopValuesContent",className:w()("fieldDataTopValuesContainer","dvTopValues__wrapper")},Array.isArray(f)&&f.map((t=>Object(m.jsx)(i.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",key:t.key},Object(m.jsx)(i.EuiFlexItem,{"data-test-subj":"dataVisualizerFieldDataTopValueBar"},Object(m.jsx)(i.EuiProgress,{value:t.doc_count,max:y,color:n,size:"xs",label:Object(d.d)(t.key,e),className:w()("eui-textTruncate","topValuesValueLabelContainer"),valueText:`${t.doc_count}${void 0!==y?` (${j(t.doc_count,y)})`:""}`})),void 0!==b&&void 0!==t.key&&void 0!==c?Object(m.jsx)(a.a.Fragment,null,Object(m.jsx)(i.EuiButtonIcon,{iconSize:"s",iconType:"plusInCircle",onClick:()=>c(b,"number"==typeof t.key?t.key.toString():t.key,"+"),"aria-label":l.i18n.translate("xpack.dataVisualizer.dataGrid.field.addFilterAriaLabel",{defaultMessage:'Filter for {fieldName}: "{value}"',values:{fieldName:b,value:t.key}}),"data-test-subj":`dvFieldDataTopValuesAddFilterButton-${t.key}-${t.key}`,style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),Object(m.jsx)(i.EuiButtonIcon,{iconSize:"s",iconType:"minusInCircle",onClick:()=>c(b,"number"==typeof t.key?t.key.toString():t.key,"-"),"aria-label":l.i18n.translate("xpack.dataVisualizer.dataGrid.field.removeFilterAriaLabel",{defaultMessage:'Filter out {fieldName}: "{value}"',values:{fieldName:b,value:t.key}}),"data-test-subj":`dvFieldDataTopValuesExcludeFilterButton-${t.key}-${t.key}`,style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})):null))),!0===x&&Object(m.jsx)(r.Fragment,null,Object(m.jsx)(i.EuiSpacer,{size:"xs"}),Object(m.jsx)(i.EuiText,{size:"xs",textAlign:"center"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValues.calculatedFromSampleDescription",defaultMessage:"Calculated from sample of {topValuesSamplerShardSize} documents per shard",values:{topValuesSamplerShardSize:p}})))))};var E=n(49),k=n(32),O=n(75);const S=(t,e,{layerId:n,field:r})=>({id:Object(i.htmlIdGenerator)()(),label:l.i18n.translate("xpack.dataVisualizer.choroplethMap.topValuesCount",{defaultMessage:"Top values count for {fieldName}",values:{fieldName:t}}),joins:[{leftField:r,right:{id:"anomaly_count",type:k.SOURCE_TYPES.TABLE_SOURCE,__rows:e,__columns:[{name:"key",type:"string"},{name:"doc_count",type:"number"}],term:"key"}}],sourceDescriptor:{type:"EMS_FILE",id:n},style:{type:"VECTOR",properties:{icon:{type:k.STYLE_TYPE.STATIC,options:{value:"marker"}},fillColor:{type:k.STYLE_TYPE.DYNAMIC,options:{color:"Blue to Red",colorCategory:"palette_0",fieldMetaOptions:{isEnabled:!0,sigma:3},type:k.COLOR_MAP_TYPE.ORDINAL,field:{name:"doc_count",origin:k.FIELD_ORIGIN.JOIN},useCustomColorRamp:!1}},lineColor:{type:k.STYLE_TYPE.DYNAMIC,options:{fieldMetaOptions:{isEnabled:!0}}},lineWidth:{type:k.STYLE_TYPE.STATIC,options:{size:1}}},isTimeAware:!0},type:k.LAYER_TYPE.GEOJSON_VECTOR}),C=({stats:t,suggestion:e})=>{const{fieldName:n,isTopValuesSampled:a,topValues:o,topValuesSamplerShardSize:l}=t,s=Object(r.useMemo)((()=>[S(n||"",o||[],e)]),[e,n,o]);return Object(m.jsx)(g.a,{dataTestSubj:"fileDataVisualizerChoroplethMapTopValues",className:"dvPanel__wrapper",grow:!0},Object(m.jsx)("div",{className:"dvMap__wrapper"},Object(m.jsx)(O.a,{layerList:s})),!0===a&&Object(m.jsx)("div",null,Object(m.jsx)(i.EuiSpacer,{size:"s"}),Object(m.jsx)(i.EuiText,{size:"xs",textAlign:"center"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.choroplethMapTopValues.calculatedFromSampleDescription",defaultMessage:"Calculated from sample of {topValuesSamplerShardSize} documents per shard",values:{topValuesSamplerShardSize:l}}))))};var N=n(83);const F=({config:t,onAddFilter:e})=>{var n,a;const[i,o]=Object(r.useState)(),{stats:u,fieldName:l}=t,s="fieldFormat"in t?t.fieldFormat:void 0,{services:{maps:c}}=Object(E.a)(),d=Object(r.useCallback)((async()=>{if(!c)return;const t=await c.suggestEMSTermJoinConfig({sampleValues:Array.isArray(null==u?void 0:u.topValues)?null==u?void 0:u.topValues.map((t=>t.key)):[],sampleValuesColumnName:l||""});o(t)}),[l]);return Object(r.useEffect)((function(){d()}),[d]),Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerKeywordContent"},Object(m.jsx)(h.a,{config:t}),null!==(n=t.stats)&&void 0!==n&&n.error&&void 0!==l?Object(m.jsx)(N.a,{fieldName:l,error:null===(a=t.stats)||void 0===a?void 0:a.error}):null,Object(m.jsx)(T,{stats:u,fieldFormat:s,barColor:"success",onAddFilter:e}),i&&u&&Object(m.jsx)(C,{stats:u,suggestion:i}))},z=({config:t,onAddFilter:e})=>{const{stats:n}=t;if(void 0===n)return null;const{count:r,sampleCount:a,cardinality:i}=n;if(void 0===r||void 0===a||void 0===i)return null;const o="fieldFormat"in t?t.fieldFormat:void 0;return Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerIPContent"},Object(m.jsx)(h.a,{config:t}),n&&Object(m.jsx)(T,{stats:n,fieldFormat:o,barColor:"success",onAddFilter:e}))};var A=n(93);const L=({config:t,onAddFilter:e})=>{var n,a;const{stats:o}=t;Object(r.useEffect)((()=>{const t=Object(A.b)(o,260);f(t)}),[]);const[c,f]=Object(r.useState)([]);if(void 0===o)return null;const{min:v,median:x,max:b,distribution:y}=o,_="fieldFormat"in t?t.fieldFormat:void 0,M=[{function:"min",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.minLabel",defaultMessage:"min"}),value:Object(d.d)(v,_)},{function:"median",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.medianLabel",defaultMessage:"median"}),value:Object(d.d)(x,_)},{function:"max",display:Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.maxLabel",defaultMessage:"max"}),value:Object(d.d)(b,_)}],w=[{name:"",render:t=>t.display,width:"25px",align:i.LEFT_ALIGNMENT},{field:"value",name:"",render:t=>Object(m.jsx)("strong",null,t),align:i.RIGHT_ALIGNMENT}],j=l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.summaryTableTitle",{defaultMessage:"Summary"});return Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerNumberContent"},Object(m.jsx)(h.a,{config:t}),Object(m.jsx)(g.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper",grow:1},Object(m.jsx)(s.a,null,j),Object(m.jsx)(i.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:M,columns:w,tableCaption:j,"data-test-subj":"dataVisualizerNumberSummaryTable"})),o&&Object(m.jsx)(T,{stats:o,fieldFormat:_,barColor:"success",compressed:!0,onAddFilter:e}),y&&void 0!==(null===(n=o.distribution)||void 0===n?void 0:n.percentiles.length)&&(null===(a=o.distribution)||void 0===a?void 0:a.percentiles.length)>2&&Object(m.jsx)(g.a,{dataTestSubj:"dataVisualizerFieldDataMetricDistribution",className:"dvPanel__wrapper",grow:!1},Object(m.jsx)(i.EuiFlexItem,{grow:!1},Object(m.jsx)(s.a,null,Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.distributionTitle",defaultMessage:"Distribution"}))),Object(m.jsx)(i.EuiFlexItem,{className:"metricDistributionChartContainer"},Object(m.jsx)(A.a,{width:260,height:200,chartData:c,fieldFormat:_})),Object(m.jsx)(i.EuiFlexItem,{grow:!1},Object(m.jsx)(i.EuiText,{size:"xs",textAlign:"center"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.displayingPercentilesLabel",defaultMessage:"Displaying {minPercent} - {maxPercent} percentiles",values:{minPercent:Object(d.e)(y.minPercentile),maxPercent:Object(d.e)(y.maxPercentile)}})))))};var R=n(65);const V=({config:t})=>{const{stats:e}=t;return void 0===e?null:void 0===e.count?Object(m.jsx)(a.a.Fragment,null,Array.isArray(e.examples)&&Object(m.jsx)(R.a,{examples:e.examples})):Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerOtherContent"},Object(m.jsx)(h.a,{config:t}),Array.isArray(e.examples)&&Object(m.jsx)(R.a,{examples:e.examples}))},D=({config:t})=>{const{stats:e}=t;if(void 0===e)return null;const{examples:n}=e;if(void 0===n)return null;const a=n.length;return Object(m.jsx)(p.a,{dataTestSubj:"dataVisualizerTextContent"},Object(m.jsx)(i.EuiFlexItem,{grow:!1,className:"dvText__wrapper"},a>0&&Object(m.jsx)(R.a,{examples:n}),0===a&&Object(m.jsx)(r.Fragment,null,Object(m.jsx)(i.EuiSpacer,{size:"xs"}),Object(m.jsx)(i.EuiCallOut,{size:"s",title:l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldText.noExamplesForFieldsTitle",{defaultMessage:"No examples were obtained for this field"}),iconType:"alert"},Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldNotPresentDescription",defaultMessage:"This field was not present in the {sourceParam} field of documents queried.",values:{sourceParam:Object(m.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source")}}),Object(m.jsx)(i.EuiSpacer,{size:"s"}),Object(m.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldMayBePopulatedDescription",defaultMessage:"It may be populated, for example, using a {copyToParam} parameter in the document mapping, or be pruned from the {sourceParam} field after indexing through the use of {includesParam} and {excludesParam} parameters.",values:{copyToParam:Object(m.jsx)("span",{className:"dvExpandedRow__codeContent"},"copy_to"),sourceParam:Object(m.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source"),includesParam:Object(m.jsx)("span",{className:"dvExpandedRow__codeContent"},"includes"),excludesParam:Object(m.jsx)("span",{className:"dvExpandedRow__codeContent"},"excludes")}})))))}},,function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return d}));n(0);var r=n(1),a=n(28),i=n(22),o=n(54),u=n(5);const l=({chartPoint:t,maxWidth:e,fieldFormat:n})=>void 0===t?null:Object(u.jsx)("div",{style:{maxWidth:e}},t.dataMax>t.dataMin?Object(u.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueBetweenLabel",defaultMessage:"{percent}% of documents have values between {minValFormatted} and {maxValFormatted}",values:{percent:t.percent,minValFormatted:Object(o.d)(t.dataMin,n),maxValFormatted:Object(o.d)(t.dataMax,n)}}):Object(u.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueEqualLabel",defaultMessage:"{percent}% of documents have a value of {valFormatted}",values:{percent:t.percent,valFormatted:Object(o.d)(t.dataMin,n)}}));var s=n(94);const c=({width:t,height:e,chartData:n,fieldFormat:i,hideXAxis:c})=>{const d=r.i18n.translate("xpack.dataVisualizer.dataGrid.field.metricDistributionChart.seriesName",{defaultMessage:"distribution"}),f=Object(s.a)();return Object(u.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataMetricDistributionChart",className:"dataGridChart__histogram"},Object(u.jsx)(a.Chart,{size:{width:t,height:e}},Object(u.jsx)(a.Settings,{theme:f,tooltip:{headerFormatter:e=>{const r=e.value,a=n.find((t=>t.x===r));return Object(u.jsx)(l,{chartPoint:a,maxWidth:t,fieldFormat:i})}}}),Object(u.jsx)(a.Axis,{id:"bottom",position:a.Position.Bottom,tickFormat:t=>Object(o.d)(t,i),hide:!0===c}),Object(u.jsx)(a.Axis,{id:"left",position:a.Position.Left,tickFormat:t=>t.toFixed(3),hide:!0}),Object(u.jsx)(a.AreaSeries,{id:"metric_distribution",name:d,xScaleType:a.ScaleType.Linear,yScaleType:a.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],data:n.length>0?n:[{x:0,y:0,dataMin:0,dataMax:0,percent:0}],curve:a.CurveType.CURVE_STEP_AFTER})))};function d(t,e){let n=[];const r=t.distribution;if(void 0===r)return n;const a=r.percentiles;if(0===a.length)return n;const i=a[0].minValue,o=a[a.length-1].maxValue;let u=i,l=o;o===i&&(0!==i?(u=0,l=2*i):l=1);const s=3/e*(l-u),c=[];let d;a.forEach(((t,e)=>{if(0===e){const e={x0:t.minValue,x1:Math.max(t.minValue+s,t.maxValue),y:0,dataMin:t.minValue,dataMax:t.maxValue,percent:t.percent,isMinWidth:!1};e.y=t.percent/(e.x1-e.x0)*Math.max(1,s/Math.max(t.maxValue-t.minValue,.5*s)),e.isMinWidth=t.maxValue<=t.minValue+s,c.push(e),d=e}else if(!1===d.isMinWidth||t.maxValue>d.x1){const e={x0:d.x1,x1:Math.max(d.x1+s,t.maxValue),y:0,dataMin:t.minValue,dataMax:t.maxValue,percent:t.percent,isMinWidth:!1};e.y=t.percent/(e.x1-e.x0)*Math.max(1,s/Math.max(t.maxValue-t.minValue,.5*s)),e.isMinWidth=t.maxValue<=d.x1+s,c.push(e),d=e}else d.percent=d.percent+t.percent,d.y=d.percent/(d.x1-d.x0),d.dataMax=t.maxValue})),o!==i&&(l=c[c.length-1].x1);let f=c.map((t=>t.y));f=f.sort(((t,e)=>t-e));let h=0;const p=c.length;h=1===Math.abs(p%2)?20*f[Math.floor(p/2)]:20*(f[Math.floor(p/2)-1]+f[Math.floor(p/2)])/2,c.forEach((t=>{t.y=Math.min(t.y,h)})),n=c.map((t=>{const{x0:e,y:n,dataMin:r,dataMax:a,percent:i}=t;return{x:e,y:n,dataMin:r,dataMax:a,percent:i}}));const g=c[c.length-1];return n.push({x:g.x1,y:0,dataMin:g.dataMin,dataMax:g.dataMax,percent:g.percent}),n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(0),a=n(108),i=n.n(a),o=n(36),u=n(1),l=n(49);let s;!function(t){t.LINEAR="linear",t.INFLUENCER="influencer",t.SQRT="sqrt"}(s||(s={}));s.LINEAR,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.linearScaleLabel",{defaultMessage:"Linear"}),s.INFLUENCER,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.influencerScaleLabel",{defaultMessage:"Influencer custom scale"}),s.SQRT,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.sqrtScaleLabel",{defaultMessage:"Sqrt"});let c;!function(t){t.BLUE="blue",t.RED="red",t.RED_GREEN="red-green",t.GREEN_RED="green-red",t.YELLOW_GREEN_BLUE="yellow-green-blue"}(c||(c={}));c.BLUE,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.blueColorRangeLabel",{defaultMessage:"Blue"}),c.RED,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.redColorRangeLabel",{defaultMessage:"Red"}),c.RED_GREEN,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.redGreenColorRangeLabel",{defaultMessage:"Red - Green"}),c.GREEN_RED,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.greenRedColorRangeLabel",{defaultMessage:"Green - Red"}),c.YELLOW_GREEN_BLUE,u.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.yellowGreenBlueColorRangeLabel",{defaultMessage:"Yellow - Green - Blue"});const d=["#FFFFDD","#AAF191","#80D385","#61B385","#3E9583","#217681","#285285","#1F2D86","#000086"],f=i.a.range(0,1,1/(d.length-1));f.push(1);c.BLUE,c.RED,c.RED_GREEN,c.GREEN_RED,c.YELLOW_GREEN_BLUE;function h(){const{services:{uiSettings:t}}=Object(l.a)();return Object(r.useMemo)((()=>({euiTheme:t.get("theme:darkMode")?o.euiDarkVars:o.euiLightVars})),[t])}const p=()=>{const{euiTheme:t}=h();return Object(r.useMemo)((()=>{const e=t.euiColorVis0;return{axes:{tickLabel:{fontSize:parseInt(t.euiFontSizeXS,10),fontFamily:t.euiFontFamily,fontStyle:"italic"}},background:{color:"transparent"},chartMargins:{left:0,right:0,top:0,bottom:0},chartPaddings:{left:0,right:0,top:4,bottom:0},scales:{barsPadding:.1},colors:{vizColors:[e]},areaSeriesStyle:{line:{strokeWidth:1,visible:!0},point:{visible:!1,radius:0,opacity:0},area:{visible:!0,opacity:1}}}}),[t])}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return s}));var r=n(21),a=n(22),i=n(0),o=n.n(i),u=n(5);const l=({fieldsCountStats:t})=>t&&void 0!==t.visibleFieldsCount&&void 0!==t.totalFieldsCount?Object(u.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"dvFieldCount__item","data-test-subj":"dataVisualizerFieldsSummary",responsive:!1},Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiText,null,Object(u.jsx)("h5",null,Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.allFieldsLabel",defaultMessage:"All fields"})))),Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleFieldsCount"},Object(u.jsx)("strong",null,t.visibleFieldsCount))),Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerTotalFieldsCount"},Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:t.totalFieldsCount}})))):null,s=({metricsStats:t})=>t&&void 0!==t.visibleMetricsCount&&void 0!==t.totalMetricFieldsCount?Object(u.jsx)(o.a.Fragment,null,t&&Object(u.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"dvFieldCount__item","data-test-subj":"dataVisualizerMetricFieldsSummary",responsive:!1},Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiText,null,Object(u.jsx)("h5",null,Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.numberFieldsLabel",defaultMessage:"Number fields"})))),Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleMetricFieldsCount"},Object(u.jsx)("strong",null,t.visibleMetricsCount))),Object(u.jsx)(r.EuiFlexItem,{grow:!1},Object(u.jsx)(r.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerMetricFieldsCount"},Object(u.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:t.totalMetricFieldsCount}}))))):null},,,,,,,,,,,,,function(t,e,n){var r,a;!function(){var i={version:"3.5.17"},o=[].slice,u=function(t){return o.call(t)},l=this.document;function s(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(l)try{u(l.documentElement.childNodes)[0].nodeType}catch(t){u=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var d=this.Element.prototype,f=d.setAttribute,h=d.setAttributeNS,p=this.CSSStyleDeclaration.prototype,g=p.setProperty;d.setAttribute=function(t,e){f.call(this,t,e+"")},d.setAttributeNS=function(t,e,n){h.call(this,t,e,n+"")},p.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function x(t){return!isNaN(t)}function b(t){return{left:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}i.ascending=m,i.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},i.min=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&n>r&&(n=r)}return n},i.max=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&r>n&&(n=r)}return n},i.extent=function(t,e){var n,r,a,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},i.sum=function(t,e){var n,r=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)x(n=+t[i])&&(r+=n);else for(;++i<a;)x(n=+e.call(t,t[i],i))&&(r+=n);return r},i.mean=function(t,e){var n,r=0,a=t.length,i=-1,o=a;if(1===arguments.length)for(;++i<a;)x(n=v(t[i]))?r+=n:--o;else for(;++i<a;)x(n=v(e.call(t,t[i],i)))?r+=n:--o;if(o)return r/o},i.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),a=+t[r-1],i=n-r;return i?a+i*(t[r]-a):a},i.median=function(t,e){var n,r=[],a=t.length,o=-1;if(1===arguments.length)for(;++o<a;)x(n=v(t[o]))&&r.push(n);else for(;++o<a;)x(n=v(e.call(t,t[o],o)))&&r.push(n);if(r.length)return i.quantile(r.sort(m),.5)},i.variance=function(t,e){var n,r,a=t.length,i=0,o=0,u=-1,l=0;if(1===arguments.length)for(;++u<a;)x(n=v(t[u]))&&(o+=(r=n-i)*(n-(i+=r/++l)));else for(;++u<a;)x(n=v(e.call(t,t[u],u)))&&(o+=(r=n-i)*(n-(i+=r/++l)));if(l>1)return o/(l-1)},i.deviation=function(){var t=i.variance.apply(this,arguments);return t?Math.sqrt(t):t};var y=b(m);function _(t){return t.length}i.bisectLeft=y.left,i.bisect=i.bisectRight=y.right,i.bisector=function(t){return b(1===t.length?function(e,n){return m(t(e),n)}:t)},i.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,a,i=n-e;i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t},i.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},i.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],a=new Array(n<0?0:n);e<n;)a[e]=[r,r=t[++e]];return a},i.transpose=function(t){if(!(a=t.length))return[];for(var e=-1,n=i.min(t,_),r=new Array(n);++e<n;)for(var a,o=-1,u=r[e]=new Array(a);++o<a;)u[o]=t[o][e];return r},i.zip=function(){return i.transpose(arguments)},i.keys=function(t){var e=[];for(var n in t)e.push(n);return e},i.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},i.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},i.merge=function(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(e=(r=t[a]).length;--e>=0;)n[--o]=r[e];return n};var M=Math.abs;function w(t){for(var e=1;t*e%1;)e*=10;return e}function j(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function T(){this._=Object.create(null)}i.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,a=[],i=w(M(n)),o=-1;if(t*=i,e*=i,(n*=i)<0)for(;(r=t+n*++o)>e;)a.push(r/i);else for(;(r=t+n*++o)<e;)a.push(r/i);return a},i.map=function(t,e){var n=new T;if(t instanceof T)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,a=-1,i=t.length;if(1===arguments.length)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e.call(t,r=t[a],a),r)}else for(var o in t)n.set(o,t[o]);return n};function E(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function k(t){return"\0"===(t+="")[0]?t.slice(1):t}function O(t){return E(t)in this._}function S(t){return(t=E(t))in this._&&delete this._[t]}function C(){var t=[];for(var e in this._)t.push(k(e));return t}function N(){var t=0;for(var e in this._)++t;return t}function F(){for(var t in this._)return!1;return!0}function z(){this._=Object.create(null)}function A(t){return t}function L(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function R(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=V.length;n<r;++n){var a=V[n]+e;if(a in t)return a}}j(T,{has:O,get:function(t){return this._[E(t)]},set:function(t,e){return this._[E(t)]=e},remove:S,keys:C,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:k(e),value:this._[e]});return t},size:N,empty:F,forEach:function(t){for(var e in this._)t.call(this,k(e),this._[e])}}),i.nest=function(){var t,e,n={},r=[],a=[];function o(a,i,u){if(u>=r.length)return e?e.call(n,i):t?i.sort(t):i;for(var l,s,c,d,f=-1,h=i.length,p=r[u++],g=new T;++f<h;)(d=g.get(l=p(s=i[f])))?d.push(s):g.set(l,[s]);return a?(s=a(),c=function(t,e){s.set(t,o(a,e,u))}):(s={},c=function(t,e){s[t]=o(a,e,u)}),g.forEach(c),s}function u(t,e){if(e>=r.length)return t;var n=[],i=a[e++];return t.forEach((function(t,r){n.push({key:t,values:u(r,e)})})),i?n.sort((function(t,e){return i(t.key,e.key)})):n}return n.map=function(t,e){return o(e,t,0)},n.entries=function(t){return u(o(i.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return a[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},i.set=function(t){var e=new z;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},j(z,{has:O,add:function(t){return this._[E(t+="")]=!0,t},remove:S,values:C,size:N,empty:F,forEach:function(t){for(var e in this._)t.call(this,k(e))}}),i.behavior={},i.rebind=function(t,e){for(var n,r=1,a=arguments.length;++r<a;)t[n=arguments[r]]=L(t,e,e[n]);return t};var V=["webkit","ms","moz","Moz","o","O"];function D(){}function P(){}function I(t){var e=[],n=new T;function r(){for(var n,r=e,a=-1,i=r.length;++a<i;)(n=r[a].on)&&n.apply(this,arguments);return t}return r.on=function(r,a){var i,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,i=e.indexOf(o)).concat(e.slice(i+1)),n.remove(r)),a&&e.push(n.set(r,{on:a})),t)},r}function B(){i.event.preventDefault()}function G(){for(var t,e=i.event;t=e.sourceEvent;)e=t;return e}function q(t){for(var e=new P,n=0,r=arguments.length;++n<r;)e[arguments[n]]=I(e);return e.of=function(n,r){return function(a){try{var o=a.sourceEvent=i.event;a.target=t,i.event=a,e[a.type].apply(n,r)}finally{i.event=o}}},e}i.dispatch=function(){for(var t=new P,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=I(t);return t},P.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},i.event=null,i.requote=function(t){return t.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Y(t){return U(t,Z),t}var $=function(t,e){return e.querySelector(t)},W=function(t,e){return e.querySelectorAll(t)},K=function(t,e){var n=t.matches||t[R(t,"matchesSelector")];return(K=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&($=function(t,e){return Sizzle(t,e)[0]||null},W=Sizzle,K=Sizzle.matchesSelector),i.selection=function(){return i.select(l.documentElement)};var Z=i.selection.prototype=[];function X(t){return"function"==typeof t?t:function(){return $(t,this)}}function J(t){return"function"==typeof t?t:function(){return W(t,this)}}Z.select=function(t){var e,n,r,a,i=[];t=X(t);for(var o=-1,u=this.length;++o<u;){i.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,s=r.length;++l<s;)(a=r[l])?(e.push(n=t.call(a,a.__data__,l,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):e.push(null)}return Y(i)},Z.selectAll=function(t){var e,n,r=[];t=J(t);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],l=-1,s=o.length;++l<s;)(n=o[l])&&(r.push(e=u(t.call(n,n.__data__,l,a))),e.parentNode=n);return Y(r)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=i.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+i.requote(t)+"(?:\\s+|$)","g")}function at(t){return(t+"").trim().split(/^|\s+/)}function it(t,e){var n=(t=at(t).map(ot)).length;return"function"==typeof e?function(){for(var r=-1,a=e.apply(this,arguments);++r<n;)t[r](this,a)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ot(t){var e=rt(t);return function(n,r){if(a=n.classList)return r?a.add(t):a.remove(t);var a=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(a)||n.setAttribute("class",nt(a+" "+t))):n.setAttribute("class",nt(a.replace(e," ")))}}function ut(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function st(t){return"function"==typeof t?t:(t=i.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t){return{__data__:t}}function ft(t){return function(){return K(this,t)}}function ht(t){return arguments.length||(t=m),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var a,i=t[n],o=0,u=i.length;o<u;o++)(a=i[o])&&e(a,o,n);return t}function gt(t){return U(t,mt),t}i.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},Z.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=i.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},Z.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=at(t)).length,a=-1;if(e=n.classList){for(;++a<r;)if(!e.contains(t[a]))return!1}else for(e=n.getAttribute("class");++a<r;)if(!rt(t[a]).test(e))return!1;return!0}for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},Z.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(ut(n,t[n],e));return this}if(r<2){var a=this.node();return c(a).getComputedStyle(a,null).getPropertyValue(t)}n=""}return this.each(ut(t,e,n))},Z.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},Z.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Z.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Z.append=function(t){return t=st(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Z.insert=function(t,e){return t=st(t),e=X(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Z.remove=function(){return this.each(ct)},Z.data=function(t,e){var n,r,a=-1,i=this.length;if(!arguments.length){for(t=new Array(i=(n=this[0]).length);++a<i;)(r=n[a])&&(t[a]=r.__data__);return t}function o(t,n){var r,a,i,o=t.length,c=n.length,d=Math.min(o,c),f=new Array(c),h=new Array(c),p=new Array(o);if(e){var g,m=new T,v=new Array(o);for(r=-1;++r<o;)(a=t[r])&&(m.has(g=e.call(a,a.__data__,r))?p[r]=a:m.set(g,a),v[r]=g);for(r=-1;++r<c;)(a=m.get(g=e.call(n,i=n[r],r)))?!0!==a&&(f[r]=a,a.__data__=i):h[r]=dt(i),m.set(g,!0);for(r=-1;++r<o;)r in v&&!0!==m.get(v[r])&&(p[r]=t[r])}else{for(r=-1;++r<d;)a=t[r],i=n[r],a?(a.__data__=i,f[r]=a):h[r]=dt(i);for(;r<c;++r)h[r]=dt(n[r]);for(;r<o;++r)p[r]=t[r]}h.update=f,h.parentNode=f.parentNode=p.parentNode=t.parentNode,u.push(h),l.push(f),s.push(p)}var u=gt([]),l=Y([]),s=Y([]);if("function"==typeof t)for(;++a<i;)o(n=this[a],t.call(n,n.parentNode.__data__,a));else for(;++a<i;)o(n=this[a],t);return l.enter=function(){return u},l.exit=function(){return s},l},Z.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Z.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=ft(t));for(var i=0,o=this.length;i<o;i++){a.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var u=0,l=n.length;u<l;u++)(r=n[u])&&t.call(r,r.__data__,u,i)&&e.push(r)}return Y(a)},Z.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Z.sort=function(t){t=ht.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Z.each=function(t){return pt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},Z.call=function(t){var e=u(arguments);return t.apply(e[0]=this,e),this},Z.empty=function(){return!this.node()},Z.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},Z.size=function(){var t=0;return pt(this,(function(){++t})),t};var mt=[];function vt(t){var e,n;return function(r,a,i){var o,u=t[i].update,l=u.length;for(i!=n&&(n=i,e=0),a>=e&&(e=a+1);!(o=u[e])&&++e<l;);return o}}function xt(t,e,n){var r="__on"+t,a=t.indexOf("."),o=yt;a>0&&(t=t.slice(0,a));var l=bt.get(t);function s(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return l&&(t=l,o=_t),a?e?function(){var a=o(e,u(arguments));s.call(this),this.addEventListener(t,this[r]=a,a.$=n),a._=e}:s:e?D:function(){var e,n=new RegExp("^__on([^.]+)"+i.requote(t)+"$");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}}i.selection.enter=gt,i.selection.enter.prototype=mt,mt.append=Z.append,mt.empty=Z.empty,mt.node=Z.node,mt.call=Z.call,mt.size=Z.size,mt.select=function(t){for(var e,n,r,a,i,o=[],u=-1,l=this.length;++u<l;){r=(a=this[u]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var s=-1,c=a.length;++s<c;)(i=a[s])?(e.push(r[s]=n=t.call(a.parentNode,i.__data__,s,u)),n.__data__=i.__data__):e.push(null)}return Y(o)},mt.insert=function(t,e){return arguments.length<2&&(e=vt(this)),Z.insert.call(this,t,e)},i.select=function(t){var e;return"string"==typeof t?(e=[$(t,l)]).parentNode=l.documentElement:(e=[t]).parentNode=s(t),Y([e])},i.selectAll=function(t){var e;return"string"==typeof t?(e=u(W(t,l))).parentNode=l.documentElement:(e=u(t)).parentNode=null,Y([e])},Z.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(xt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(xt(t,e,n))};var bt=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function yt(t,e){return function(n){var r=i.event;i.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{i.event=r}}}function _t(t,e){var n=yt(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}l&&bt.forEach((function(t){"on"+t in l&&bt.remove(t)}));var Mt,wt=0;function jt(t){var e=".dragsuppress-"+ ++wt,n="click"+e,r=i.select(c(t)).on("touchmove"+e,B).on("dragstart"+e,B).on("selectstart"+e,B);if(null==Mt&&(Mt=!("onselectstart"in t)&&R(t.style,"userSelect")),Mt){var a=s(t).style,o=a[Mt];a[Mt]="none"}return function(t){if(r.on(e,null),Mt&&(a[Mt]=o),t){var i=function(){r.on(n,null)};r.on(n,(function(){B(),i()}),!0),setTimeout(i,0)}}}i.mouse=function(t){return Et(t,G())};var Tt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Tt<0){var a=c(t);if(a.scrollX||a.scrollY){var o=(n=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Tt=!(o.f||o.e),n.remove()}}return Tt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var u=t.getBoundingClientRect();return[e.clientX-u.left-t.clientLeft,e.clientY-u.top-t.clientTop]}function kt(){return i.event.changedTouches[0].identifier}i.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=G().changedTouches),e)for(var r,a=0,i=e.length;a<i;++a)if((r=e[a]).identifier===n)return Et(t,r)},i.behavior.drag=function(){var t=q(a,"drag","dragstart","dragend"),e=null,n=o(D,i.mouse,c,"mousemove","mouseup"),r=o(kt,i.touch,A,"touchmove","touchend");function a(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,a,o,u){return function(){var l,s=this,c=i.event.target.correspondingElement||i.event.target,d=s.parentNode,f=t.of(s,arguments),h=0,p=n(),g=".drag"+(null==p?"":"-"+p),m=i.select(a(c)).on(o+g,b).on(u+g,y),v=jt(c),x=r(d,p);function b(){var t,e,n=r(d,p);n&&(t=n[0]-x[0],e=n[1]-x[1],h|=t|e,x=n,f({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))}function y(){r(d,p)&&(m.on(o+g,null).on(u+g,null),v(h),f({type:"dragend"}))}l=e?[(l=e.apply(s,arguments)).x-x[0],l.y-x[1]]:[0,0],f({type:"dragstart"})}}return a.origin=function(t){return arguments.length?(e=t,a):e},i.rebind(a,t,"on")},i.touches=function(t,e){return arguments.length<2&&(e=G().touches),e?u(e).map((function(e){var n=Et(t,e);return n.identifier=e.identifier,n})):[]};var Ot=1e-6,St=Ot*Ot,Ct=Math.PI,Nt=2*Ct,Ft=Nt-Ot,zt=Ct/2,At=Ct/180,Lt=180/Ct;function Rt(t){return t>0?1:t<0?-1:0}function Vt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Dt(t){return t>1?0:t<-1?Ct:Math.acos(t)}function Pt(t){return t>1?zt:t<-1?-zt:Math.asin(t)}function It(t){return((t=Math.exp(t))+1/t)/2}function Bt(t){return(t=Math.sin(t/2))*t}var Gt=Math.SQRT2;i.interpolateZoom=function(t,e){var n,r,a=t[0],i=t[1],o=t[2],u=e[0],l=e[1],s=e[2],c=u-a,d=l-i,f=c*c+d*d;if(f<St)r=Math.log(s/o)/Gt,n=function(t){return[a+t*c,i+t*d,o*Math.exp(Gt*t*r)]};else{var h=Math.sqrt(f),p=(s*s-o*o+4*f)/(2*o*2*h),g=(s*s-o*o-4*f)/(2*s*2*h),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Gt,n=function(t){var e,n=t*r,u=It(m),l=o/(2*h)*(u*(e=Gt*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[a+l*c,i+l*d,o*u/It(Gt*n+m)]}}return n.duration=1e3*r,n},i.behavior.zoom=function(){var t,e,n,r,a,o,u,s,d,f={x:0,y:0,k:1},h=[960,500],p=Ut,g=250,m=0,v="mousedown.zoom",x="mousemove.zoom",b="mouseup.zoom",y="touchstart.zoom",_=q(M,"zoomstart","zoom","zoomend");function M(t){t.on(v,N).on(Ht+".zoom",z).on("dblclick.zoom",A).on(y,F)}function w(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function j(t){f.k=Math.max(p[0],Math.min(p[1],t))}function T(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function E(t,n,r,a){t.__chart__={x:f.x,y:f.y,k:f.k},j(Math.pow(2,a)),T(e=n,r),t=i.select(t),g>0&&(t=t.transition().duration(g)),t.call(M.event)}function k(){u&&u.domain(o.range().map((function(t){return(t-f.x)/f.k})).map(o.invert)),d&&d.domain(s.range().map((function(t){return(t-f.y)/f.k})).map(s.invert))}function O(t){m++||t({type:"zoomstart"})}function S(t){k(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function C(t){--m||(t({type:"zoomend"}),e=null)}function N(){var t=this,e=_.of(t,arguments),n=0,r=i.select(c(t)).on(x,u).on(b,l),a=w(i.mouse(t)),o=jt(t);function u(){n=1,T(i.mouse(t),a),S(e)}function l(){r.on(x,null).on(b,null),o(n),C(e)}Ru.call(t),O(e)}function F(){var t,e=this,n=_.of(e,arguments),r={},o=0,u=".zoom-"+i.event.changedTouches[0].identifier,l="touchmove"+u,s="touchend"+u,c=[],d=i.select(e),h=jt(e);function p(){var n=i.touches(e);return t=f.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=w(t))})),n}function g(){var t=i.event.target;i.select(t).on(l,m).on(s,x),c.push(t);for(var n=i.event.changedTouches,u=0,d=n.length;u<d;++u)r[n[u].identifier]=null;var h=p(),g=Date.now();if(1===h.length){if(g-a<500){var v=h[0];E(e,v,r[v.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),B()}a=g}else if(h.length>1){v=h[0];var b=h[1],y=v[0]-b[0],_=v[1]-b[1];o=y*y+_*_}}function m(){var u,l,s,c,d=i.touches(e);Ru.call(e);for(var f=0,h=d.length;f<h;++f,c=null)if(s=d[f],c=r[s.identifier]){if(l)break;u=s,l=c}if(c){var p=(p=s[0]-u[0])*p+(p=s[1]-u[1])*p,g=o&&Math.sqrt(p/o);u=[(u[0]+s[0])/2,(u[1]+s[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],j(g*t)}a=null,T(u,l),S(n)}function x(){if(i.event.touches.length){for(var t=i.event.changedTouches,e=0,a=t.length;e<a;++e)delete r[t[e].identifier];for(var o in r)return void p()}i.selectAll(c).on(u,null),d.on(v,N).on(y,F),h(),C(n)}g(),O(n),d.on(v,null).on(y,g)}function z(){var a=_.of(this,arguments);r?clearTimeout(r):(Ru.call(this),t=w(e=n||i.mouse(this)),O(a)),r=setTimeout((function(){r=null,C(a)}),50),B(),j(Math.pow(2,.002*qt())*f.k),T(e,t),S(a)}function A(){var t=i.mouse(this),e=Math.log(f.k)/Math.LN2;E(this,t,w(t),i.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ht||(Ht="onwheel"in l?(qt=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(qt=function(){return i.event.wheelDelta},"mousewheel"):(qt=function(){return-i.event.detail},"MozMousePixelScroll")),M.event=function(t){t.each((function(){var t=_.of(this,arguments),n=f;Pu?i.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},O(t)})).tween("zoom:zoom",(function(){var r=h[0],a=h[1],o=e?e[0]:r/2,u=e?e[1]:a/2,l=i.interpolateZoom([(o-f.x)/f.k,(u-f.y)/f.k,r/f.k],[(o-n.x)/n.k,(u-n.y)/n.k,r/n.k]);return function(e){var n=l(e),a=r/n[2];this.__chart__=f={x:o-n[0]*a,y:u-n[1]*a,k:a},S(t)}})).each("interrupt.zoom",(function(){C(t)})).each("end.zoom",(function(){C(t)})):(this.__chart__=f,O(t),S(t),C(t))}))},M.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},k(),M):[f.x,f.y]},M.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},j(+t),k(),M):f.k},M.scaleExtent=function(t){return arguments.length?(p=null==t?Ut:[+t[0],+t[1]],M):p},M.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],M):n},M.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],M):h},M.duration=function(t){return arguments.length?(g=+t,M):g},M.x=function(t){return arguments.length?(u=t,o=t.copy(),f={x:0,y:0,k:1},M):u},M.y=function(t){return arguments.length?(d=t,s=t.copy(),f={x:0,y:0,k:1},M):d},i.rebind(M,_,"on")};var qt,Ht,Ut=[0,1/0];function Yt(){}function $t(t,e,n){return this instanceof $t?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof $t?new $t(t.h,t.s,t.l):pe(""+t,ge,$t):new $t(t,e,n)}i.color=Yt,Yt.prototype.toString=function(){return this.rgb()+""},i.hsl=$t;var Wt=$t.prototype=new Yt;function Kt(t,e,n){var r,a;function i(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(a-r)*t/60:t<180?a:t<240?r+(a-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(a=n<=.5?n*(1+e):n+e-n*e),new se(i(t+120),i(t),i(t-120))}function Zt(t,e,n){return this instanceof Zt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Zt?new Zt(t.h,t.c,t.l):ie(t instanceof Qt?t.l:(t=me((t=i.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Zt(t,e,n)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new $t(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new $t(this.h,this.s,t*this.l)},Wt.rgb=function(){return Kt(this.h,this.s,this.l)},i.hcl=Zt;var Xt=Zt.prototype=new Yt;function Jt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=At)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Zt?Jt(t.h,t.c,t.l):me((t=se(t)).r,t.g,t.b):new Qt(t,e,n)}Xt.brighter=function(t){return new Zt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},Xt.darker=function(t){return new Zt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},Xt.rgb=function(){return Jt(this.h,this.c,this.l).rgb()},i.lab=Qt;var te=18,ee=.95047,ne=1.08883,re=Qt.prototype=new Yt;function ae(t,e,n){var r=(t+16)/116,a=r+e/500,i=r-n/200;return new se(le(3.2404542*(a=oe(a)*ee)-1.5371385*(r=1*oe(r))-.4985314*(i=oe(i)*ne)),le(-.969266*a+1.8760108*r+.041556*i),le(.0556434*a-.2040259*r+1.0572252*i))}function ie(t,e,n){return t>0?new Zt(Math.atan2(n,e)*Lt,Math.sqrt(e*e+n*n),t):new Zt(NaN,NaN,t)}function oe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ue(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function le(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function se(t,e,n){return this instanceof se?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof se?new se(t.r,t.g,t.b):pe(""+t,se,Kt):new se(t,e,n)}function ce(t){return new se(t>>16,t>>8&255,255&t)}function de(t){return ce(t)+""}re.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ae(this.l,this.a,this.b)},i.rgb=se;var fe=se.prototype=new Yt;function he(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function pe(t,e,n){var r,a,i,o=0,u=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(xe(a[0]),xe(a[1]),xe(a[2]))}return(i=be.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&i)>>4,o|=o>>4,u=240&i,u|=u>>4,l=15&i,l|=l<<4):7===t.length&&(o=(16711680&i)>>16,u=(65280&i)>>8,l=255&i)),e(o,u,l))}function ge(t,e,n){var r,a,i=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),u=o-i,l=(o+i)/2;return u?(a=l<.5?u/(o+i):u/(2-o-i),r=t==o?(e-n)/u+(e<n?6:0):e==o?(n-t)/u+2:(t-e)/u+4,r*=60):(r=NaN,a=l>0&&l<1?0:r),new $t(r,a,l)}function me(t,e,n){var r=ue((.4124564*(t=ve(t))+.3575761*(e=ve(e))+.1804375*(n=ve(n)))/ee),a=ue((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*a-16,500*(r-a),200*(a-ue((.0193339*t+.119192*e+.9503041*n)/ne)))}function ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xe(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}fe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,a=30;return e||n||r?(e&&e<a&&(e=a),n&&n<a&&(n=a),r&&r<a&&(r=a),new se(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new se(a,a,a)},fe.darker=function(t){return new se((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},fe.hsl=function(){return ge(this.r,this.g,this.b)},fe.toString=function(){return"#"+he(this.r)+he(this.g)+he(this.b)};var be=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ye(t){return"function"==typeof t?t:function(){return t}}function _e(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Me(e,n,t,r)}}function Me(t,e,n,r){var a={},o=i.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,c=null;function d(){var t,e=s.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(s)||e>=200&&e<300||304===e){try{t=n.call(a,s)}catch(t){return void o.error.call(a,t)}o.load.call(a,t)}else o.error.call(a,s)}return this.XDomainRequest&&!("withCredentials"in s)&&/^(http(s)?:)?\/\//.test(t)&&(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=d:s.onreadystatechange=function(){s.readyState>3&&d()},s.onprogress=function(t){var e=i.event;i.event=t;try{o.progress.call(a,s)}finally{i.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return n=t,a},["get","post"].forEach((function(t){a[t]=function(){return a.send.apply(a,[t].concat(u(arguments)))}})),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(n,t,!0),null==e||"accept"in l||(l.accept=e+",*/*"),s.setRequestHeader)for(var u in l)s.setRequestHeader(u,l[u]);return null!=e&&s.overrideMimeType&&s.overrideMimeType(e),null!=c&&(s.responseType=c),null!=i&&a.on("error",i).on("load",(function(t){i(null,t)})),o.beforesend.call(a,s),s.send(null==r?null:r),a},a.abort=function(){return s.abort(),a},i.rebind(a,o,"on"),null==r?a:a.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}be.forEach((function(t,e){be.set(t,ce(e))})),i.functor=ye,i.xhr=_e(A),i.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function a(t,n,r){arguments.length<3&&(r=n,n=null);var a=Me(t,e,null==n?i:o(n),r);return a.row=function(t){return arguments.length?a.response(null==(n=t)?i:o(t)):n},a}function i(t){return a.parse(t.responseText)}function o(t){return function(e){return a.parse(e.responseText,t)}}function u(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return a.parse=function(t,e){var n;return a.parseRows(t,(function(t,r){if(n)return n(t,r-1);var a=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(a(t),n)}:a}))},a.parseRows=function(t,e){var n,a,i={},o={},u=[],l=t.length,s=0,c=0;function d(){if(s>=l)return o;if(a)return a=!1,i;var e=s;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return s=n+2,13===(u=t.charCodeAt(n+1))?(a=!0,10===t.charCodeAt(n+2)&&++s):10===u&&(a=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;s<l;){var u,c=1;if(10===(u=t.charCodeAt(s++)))a=!0;else if(13===u)a=!0,10===t.charCodeAt(s)&&(++s,++c);else if(u!==r)continue;return t.slice(e,s-c)}return t.slice(e)}for(;(n=d())!==o;){for(var f=[];n!==i&&n!==o;)f.push(n),n=d();e&&null==(f=e(f,c++))||u.push(f)}return u},a.format=function(e){if(Array.isArray(e[0]))return a.formatRows(e);var n=new z,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(l).join(t)].concat(e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))).join("\n")},a.formatRows=function(t){return t.map(u).join("\n")},a},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var we,je,Te,Ee,ke=this[R(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Oe(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var a=n+e,i={c:t,t:a,n:null};return je?je.n=i:we=i,je=i,Te||(Ee=clearTimeout(Ee),Te=1,ke(Se)),i}function Se(){var t=Ce(),e=Ne()-t;e>24?(isFinite(e)&&(clearTimeout(Ee),Ee=setTimeout(Se,e)),Te=0):(Te=1,ke(Se))}function Ce(){for(var t=Date.now(),e=we;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Ne(){for(var t,e=we,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:we=e.n;return je=t,n}function Fe(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}i.timer=function(){Oe.apply(this,arguments)},i.timer.flush=function(){Ce(),Ne()},i.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ze=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*M(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Ae(t){var e=t.decimal,n=t.thousands,r=t.grouping,a=t.currency,o=r&&n?function(t,e){for(var a=t.length,i=[],o=0,u=r[0],l=0;a>0&&u>0&&(l+u+1>e&&(u=Math.max(1,e-l)),i.push(t.substring(a-=u,a+u)),!((l+=u+1)>e));)u=r[o=(o+1)%r.length];return i.reverse().join(n)}:A;return function(t){var n=Le.exec(t),r=n[1]||" ",u=n[2]||">",l=n[3]||"-",s=n[4]||"",c=n[5],d=+n[6],f=n[7],h=n[8],p=n[9],g=1,m="",v="",x=!1,b=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===u)&&(c=r="0",u="="),p){case"n":f=!0,p="g";break;case"%":g=100,v="%",p="f";break;case"p":g=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===s&&(m="0"+p.toLowerCase());case"c":b=!1;case"d":x=!0,h=0;break;case"s":g=-1,p="r"}"$"===s&&(m=a[0],v=a[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=Re.get(p)||Ve;var y=c&&f;return function(t){var n=v;if(x&&t%1)return"";var a=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(g<0){var s=i.formatPrefix(t,h);t=s.scale(t),n=s.symbol+v}else t*=g;var _,M,w=(t=p(t,h)).lastIndexOf(".");if(w<0){var j=b?t.lastIndexOf("e"):-1;j<0?(_=t,M=""):(_=t.substring(0,j),M=t.substring(j))}else _=t.substring(0,w),M=e+t.substring(w+1);!c&&f&&(_=o(_,1/0));var T=m.length+_.length+M.length+(y?0:a.length),E=T<d?new Array(T=d-T+1).join(r):"";return y&&(_=o(E+_,E.length?d-M.length:1/0)),a+=m,t=_+M,("<"===u?a+t+E:">"===u?E+a+t:"^"===u?E.substring(0,T>>=1)+a+t+E.substring(T):a+(y?t:E+t))+n}}}i.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=i.round(t,Fe(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ze[8+n/3]};var Le=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Re=i.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=i.round(t,Fe(t,e))).toFixed(Math.max(0,Math.min(20,Fe(t*(1+1e-15),e))))}});function Ve(t){return t+""}var De=i.time={},Pe=Date;function Ie(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Be.setUTCDate.apply(this._,arguments)},setDay:function(){Be.setUTCDay.apply(this._,arguments)},setFullYear:function(){Be.setUTCFullYear.apply(this._,arguments)},setHours:function(){Be.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Be.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Be.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Be.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Be.setUTCSeconds.apply(this._,arguments)},setTime:function(){Be.setTime.apply(this._,arguments)}};var Be=Date.prototype;function Ge(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function a(n){return e(n=t(new Pe(n-1)),1),n}function i(t,n){return e(t=new Pe(+t),n),t}function o(t,r,i){var o=a(t),u=[];if(i>1)for(;o<r;)n(o)%i||u.push(new Date(+o)),e(o,1);else for(;o<r;)u.push(new Date(+o)),e(o,1);return u}t.floor=t,t.round=r,t.ceil=a,t.offset=i,t.range=o;var u=t.utc=qe(t);return u.floor=u,u.round=qe(r),u.ceil=qe(a),u.offset=qe(i),u.range=function(t,e,n){try{Pe=Ie;var r=new Ie;return r._=t,o(r,e,n)}finally{Pe=Date}},t}function qe(t){return function(e,n){try{Pe=Ie;var r=new Ie;return r._=e,t(r,n)._}finally{Pe=Date}}}function He(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,o=t.days,u=t.shortDays,l=t.months,s=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,a,i,o=[],u=-1,l=0;++u<e;)37===t.charCodeAt(u)&&(o.push(t.slice(l,u)),null!=(a=Ue[r=t.charAt(++u)])&&(r=t.charAt(++u)),(i=_[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),o.push(r),l=u+1);return o.push(t.slice(l,u)),o.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Pe!==Ie,a=new(r?Ie:Pe);return"j"in n?a.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),a.setFullYear(n.y,0,1),a.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(a.getDay()+5)%7:n.w+7*n.U-(a.getDay()+6)%7)):a.setFullYear(n.y,n.m,n.d),a.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?a._:a},n.toString=function(){return t},n}function d(t,e,n,r){for(var a,i,o,u=0,l=e.length,s=n.length;u<l;){if(r>=s)return-1;if(37===(a=e.charCodeAt(u++))){if(o=e.charAt(u++),!(i=M[o in Ue?e.charAt(u++):o])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Pe=Ie);return n._=t,e(n)}finally{Pe=Date}}return n.parse=function(t){try{Pe=Ie;var n=e.parse(t);return n&&n._}finally{Pe=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=hn;var f=i.map(),h=Ke(o),p=Ze(o),g=Ke(u),m=Ze(u),v=Ke(l),x=Ze(l),b=Ke(s),y=Ze(s);a.forEach((function(t,e){f.set(t.toLowerCase(),e)}));var _={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:c(e),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+De.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(De.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(De.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:dn,"%":function(){return"%"}},M={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return d(t,_.c.toString(),e,n)},d:an,e:an,H:un,I:un,j:on,L:cn,m:rn,M:ln,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:sn,U:Je,w:Xe,W:Qe,x:function(t,e,n){return d(t,_.x.toString(),e,n)},X:function(t,e,n){return d(t,_.X.toString(),e,n)},y:en,Y:tn,Z:nn,"%":fn};return c}De.year=Ge((function(t){return(t=De.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),De.years=De.year.range,De.years.utc=De.year.utc.range,De.day=Ge((function(t){var e=new Pe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),De.days=De.day.range,De.days.utc=De.day.utc.range,De.dayOfYear=function(t){var e=De.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=De[t]=Ge((function(t){return(t=De.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));De[t+"s"]=n.range,De[t+"s"].utc=n.utc.range,De[t+"OfYear"]=function(t){var n=De.year(t).getDay();return Math.floor((De.dayOfYear(t)+(n+e)%7)/7)}})),De.week=De.sunday,De.weeks=De.sunday.range,De.weeks.utc=De.sunday.utc.range,De.weekOfYear=De.sundayOfYear;var Ue={"-":"",_:" ",0:"0"},Ye=/^\s*\d+/,$e=/^%/;function We(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Ke(t){return new RegExp("^(?:"+t.map(i.requote).join("|")+")","i")}function Ze(t){for(var e=new T,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Xe(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Je(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function tn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function en(t,e,n){Ye.lastIndex=0;var r,a=Ye.exec(e.slice(n,n+2));return a?(t.y=(r=+a[0])+(r>68?1900:2e3),n+a[0].length):-1}function nn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function rn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function an(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function un(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ln(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=M(e)/60|0,a=M(e)%60;return n+We(r,"0",2)+We(a,"0",2)}function fn(t,e,n){$e.lastIndex=0;var r=$e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function hn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}i.locale=function(t){return{numberFormat:Ae(t),timeFormat:He(t)}};var pn=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gn(){}i.format=pn.numberFormat,i.geo={},gn.prototype={s:0,t:0,add:function(t){vn(t,this.t,mn),vn(mn.s,this.s,this),this.s?this.t+=mn.t:this.s=mn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mn=new gn;function vn(t,e,n){var r=n.s=t+e,a=r-t,i=r-a;n.t=t-i+(e-a)}function xn(t,e){t&&yn.hasOwnProperty(t.type)&&yn[t.type](t,e)}i.geo.stream=function(t,e){t&&bn.hasOwnProperty(t.type)?bn[t.type](t,e):xn(t,e)};var bn={Feature:function(t,e){xn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)xn(n[r].geometry,e)}},yn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){_n(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)_n(n[r],e,0)},Polygon:function(t,e){Mn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)Mn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)xn(n[r],e)}};function _n(t,e,n){var r,a=-1,i=t.length-n;for(e.lineStart();++a<i;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function Mn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)_n(t[n],e,1);e.polygonEnd()}i.geo.area=function(t){return wn=0,i.geo.stream(t,Rn),wn};var wn,jn,Tn,En,kn,On,Sn,Cn,Nn,Fn,zn,An,Ln=new gn,Rn={sphere:function(){wn+=4*Ct},point:D,lineStart:D,lineEnd:D,polygonStart:function(){Ln.reset(),Rn.lineStart=Vn},polygonEnd:function(){var t=2*Ln;wn+=t<0?4*Ct+t:t,Rn.lineStart=Rn.lineEnd=Rn.point=D}};function Vn(){var t,e,n,r,a;function i(t,e){e=e*At/2+Ct/4;var i=(t*=At)-n,o=i>=0?1:-1,u=o*i,l=Math.cos(e),s=Math.sin(e),c=a*s,d=r*l+c*Math.cos(u),f=c*o*Math.sin(u);Ln.add(Math.atan2(f,d)),n=t,r=l,a=s}Rn.point=function(o,u){Rn.point=i,n=(t=o)*At,r=Math.cos(u=(e=u)*At/2+Ct/4),a=Math.sin(u)},Rn.lineEnd=function(){i(t,e)}}function Dn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Pn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function In(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Gn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Hn(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function Un(t,e){return M(t[0]-e[0])<Ot&&M(t[1]-e[1])<Ot}i.geo.bounds=function(){var t,e,n,r,a,o,u,l,s,c,d,f={point:h,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=x,f.lineEnd=b,s=0,Rn.polygonStart()},polygonEnd:function(){Rn.polygonEnd(),f.point=h,f.lineStart=g,f.lineEnd=m,Ln<0?(t=-(n=180),e=-(r=90)):s>Ot?r=90:s<-Ot&&(e=-90),d[0]=t,d[1]=n}};function h(a,i){c.push(d=[t=a,n=a]),i<e&&(e=i),i>r&&(r=i)}function p(i,o){var u=Dn([i*At,o*At]);if(l){var s=In(l,u),c=In([s[1],-s[0],0],s);qn(c),c=Hn(c);var d=i-a,f=d>0?1:-1,p=c[0]*Lt*f,g=M(d)>180;if(g^(f*a<p&&p<f*i))(m=c[1]*Lt)>r&&(r=m);else if(g^(f*a<(p=(p+360)%360-180)&&p<f*i)){var m;(m=-c[1]*Lt)<e&&(e=m)}else o<e&&(e=o),o>r&&(r=o);g?i<a?y(t,i)>y(t,n)&&(n=i):y(i,n)>y(t,n)&&(t=i):n>=t?(i<t&&(t=i),i>n&&(n=i)):i>a?y(t,i)>y(t,n)&&(n=i):y(i,n)>y(t,n)&&(t=i)}else h(i,o);l=u,a=i}function g(){f.point=p}function m(){d[0]=t,d[1]=n,f.point=h,l=null}function v(t,e){if(l){var n=t-a;s+=M(n)>180?n+(n>0?360:-360):n}else o=t,u=e;Rn.point(t,e),p(t,e)}function x(){Rn.lineStart()}function b(){v(o,u),Rn.lineEnd(),M(s)>Ot&&(t=-(n=180)),d[0]=t,d[1]=n,l=null}function y(t,e){return(e-=t)<0?e+360:e}function _(t,e){return t[0]-e[0]}function w(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(a){if(r=n=-(t=e=1/0),c=[],i.geo.stream(a,f),s=c.length){c.sort(_);for(var o=1,u=[g=c[0]];o<s;++o)w((h=c[o])[0],g)||w(h[1],g)?(y(g[0],h[1])>y(g[0],g[1])&&(g[1]=h[1]),y(h[0],g[1])>y(g[0],g[1])&&(g[0]=h[0])):u.push(g=h);for(var l,s,h,p=-1/0,g=(o=0,u[s=u.length-1]);o<=s;g=h,++o)h=u[o],(l=y(g[1],h[0]))>p&&(p=l,t=h[0],n=g[1])}return c=d=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),i.geo.centroid=function(t){jn=Tn=En=kn=On=Sn=Cn=Nn=Fn=zn=An=0,i.geo.stream(t,Yn);var e=Fn,n=zn,r=An,a=e*e+n*n+r*r;return a<St&&(e=Sn,n=Cn,r=Nn,Tn<Ot&&(e=En,n=kn,r=On),(a=e*e+n*n+r*r)<St)?[NaN,NaN]:[Math.atan2(n,e)*Lt,Pt(r/Math.sqrt(a))*Lt]};var Yn={sphere:D,point:$n,lineStart:Kn,lineEnd:Zn,polygonStart:function(){Yn.lineStart=Xn},polygonEnd:function(){Yn.lineStart=Kn}};function $n(t,e){t*=At;var n=Math.cos(e*=At);Wn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Wn(t,e,n){++jn,En+=(t-En)/jn,kn+=(e-kn)/jn,On+=(n-On)/jn}function Kn(){var t,e,n;function r(r,a){r*=At;var i=Math.cos(a*=At),o=i*Math.cos(r),u=i*Math.sin(r),l=Math.sin(a),s=Math.atan2(Math.sqrt((s=e*l-n*u)*s+(s=n*o-t*l)*s+(s=t*u-e*o)*s),t*o+e*u+n*l);Tn+=s,Sn+=s*(t+(t=o)),Cn+=s*(e+(e=u)),Nn+=s*(n+(n=l)),Wn(t,e,n)}Yn.point=function(a,i){a*=At;var o=Math.cos(i*=At);t=o*Math.cos(a),e=o*Math.sin(a),n=Math.sin(i),Yn.point=r,Wn(t,e,n)}}function Zn(){Yn.point=$n}function Xn(){var t,e,n,r,a;function i(t,e){t*=At;var i=Math.cos(e*=At),o=i*Math.cos(t),u=i*Math.sin(t),l=Math.sin(e),s=r*l-a*u,c=a*o-n*l,d=n*u-r*o,f=Math.sqrt(s*s+c*c+d*d),h=n*o+r*u+a*l,p=f&&-Dt(h)/f,g=Math.atan2(f,h);Fn+=p*s,zn+=p*c,An+=p*d,Tn+=g,Sn+=g*(n+(n=o)),Cn+=g*(r+(r=u)),Nn+=g*(a+(a=l)),Wn(n,r,a)}Yn.point=function(o,u){t=o,e=u,Yn.point=i,o*=At;var l=Math.cos(u*=At);n=l*Math.cos(o),r=l*Math.sin(o),a=Math.sin(u),Wn(n,r,a)},Yn.lineEnd=function(){i(t,e),Yn.lineEnd=Zn,Yn.point=$n}}function Jn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Qn(){return!0}function tr(t,e,n,r,a){var i=[],o=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Un(n,r)){a.lineStart();for(var u=0;u<e;++u)a.point((n=t[u])[0],n[1]);a.lineEnd()}else{var l=new nr(n,t,null,!0),s=new nr(n,null,l,!1);l.o=s,i.push(l),o.push(s),l=new nr(r,t,null,!1),s=new nr(r,null,l,!0),l.o=s,i.push(l),o.push(s)}}})),o.sort(e),er(i),er(o),i.length){for(var u=0,l=n,s=o.length;u<s;++u)o[u].e=l=!l;for(var c,d,f=i[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,s=c.length;u<s;++u)a.point((d=c[u])[0],d[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(p)for(u=(c=h.p.z).length-1;u>=0;--u)a.point((d=c[u])[0],d[1]);else r(h.x,h.p.x,-1,a);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);a.lineEnd()}}}function er(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}function nr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rr(t,e,n,r){return function(a,o){var u,l=e(o),s=a.invert(r[0],r[1]),c={point:d,lineStart:h,lineEnd:p,polygonStart:function(){c.point=y,c.lineStart=_,c.lineEnd=M,u=[],g=[]},polygonEnd:function(){c.point=d,c.lineStart=h,c.lineEnd=p,u=i.merge(u);var t=function(t,e){var n=t[0],r=t[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Ln.reset();for(var u=0,l=e.length;u<l;++u){var s=e[u],c=s.length;if(c)for(var d=s[0],f=d[0],h=d[1]/2+Ct/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0);var v=(t=s[m])[0],x=t[1]/2+Ct/4,b=Math.sin(x),y=Math.cos(x),_=v-f,M=_>=0?1:-1,w=M*_,j=w>Ct,T=p*b;if(Ln.add(Math.atan2(T*M*Math.sin(w),g*y+T*Math.cos(w))),i+=j?_+M*Nt:_,j^f>=n^v>=n){var E=In(Dn(d),Dn(t));qn(E);var k=In(a,E);qn(k);var O=(j^_>=0?-1:1)*Pt(k[2]);(r>O||r===O&&(E[0]||E[1]))&&(o+=j^_>=0?1:-1)}if(!m++)break;f=v,p=b,g=y,d=t}}return(i<-Ot||i<Ot&&Ln<-Ot)^1&o}(s,g);u.length?(b||(o.polygonStart(),b=!0),tr(u,or,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),u=g=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(e,n){var r=a(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function f(t,e){var n=a(t,e);l.point(n[0],n[1])}function h(){c.point=f,l.lineStart()}function p(){c.point=d,l.lineEnd()}var g,m,v=ir(),x=e(v),b=!1;function y(t,e){m.push([t,e]);var n=a(t,e);x.point(n[0],n[1])}function _(){x.lineStart(),m=[]}function M(){y(m[0][0],m[0][1]),x.lineEnd();var t,e=x.clean(),n=v.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&e){var a,i=-1;if((r=(t=n[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++i<r;)o.point((a=t[i])[0],a[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),u.push(n.filter(ar))}return c}}function ar(t){return t.length>1}function ir(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:D,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function or(t,e){return((t=t.x)[0]<0?t[1]-zt-Ot:zt-t[1])-((e=e.x)[0]<0?e[1]-zt-Ot:zt-e[1])}var ur=rr(Qn,(function(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,o){var u=i>0?Ct:-Ct,l=M(i-n);M(l-Ct)<Ot?(t.point(n,r=(r+o)/2>0?zt:-zt),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(i,r),e=0):a!==u&&l>=Ct&&(M(n-a)<Ot&&(n-=a*Ot),M(i-u)<Ot&&(i-=u*Ot),r=function(t,e,n,r){var a,i,o=Math.sin(t-n);return M(o)>Ot?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(e))*Math.sin(t))/(a*i*o)):(e+r)/2}(n,r,i,o),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=i,r=o),a=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var a;if(null==t)a=n*zt,r.point(-Ct,a),r.point(0,a),r.point(Ct,a),r.point(Ct,0),r.point(Ct,-a),r.point(0,-a),r.point(-Ct,-a),r.point(-Ct,0),r.point(-Ct,a);else if(M(t[0]-e[0])>Ot){var i=t[0]<e[0]?Ct:-Ct;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(e[0],e[1])}),[-Ct,-Ct/2]);function lr(t){var e=Math.cos(t),n=e>0,r=M(e)>Ot;return rr(a,(function(t){var e,u,l,s,c;return{lineStart:function(){s=l=!1,c=1},point:function(d,f){var h,p=[d,f],g=a(d,f),m=n?g?0:o(d,f):g?o(d+(d<0?Ct:-Ct),f):0;if(!e&&(s=l=g)&&t.lineStart(),g!==l&&(h=i(e,p),(Un(e,h)||Un(p,h))&&(p[0]+=Ot,p[1]+=Ot,g=a(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=i(p,e),t.point(h[0],h[1])):(h=i(e,p),t.point(h[0],h[1]),t.lineEnd()),e=h;else if(r&&e&&n^g){var v;m&u||!(v=i(p,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Un(e,p)||t.point(p[0],p[1]),e=p,l=g,u=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(s&&l)<<1}}}),Ur(t,6*At),n?[0,-t]:[-Ct,t-Ct]);function a(t,n){return Math.cos(t)*Math.cos(n)>e}function i(t,n,r){var a=[1,0,0],i=In(Dn(t),Dn(n)),o=Pn(i,i),u=i[0],l=o-u*u;if(!l)return!r&&t;var s=e*o/l,c=-e*u/l,d=In(a,i),f=Gn(a,s);Bn(f,Gn(i,c));var h=d,p=Pn(f,h),g=Pn(h,h),m=p*p-g*(Pn(f,f)-1);if(!(m<0)){var v=Math.sqrt(m),x=Gn(h,(-p-v)/g);if(Bn(x,f),x=Hn(x),!r)return x;var b,y=t[0],_=n[0],w=t[1],j=n[1];_<y&&(b=y,y=_,_=b);var T=_-y,E=M(T-Ct)<Ot;if(!E&&j<w&&(b=w,w=j,j=b),E||T<Ot?E?w+j>0^x[1]<(M(x[0]-y)<Ot?w:j):w<=x[1]&&x[1]<=j:T>Ct^(y<=x[0]&&x[0]<=_)){var k=Gn(h,(-p+v)/g);return Bn(k,f),[x,Hn(k)]}}}function o(e,r){var a=n?t:Ct-t,i=0;return e<-a?i|=1:e>a&&(i|=2),r<-a?i|=4:r>a&&(i|=8),i}}function sr(t,e,n,r){return function(a){var i,o=a.a,u=a.b,l=o.x,s=o.y,c=0,d=1,f=u.x-l,h=u.y-s;if(i=t-l,f||!(i>0)){if(i/=f,f<0){if(i<c)return;i<d&&(d=i)}else if(f>0){if(i>d)return;i>c&&(c=i)}if(i=n-l,f||!(i<0)){if(i/=f,f<0){if(i>d)return;i>c&&(c=i)}else if(f>0){if(i<c)return;i<d&&(d=i)}if(i=e-s,h||!(i>0)){if(i/=h,h<0){if(i<c)return;i<d&&(d=i)}else if(h>0){if(i>d)return;i>c&&(c=i)}if(i=r-s,h||!(i<0)){if(i/=h,h<0){if(i>d)return;i>c&&(c=i)}else if(h>0){if(i<c)return;i<d&&(d=i)}return c>0&&(a.a={x:l+c*f,y:s+c*h}),d<1&&(a.b={x:l+d*f,y:s+d*h}),a}}}}}}var cr=1e9;function dr(t,e,n,r){return function(l){var s,c,d,f,h,p,g,m,v,x,b,y=l,_=ir(),M=sr(t,e,n,r),w={point:E,lineStart:function(){w.point=k,c&&c.push(d=[]);x=!0,v=!1,g=m=NaN},lineEnd:function(){s&&(k(f,h),p&&v&&_.rejoin(),s.push(_.buffer()));w.point=E,v&&l.lineEnd()},polygonStart:function(){l=_,s=[],c=[],b=!0},polygonEnd:function(){l=y,s=i.merge(s);var e=function(t){for(var e=0,n=c.length,r=t[1],a=0;a<n;++a)for(var i,o=1,u=c[a],l=u.length,s=u[0];o<l;++o)i=u[o],s[1]<=r?i[1]>r&&Vt(s,i,t)>0&&++e:i[1]<=r&&Vt(s,i,t)<0&&--e,s=i;return 0!==e}([t,r]),n=b&&e,a=s.length;(n||a)&&(l.polygonStart(),n&&(l.lineStart(),j(null,null,1,l),l.lineEnd()),a&&tr(s,o,e,j,l),l.polygonEnd()),s=c=d=null}};function j(i,o,l,s){var c=0,d=0;if(null==i||(c=a(i,l))!==(d=a(o,l))||u(i,o)<0^l>0)do{s.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==d);else s.point(o[0],o[1])}function T(a,i){return t<=a&&a<=n&&e<=i&&i<=r}function E(t,e){T(t,e)&&l.point(t,e)}function k(t,e){var n=T(t=Math.max(-1e9,Math.min(cr,t)),e=Math.max(-1e9,Math.min(cr,e)));if(c&&d.push([t,e]),x)f=t,h=e,p=n,x=!1,n&&(l.lineStart(),l.point(t,e));else if(n&&v)l.point(t,e);else{var r={a:{x:g,y:m},b:{x:t,y:e}};M(r)?(v||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),b=!1):n&&(l.lineStart(),l.point(t,e),b=!1)}g=t,m=e,v=n}return w};function a(r,a){return M(r[0]-t)<Ot?a>0?0:3:M(r[0]-n)<Ot?a>0?2:1:M(r[1]-e)<Ot?a>0?1:0:a>0?3:2}function o(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function fr(t){var e=0,n=Ct/3,r=Vr(t),a=r(e,n);return a.parallels=function(t){return arguments.length?r(e=t[0]*Ct/180,n=t[1]*Ct/180):[e/Ct*180,n/Ct*180]},a}function hr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,a=1+n*(2*r-n),i=Math.sqrt(a)/r;function o(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),i-n*Math.cos(t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,Pt((a-(t*t+n*n)*r*r)/(2*r))]},o}i.geo.clipExtent=function(){var t,e,n,r,a,i,o={stream:function(t){return a&&(a.valid=!1),(a=i(t)).valid=!0,a},extent:function(u){return arguments.length?(i=dr(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1]),a&&(a.valid=!1,a=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(i.geo.conicEqualArea=function(){return fr(hr)}).raw=hr,i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},i.geo.albersUsa=function(){var t,e,n,r,a=i.geo.albers(),o=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=i.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};function s(a){var i=a[0],o=a[1];return t=null,e(i,o),t||(n(i,o),t)||r(i,o),t}return s.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},s.stream=function(t){var e=a.stream(t),n=o.stream(t),r=u.stream(t);return{point:function(t,a){e.point(t,a),n.point(t,a),r.point(t,a)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},s.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),u.precision(t),s):a.precision()},s.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),u.scale(t),s.translate(a.translate())):a.scale()},s.translate=function(t){if(!arguments.length)return a.translate();var i=a.scale(),c=+t[0],d=+t[1];return e=a.translate(t).clipExtent([[c-.455*i,d-.238*i],[c+.455*i,d+.238*i]]).stream(l).point,n=o.translate([c-.307*i,d+.201*i]).clipExtent([[c-.425*i+Ot,d+.12*i+Ot],[c-.214*i-Ot,d+.234*i-Ot]]).stream(l).point,r=u.translate([c-.205*i,d+.212*i]).clipExtent([[c-.214*i+Ot,d+.166*i+Ot],[c-.115*i-Ot,d+.234*i-Ot]]).stream(l).point,s},s.scale(1070)};var pr,gr,mr,vr,xr,br,yr={point:D,lineStart:D,lineEnd:D,polygonStart:function(){gr=0,yr.lineStart=_r},polygonEnd:function(){yr.lineStart=yr.lineEnd=yr.point=D,pr+=M(gr/2)}};function _r(){var t,e,n,r;function a(t,e){gr+=r*t-n*e,n=t,r=e}yr.point=function(i,o){yr.point=a,t=n=i,e=r=o},yr.lineEnd=function(){a(t,e)}}var Mr={point:function(t,e){t<mr&&(mr=t);t>xr&&(xr=t);e<vr&&(vr=e);e>br&&(br=e)},lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D};function wr(){var t=jr(4.5),e=[],n={point:r,lineStart:function(){n.point=a},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=jr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function a(t,r){e.push("M",t,",",r),n.point=i}function i(t,n){e.push("L",t,",",n)}function o(){n.point=r}function u(){e.push("Z")}return n}function jr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Tr,Er={point:kr,lineStart:Or,lineEnd:Sr,polygonStart:function(){Er.lineStart=Cr},polygonEnd:function(){Er.point=kr,Er.lineStart=Or,Er.lineEnd=Sr}};function kr(t,e){En+=t,kn+=e,++On}function Or(){var t,e;function n(n,r){var a=n-t,i=r-e,o=Math.sqrt(a*a+i*i);Sn+=o*(t+n)/2,Cn+=o*(e+r)/2,Nn+=o,kr(t=n,e=r)}Er.point=function(r,a){Er.point=n,kr(t=r,e=a)}}function Sr(){Er.point=kr}function Cr(){var t,e,n,r;function a(t,e){var a=t-n,i=e-r,o=Math.sqrt(a*a+i*i);Sn+=o*(n+t)/2,Cn+=o*(r+e)/2,Nn+=o,Fn+=(o=r*t-n*e)*(n+t),zn+=o*(r+e),An+=3*o,kr(n=t,r=e)}Er.point=function(i,o){Er.point=a,kr(t=n=i,e=r=o)},Er.lineEnd=function(){a(t,e)}}function Nr(t){var e=4.5,n={point:r,lineStart:function(){n.point=a},lineEnd:o,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=t,n},result:D};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Nt)}function a(e,r){t.moveTo(e,r),n.point=i}function i(e,n){t.lineTo(e,n)}function o(){n.point=r}function u(){t.closePath()}return n}function Fr(t){var e=.5,n=Math.cos(30*At),r=16;function a(t){return(r?o:i)(t)}function i(e){return Lr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function o(e){var n,a,i,o,l,s,c,d,f,h,p,g,m={point:v,lineStart:x,lineEnd:y,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=x}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function x(){d=NaN,m.point=b,e.lineStart()}function b(n,a){var i=Dn([n,a]),o=t(n,a);u(d,f,c,h,p,g,d=o[0],f=o[1],c=n,h=i[0],p=i[1],g=i[2],r,e),e.point(d,f)}function y(){m.point=v,e.lineEnd()}function _(){x(),m.point=M,m.lineEnd=w}function M(t,e){b(n=t,e),a=d,i=f,o=h,l=p,s=g,m.point=b}function w(){u(d,f,c,h,p,g,a,i,n,o,l,s,r,e),m.lineEnd=y,y()}return m}function u(r,a,i,o,l,s,c,d,f,h,p,g,m,v){var x=c-r,b=d-a,y=x*x+b*b;if(y>4*e&&m--){var _=o+h,w=l+p,j=s+g,T=Math.sqrt(_*_+w*w+j*j),E=Math.asin(j/=T),k=M(M(j)-1)<Ot||M(i-f)<Ot?(i+f)/2:Math.atan2(w,_),O=t(k,E),S=O[0],C=O[1],N=S-r,F=C-a,z=b*N-x*F;(z*z/y>e||M((x*N+b*F)/y-.5)>.3||o*h+l*p+s*g<n)&&(u(r,a,i,o,l,s,S,C,k,_/=T,w/=T,j,m,v),v.point(S,C),u(S,C,k,_,w,j,c,d,f,h,p,g,m,v))}}return a.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,a):Math.sqrt(e)},a}function zr(t){var e=Fr((function(e,n){return t([e*Lt,n*Lt])}));return function(t){return Dr(e(t))}}function Ar(t){this.stream=t}function Lr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Rr(t){return Vr((function(){return t}))()}function Vr(t){var e,n,r,a,o,u,l=Fr((function(t,n){return[(t=e(t,n))[0]*s+a,o-t[1]*s]})),s=150,c=480,d=250,f=0,h=0,p=0,g=0,m=0,v=ur,x=A,b=null,y=null;function _(t){return[(t=r(t[0]*At,t[1]*At))[0]*s+a,o-t[1]*s]}function M(t){return(t=r.invert((t[0]-a)/s,(o-t[1])/s))&&[t[0]*Lt,t[1]*Lt]}function w(){r=Jn(n=Br(p,g,m),e);var t=e(f,h);return a=c-t[0]*s,o=d+t[1]*s,j()}function j(){return u&&(u.valid=!1,u=null),_}return _.stream=function(t){return u&&(u.valid=!1),(u=Dr(v(n,l(x(t))))).valid=!0,u},_.clipAngle=function(t){return arguments.length?(v=null==t?(b=t,ur):lr((b=+t)*At),j()):b},_.clipExtent=function(t){return arguments.length?(y=t,x=t?dr(t[0][0],t[0][1],t[1][0],t[1][1]):A,j()):y},_.scale=function(t){return arguments.length?(s=+t,w()):s},_.translate=function(t){return arguments.length?(c=+t[0],d=+t[1],w()):[c,d]},_.center=function(t){return arguments.length?(f=t[0]%360*At,h=t[1]%360*At,w()):[f*Lt,h*Lt]},_.rotate=function(t){return arguments.length?(p=t[0]%360*At,g=t[1]%360*At,m=t.length>2?t[2]%360*At:0,w()):[p*Lt,g*Lt,m*Lt]},i.rebind(_,l,"precision"),function(){return e=t.apply(this,arguments),_.invert=e.invert&&M,w()}}function Dr(t){return Lr(t,(function(e,n){t.point(e*At,n*At)}))}function Pr(t,e){return[t,e]}function Ir(t,e){return[t>Ct?t-Nt:t<-Ct?t+Nt:t,e]}function Br(t,e,n){return t?e||n?Jn(qr(t),Hr(e,n)):qr(t):e||n?Hr(e,n):Ir}function Gr(t){return function(e,n){return[(e+=t)>Ct?e-Nt:e<-Ct?e+Nt:e,n]}}function qr(t){var e=Gr(t);return e.invert=Gr(-t),e}function Hr(t,e){var n=Math.cos(t),r=Math.sin(t),a=Math.cos(e),i=Math.sin(e);function o(t,e){var o=Math.cos(e),u=Math.cos(t)*o,l=Math.sin(t)*o,s=Math.sin(e),c=s*n+u*r;return[Math.atan2(l*a-c*i,u*n-s*r),Pt(c*a+l*i)]}return o.invert=function(t,e){var o=Math.cos(e),u=Math.cos(t)*o,l=Math.sin(t)*o,s=Math.sin(e),c=s*a-l*i;return[Math.atan2(l*a+s*i,u*n+c*r),Pt(c*n-u*r)]},o}function Ur(t,e){var n=Math.cos(t),r=Math.sin(t);return function(a,i,o,u){var l=o*e;null!=a?(a=Yr(n,a),i=Yr(n,i),(o>0?a<i:a>i)&&(a+=o*Nt)):(a=t+o*Nt,i=t-.5*l);for(var s,c=a;o>0?c>i:c<i;c-=l)u.point((s=Hn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],s[1])}}function Yr(t,e){var n=Dn(e);n[0]-=t,qn(n);var r=Dt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ot)%(2*Math.PI)}function $r(t,e,n){var r=i.range(t,e-Ot,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Wr(t,e,n){var r=i.range(t,e-Ot,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Kr(t){return t.source}function Zr(t){return t.target}i.geo.path=function(){var t,e,n,r,a,o=4.5;function u(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),a&&a.valid||(a=n(r)),i.geo.stream(t,a)),r.result()}function l(){return a=null,u}return u.area=function(t){return pr=0,i.geo.stream(t,n(yr)),pr},u.centroid=function(t){return En=kn=On=Sn=Cn=Nn=Fn=zn=An=0,i.geo.stream(t,n(Er)),An?[Fn/An,zn/An]:Nn?[Sn/Nn,Cn/Nn]:On?[En/On,kn/On]:[NaN,NaN]},u.bounds=function(t){return xr=br=-(mr=vr=1/0),i.geo.stream(t,n(Mr)),[[mr,vr],[xr,br]]},u.projection=function(e){return arguments.length?(n=(t=e)?e.stream||zr(e):A,l()):t},u.context=function(t){return arguments.length?(r=null==(e=t)?new wr:new Nr(t),"function"!=typeof o&&r.pointRadius(o),l()):e},u.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),u):o},u.projection(i.geo.albersUsa()).context(null)},i.geo.transform=function(t){return{stream:function(e){var n=new Ar(e);for(var r in t)n[r]=t[r];return n}}},Ar.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},i.geo.projection=Rr,i.geo.projectionMutator=Vr,(i.geo.equirectangular=function(){return Rr(Pr)}).raw=Pr.invert=Pr,i.geo.rotation=function(t){function e(e){return(e=t(e[0]*At,e[1]*At))[0]*=Lt,e[1]*=Lt,e}return t=Br(t[0]%360*At,t[1]*At,t.length>2?t[2]*At:0),e.invert=function(e){return(e=t.invert(e[0]*At,e[1]*At))[0]*=Lt,e[1]*=Lt,e},e},Ir.invert=Pr,i.geo.circle=function(){var t,e,n=[0,0],r=6;function a(){var t="function"==typeof n?n.apply(this,arguments):n,r=Br(-t[0]*At,-t[1]*At,0).invert,a=[];return e(null,null,1,{point:function(t,e){a.push(t=r(t,e)),t[0]*=Lt,t[1]*=Lt}}),{type:"Polygon",coordinates:[a]}}return a.origin=function(t){return arguments.length?(n=t,a):n},a.angle=function(n){return arguments.length?(e=Ur((t=+n)*At,r*At),a):t},a.precision=function(n){return arguments.length?(e=Ur(t*At,(r=+n)*At),a):r},a.angle(90)},i.geo.distance=function(t,e){var n,r=(e[0]-t[0])*At,a=t[1]*At,i=e[1]*At,o=Math.sin(r),u=Math.cos(r),l=Math.sin(a),s=Math.cos(a),c=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*o)*n+(n=s*c-l*d*u)*n),l*c+s*d*u)},i.geo.graticule=function(){var t,e,n,r,a,o,u,l,s,c,d,f,h=10,p=h,g=90,m=360,v=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return i.range(Math.ceil(r/g)*g,n,g).map(d).concat(i.range(Math.ceil(l/m)*m,u,m).map(f)).concat(i.range(Math.ceil(e/h)*h,t,h).filter((function(t){return M(t%g)>Ot})).map(s)).concat(i.range(Math.ceil(o/p)*p,a,p).filter((function(t){return M(t%m)>Ot})).map(c))}return x.lines=function(){return b().map((function(t){return{type:"LineString",coordinates:t}}))},x.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(f(u).slice(1),d(n).reverse().slice(1),f(l).reverse().slice(1))]}},x.extent=function(t){return arguments.length?x.majorExtent(t).minorExtent(t):x.minorExtent()},x.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],u=+t[1][1],r>n&&(t=r,r=n,n=t),l>u&&(t=l,l=u,u=t),x.precision(v)):[[r,l],[n,u]]},x.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],a=+n[1][1],e>t&&(n=e,e=t,t=n),o>a&&(n=o,o=a,a=n),x.precision(v)):[[e,o],[t,a]]},x.step=function(t){return arguments.length?x.majorStep(t).minorStep(t):x.minorStep()},x.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],x):[g,m]},x.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],x):[h,p]},x.precision=function(i){return arguments.length?(v=+i,s=$r(o,a,90),c=Wr(e,t,v),d=$r(l,u,90),f=Wr(r,n,v),x):v},x.majorExtent([[-180,-90+Ot],[180,90-Ot]]).minorExtent([[-180,-80-Ot],[180,80+Ot]])},i.geo.greatArc=function(){var t,e,n=Kr,r=Zr;function a(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return a.distance=function(){return i.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},a.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,a):n},a.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,a):r},a.precision=function(){return arguments.length?a:0},a},i.geo.interpolate=function(t,e){return n=t[0]*At,r=t[1]*At,a=e[0]*At,i=e[1]*At,o=Math.cos(r),u=Math.sin(r),l=Math.cos(i),s=Math.sin(i),c=o*Math.cos(n),d=o*Math.sin(n),f=l*Math.cos(a),h=l*Math.sin(a),p=2*Math.asin(Math.sqrt(Bt(i-r)+o*l*Bt(a-n))),g=1/Math.sin(p),(m=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*c+e*f,a=n*d+e*h,i=n*u+e*s;return[Math.atan2(a,r)*Lt,Math.atan2(i,Math.sqrt(r*r+a*a))*Lt]}:function(){return[n*Lt,r*Lt]}).distance=p,m;var n,r,a,i,o,u,l,s,c,d,f,h,p,g,m},i.geo.length=function(t){return Tr=0,i.geo.stream(t,Xr),Tr};var Xr={sphere:D,point:D,lineStart:function(){var t,e,n;function r(r,a){var i=Math.sin(a*=At),o=Math.cos(a),u=M((r*=At)-t),l=Math.cos(u);Tr+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=n*i-e*o*l)*u),e*i+n*o*l),t=r,e=i,n=o}Xr.point=function(a,i){t=a*At,e=Math.sin(i*=At),n=Math.cos(i),Xr.point=r},Xr.lineEnd=function(){Xr.point=Xr.lineEnd=D}},lineEnd:D,polygonStart:D,polygonEnd:D};function Jr(t,e){function n(e,n){var r=Math.cos(e),a=Math.cos(n),i=t(r*a);return[i*a*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),a=e(r),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*i,r*o),Math.asin(r&&n*i/r)]},n}var Qr=Jr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(i.geo.azimuthalEqualArea=function(){return Rr(Qr)}).raw=Qr;var ta=Jr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),A);function ea(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Ct/4+t/2)},a=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),i=n*Math.pow(r(t),a)/a;if(!a)return aa;function o(t,e){i>0?e<-zt+Ot&&(e=-zt+Ot):e>zt-Ot&&(e=zt-Ot);var n=i/Math.pow(r(e),a);return[n*Math.sin(a*t),i-n*Math.cos(a*t)]}return o.invert=function(t,e){var n=i-e,r=Rt(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(i/r,1/a))-zt]},o}function na(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),a=n/r+t;if(M(r)<Ot)return Pr;function i(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}return i.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-Rt(r)*Math.sqrt(t*t+n*n)]},i}(i.geo.azimuthalEquidistant=function(){return Rr(ta)}).raw=ta,(i.geo.conicConformal=function(){return fr(ea)}).raw=ea,(i.geo.conicEquidistant=function(){return fr(na)}).raw=na;var ra=Jr((function(t){return 1/t}),Math.atan);function aa(t,e){return[t,Math.log(Math.tan(Ct/4+e/2))]}function ia(t){var e,n=Rr(t),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=a.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=i.apply(n,arguments);if(o===n){if(e=null==t){var u=Ct*r(),l=a();i([[l[0]-u,l[1]-u],[l[0]+u,l[1]+u]])}}else e&&(o=null);return o},n.clipExtent(null)}(i.geo.gnomonic=function(){return Rr(ra)}).raw=ra,aa.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-zt]},(i.geo.mercator=function(){return ia(aa)}).raw=aa;var oa=Jr((function(){return 1}),Math.asin);(i.geo.orthographic=function(){return Rr(oa)}).raw=oa;var ua=Jr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function la(t,e){return[Math.log(Math.tan(Ct/4+e/2)),-t]}function sa(t){return t[0]}function ca(t){return t[1]}function da(t){for(var e=t.length,n=[0,1],r=2,a=2;a<e;a++){for(;r>1&&Vt(t[n[r-2]],t[n[r-1]],t[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function fa(t,e){return t[0]-e[0]||t[1]-e[1]}(i.geo.stereographic=function(){return Rr(ua)}).raw=ua,la.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-zt]},(i.geo.transverseMercator=function(){var t=ia(la),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=la,i.geom={},i.geom.hull=function(t){var e=sa,n=ca;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,a=ye(e),i=ye(n),o=t.length,u=[],l=[];for(r=0;r<o;r++)u.push([+a.call(this,t[r],r),+i.call(this,t[r],r),r]);for(u.sort(fa),r=0;r<o;r++)l.push([u[r][0],-u[r][1]]);var s=da(u),c=da(l),d=c[0]===s[0],f=c[c.length-1]===s[s.length-1],h=[];for(r=s.length-1;r>=0;--r)h.push(t[u[s[r]][2]]);for(r=+d;r<c.length-f;++r)h.push(t[u[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},i.geom.polygon=function(t){return U(t,ha),t};var ha=i.geom.polygon.prototype=[];function pa(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ga(t,e,n,r){var a=t[0],i=n[0],o=e[0]-a,u=r[0]-i,l=t[1],s=n[1],c=e[1]-l,d=r[1]-s,f=(u*(l-s)-d*(a-i))/(d*o-u*c);return[a+f*o,l+f*c]}function ma(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ha.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],a=0;++e<n;)t=r,r=this[e],a+=t[1]*r[0]-t[0]*r[1];return.5*a},ha.centroid=function(t){var e,n,r=-1,a=this.length,i=0,o=0,u=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)e=u,u=this[r],n=e[0]*u[1]-u[0]*e[1],i+=(e[0]+u[0])*n,o+=(e[1]+u[1])*n;return[i*t,o*t]},ha.clip=function(t){for(var e,n,r,a,i,o,u=ma(t),l=-1,s=this.length-ma(this),c=this[s-1];++l<s;){for(e=t.slice(),t.length=0,a=this[l],i=e[(r=e.length-u)-1],n=-1;++n<r;)pa(o=e[n],c,a)?(pa(i,c,a)||t.push(ga(i,o,c,a)),t.push(o)):pa(i,c,a)&&t.push(ga(i,o,c,a)),i=o;u&&t.push(t[0]),c=a}return t};var va,xa,ba,ya,_a,Ma=[],wa=[];function ja(){qa(this),this.edge=this.site=this.circle=null}function Ta(t){var e=Ma.pop()||new ja;return e.site=t,e}function Ea(t){La(t),ba.remove(t),Ma.push(t),qa(t)}function ka(t){var e=t.circle,n=e.x,r=e.cy,a={x:n,y:r},i=t.P,o=t.N,u=[t];Ea(t);for(var l=i;l.circle&&M(n-l.circle.x)<Ot&&M(r-l.circle.cy)<Ot;)i=l.P,u.unshift(l),Ea(l),l=i;u.unshift(l),La(l);for(var s=o;s.circle&&M(n-s.circle.x)<Ot&&M(r-s.circle.cy)<Ot;)o=s.N,u.push(s),Ea(s),s=o;u.push(s),La(s);var c,d=u.length;for(c=1;c<d;++c)s=u[c],l=u[c-1],Ia(s.edge,l.site,s.site,a);l=u[0],(s=u[d-1]).edge=Da(l.site,s.site,null,a),Aa(l),Aa(s)}function Oa(t){for(var e,n,r,a,i=t.x,o=t.y,u=ba._;u;)if((r=Sa(u,o)-i)>Ot)u=u.L;else{if(!((a=i-Ca(u,o))>Ot)){r>-Ot?(e=u.P,n=u):a>-Ot?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}var l=Ta(t);if(ba.insert(e,l),e||n){if(e===n)return La(e),n=Ta(e.site),ba.insert(l,n),l.edge=n.edge=Da(e.site,l.site),Aa(e),void Aa(n);if(n){La(e),La(n);var s=e.site,c=s.x,d=s.y,f=t.x-c,h=t.y-d,p=n.site,g=p.x-c,m=p.y-d,v=2*(f*m-h*g),x=f*f+h*h,b=g*g+m*m,y={x:(m*x-h*b)/v+c,y:(f*b-g*x)/v+d};Ia(n.edge,s,p,y),l.edge=Da(s,t,null,y),n.edge=Da(t,p,null,y),Aa(e),Aa(n)}else l.edge=Da(e.site,l.site)}}function Sa(t,e){var n=t.site,r=n.x,a=n.y,i=a-e;if(!i)return r;var o=t.P;if(!o)return-1/0;var u=(n=o.site).x,l=n.y,s=l-e;if(!s)return u;var c=u-r,d=1/i-1/s,f=c/s;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*s)-l+s/2+a-i/2)))/d+r:(r+u)/2}function Ca(t,e){var n=t.N;if(n)return Sa(n,e);var r=t.site;return r.y===e?r.x:1/0}function Na(t){this.site=t,this.edges=[]}function Fa(t,e){return e.angle-t.angle}function za(){qa(this),this.x=this.y=this.arc=this.site=this.cy=null}function Aa(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,a=t.site,i=n.site;if(r!==i){var o=a.x,u=a.y,l=r.x-o,s=r.y-u,c=i.x-o,d=2*(l*(m=i.y-u)-s*c);if(!(d>=-St)){var f=l*l+s*s,h=c*c+m*m,p=(m*f-s*h)/d,g=(l*h-c*f)/d,m=g+u,v=wa.pop()||new za;v.arc=t,v.site=a,v.x=p+o,v.y=m+Math.sqrt(p*p+g*g),v.cy=m,t.circle=v;for(var x=null,b=_a._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){x=b.P;break}b=b.L}else{if(!b.R){x=b;break}b=b.R}_a.insert(x,v),x||(ya=v)}}}}function La(t){var e=t.circle;e&&(e.P||(ya=e.N),_a.remove(e),wa.push(e),qa(e),t.circle=null)}function Ra(t,e){var n=t.b;if(n)return!0;var r,a,i=t.a,o=e[0][0],u=e[1][0],l=e[0][1],s=e[1][1],c=t.l,d=t.r,f=c.x,h=c.y,p=d.x,g=d.y,m=(f+p)/2,v=(h+g)/2;if(g===h){if(m<o||m>=u)return;if(f>p){if(i){if(i.y>=s)return}else i={x:m,y:l};n={x:m,y:s}}else{if(i){if(i.y<l)return}else i={x:m,y:s};n={x:m,y:l}}}else if(a=v-(r=(f-p)/(g-h))*m,r<-1||r>1)if(f>p){if(i){if(i.y>=s)return}else i={x:(l-a)/r,y:l};n={x:(s-a)/r,y:s}}else{if(i){if(i.y<l)return}else i={x:(s-a)/r,y:s};n={x:(l-a)/r,y:l}}else if(h<g){if(i){if(i.x>=u)return}else i={x:o,y:r*o+a};n={x:u,y:r*u+a}}else{if(i){if(i.x<o)return}else i={x:u,y:r*u+a};n={x:o,y:r*o+a}}return t.a=i,t.b=n,!0}function Va(t,e){this.l=t,this.r=e,this.a=this.b=null}function Da(t,e,n,r){var a=new Va(t,e);return va.push(a),n&&Ia(a,t,e,n),r&&Ia(a,e,t,r),xa[t.i].edges.push(new Ba(a,t,e)),xa[e.i].edges.push(new Ba(a,e,t)),a}function Pa(t,e,n){var r=new Va(t,null);return r.a=e,r.b=n,va.push(r),r}function Ia(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Ba(t,e,n){var r=t.a,a=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function Ga(){this._=null}function qa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ha(t,e){var n=e,r=e.R,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ua(t,e){var n=e,r=e.L,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ya(t){for(;t.L;)t=t.L;return t}function $a(t,e){var n,r,a,i=t.sort(Wa).pop();for(va=[],xa=new Array(t.length),ba=new Ga,_a=new Ga;;)if(a=ya,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(xa[i.i]=new Na(i),Oa(i),n=i.x,r=i.y),i=t.pop();else{if(!a)break;ka(a.arc)}e&&(function(t){for(var e,n=va,r=sr(t[0][0],t[0][1],t[1][0],t[1][1]),a=n.length;a--;)(!Ra(e=n[a],t)||!r(e)||M(e.a.x-e.b.x)<Ot&&M(e.a.y-e.b.y)<Ot)&&(e.a=e.b=null,n.splice(a,1))}(e),function(t){for(var e,n,r,a,i,o,u,l,s,c,d=t[0][0],f=t[1][0],h=t[0][1],p=t[1][1],g=xa,m=g.length;m--;)if((i=g[m])&&i.prepare())for(l=(u=i.edges).length,o=0;o<l;)r=(c=u[o].end()).x,a=c.y,e=(s=u[++o%l].start()).x,n=s.y,(M(r-e)>Ot||M(a-n)>Ot)&&(u.splice(o,0,new Ba(Pa(i.site,c,M(r-d)<Ot&&p-a>Ot?{x:d,y:M(e-d)<Ot?n:p}:M(a-p)<Ot&&f-r>Ot?{x:M(n-p)<Ot?e:f,y:p}:M(r-f)<Ot&&a-h>Ot?{x:f,y:M(e-f)<Ot?n:h}:M(a-h)<Ot&&r-d>Ot?{x:M(n-h)<Ot?e:d,y:h}:null),i.site,null)),++l)}(e));var o={cells:xa,edges:va};return ba=_a=va=xa=null,o}function Wa(t,e){return e.y-t.y||e.x-t.x}Na.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Fa),e.length},Ba.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ga.prototype={insert:function(t,e){var n,r,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ya(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(a=r.R)&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.R&&(Ha(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ua(this,r)):(a=r.L)&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.L&&(Ua(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ha(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,a=t.U,i=t.L,o=t.R;if(n=i?o?Ya(o):i:o,a?a.L===t?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=t.U,t=n.R,a.L=t,n.R=o,o.U=n):(n.U=a,a=n,t=n.R)):(r=t.C,t=n),t&&(t.U=a),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===a.L){if((e=a.R).C&&(e.C=!1,a.C=!0,Ha(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ua(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,Ha(this,a),t=this._;break}}else if((e=a.L).C&&(e.C=!1,a.C=!0,Ua(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ha(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,Ua(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},i.geom.voronoi=function(t){var e=sa,n=ca,r=e,a=n,i=Ka;if(t)return o(t);function o(t){var e=new Array(t.length),n=i[0][0],r=i[0][1],a=i[1][0],o=i[1][1];return $a(u(t),i).cells.forEach((function(i,u){var l=i.edges,s=i.site;(e[u]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):s.x>=n&&s.x<=a&&s.y>=r&&s.y<=o?[[n,o],[a,o],[a,r],[n,r]]:[]).point=t[u]})),e}function u(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/Ot)*Ot,y:Math.round(a(t,e)/Ot)*Ot,i:e}}))}return o.links=function(t){return $a(u(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return $a(u(t)).cells.forEach((function(n,r){for(var a,i,o,u,l=n.site,s=n.edges.sort(Fa),c=-1,d=s.length,f=s[d-1].edge,h=f.l===l?f.r:f.l;++c<d;)f,a=h,h=(f=s[c].edge).l===l?f.r:f.l,r<a.i&&r<h.i&&(o=a,u=h,((i=l).x-u.x)*(o.y-i.y)-(i.x-o.x)*(u.y-i.y)<0)&&e.push([t[r],t[a.i],t[h.i]])})),e},o.x=function(t){return arguments.length?(r=ye(e=t),o):e},o.y=function(t){return arguments.length?(a=ye(n=t),o):n},o.clipExtent=function(t){return arguments.length?(i=null==t?Ka:t,o):i===Ka?null:i},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):i===Ka?null:i&&i[1]},o};var Ka=[[-1e6,-1e6],[1e6,1e6]];function Za(t){return t.x}function Xa(t){return t.y}function Ja(t,e,n,r,a,i){if(!t(e,n,r,a,i)){var o=.5*(n+a),u=.5*(r+i),l=e.nodes;l[0]&&Ja(t,l[0],n,r,o,u),l[1]&&Ja(t,l[1],o,r,a,u),l[2]&&Ja(t,l[2],n,u,o,i),l[3]&&Ja(t,l[3],o,u,a,i)}}function Qa(t,e,n,r,a,i,o){var u,l=1/0;return function t(s,c,d,f,h){if(!(c>i||d>o||f<r||h<a)){if(p=s.point){var p,g=e-s.x,m=n-s.y,v=g*g+m*m;if(v<l){var x=Math.sqrt(l=v);r=e-x,a=n-x,i=e+x,o=n+x,u=p}}for(var b=s.nodes,y=.5*(c+f),_=.5*(d+h),M=(n>=_)<<1|e>=y,w=M+4;M<w;++M)if(s=b[3&M])switch(3&M){case 0:t(s,c,d,y,_);break;case 1:t(s,y,d,f,_);break;case 2:t(s,c,_,y,h);break;case 3:t(s,y,_,f,h)}}}(t,r,a,i,o),u}function ti(t,e){t=i.rgb(t),e=i.rgb(e);var n=t.r,r=t.g,a=t.b,o=e.r-n,u=e.g-r,l=e.b-a;return function(t){return"#"+he(Math.round(n+o*t))+he(Math.round(r+u*t))+he(Math.round(a+l*t))}}function ei(t,e){var n,r={},a={};for(n in t)n in e?r[n]=oi(t[n],e[n]):a[n]=t[n];for(n in e)n in t||(a[n]=e[n]);return function(t){for(n in r)a[n]=r[n](t);return a}}function ni(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ri(t,e){var n,r,a,i=ai.lastIndex=ii.lastIndex=0,o=-1,u=[],l=[];for(t+="",e+="";(n=ai.exec(t))&&(r=ii.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,l.push({i:o,x:ni(n,r)})),i=ii.lastIndex;return i<e.length&&(a=e.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}i.geom.delaunay=function(t){return i.geom.voronoi().triangles(t)},i.geom.quadtree=function(t,e,n,r,a){var i,o=sa,u=ca;if(i=arguments.length)return o=Za,u=Xa,3===i&&(a=n,r=e,n=e=0),l(t);function l(t){var l,s,c,d,f,h,p,g,m,v=ye(o),x=ye(u);if(null!=e)h=e,p=n,g=r,m=a;else if(g=m=-(h=p=1/0),s=[],c=[],f=t.length,i)for(d=0;d<f;++d)(l=t[d]).x<h&&(h=l.x),l.y<p&&(p=l.y),l.x>g&&(g=l.x),l.y>m&&(m=l.y),s.push(l.x),c.push(l.y);else for(d=0;d<f;++d){var b=+v(l=t[d],d),y=+x(l,d);b<h&&(h=b),y<p&&(p=y),b>g&&(g=b),y>m&&(m=y),s.push(b),c.push(y)}var _=g-h,w=m-p;function j(t,e,n,r,a,i,o,u){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,s=t.y;if(null!=l)if(M(l-n)+M(s-r)<.01)T(t,e,n,r,a,i,o,u);else{var c=t.point;t.x=t.y=t.point=null,T(t,c,l,s,a,i,o,u),T(t,e,n,r,a,i,o,u)}else t.x=n,t.y=r,t.point=e}else T(t,e,n,r,a,i,o,u)}function T(t,e,n,r,a,i,o,u){var l=.5*(a+o),s=.5*(i+u),c=n>=l,d=r>=s,f=d<<1|c;t.leaf=!1,c?a=l:o=l,d?i=s:u=s,j(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,a,i,o,u)}_>w?m=p+_:g=h+w;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){j(E,t,+v(t,++d),+x(t,d),h,p,g,m)},visit:function(t){Ja(t,E,h,p,g,m)},find:function(t){return Qa(E,t[0],t[1],h,p,g,m)}};if(d=-1,null==e){for(;++d<f;)j(E,t[d],s[d],c[d],h,p,g,m);--d}else t.forEach(E.add);return s=c=t=l=null,E}return l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(u=t,l):u},l.extent=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],a=+t[1][1]),l):null==e?null:[[e,n],[r,a]]},l.size=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=n=0,r=+t[0],a=+t[1]),l):null==e?null:[r-e,a-n]},l},i.interpolateRgb=ti,i.interpolateObject=ei,i.interpolateNumber=ni,i.interpolateString=ri;var ai=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ii=new RegExp(ai.source,"g");function oi(t,e){for(var n,r=i.interpolators.length;--r>=0&&!(n=i.interpolators[r](t,e)););return n}function ui(t,e){var n,r=[],a=[],i=t.length,o=e.length,u=Math.min(t.length,e.length);for(n=0;n<u;++n)r.push(oi(t[n],e[n]));for(;n<i;++n)a[n]=t[n];for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<u;++n)a[n]=r[n](t);return a}}i.interpolate=oi,i.interpolators=[function(t,e){var n=typeof e;return("string"===n?be.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?ti:ri:e instanceof Yt?ti:Array.isArray(e)?ui:"object"===n&&isNaN(e)?ei:ni)(t,e)}],i.interpolateArray=ui;var li=function(){return A},si=i.map({linear:li,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return pi},cubic:function(){return gi},sin:function(){return vi},exp:function(){return xi},circle:function(){return bi},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Nt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Nt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return yi}}),ci=i.map({in:A,out:fi,"in-out":hi,"out-in":function(t){return hi(fi(t))}});function di(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function fi(t){return function(e){return 1-t(1-e)}}function hi(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function pi(t){return t*t}function gi(t){return t*t*t}function mi(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function vi(t){return 1-Math.cos(t*zt)}function xi(t){return Math.pow(2,10*(t-1))}function bi(t){return 1-Math.sqrt(1-t*t)}function yi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function _i(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Mi(t){var e,n,r,a=[t.a,t.b],i=[t.c,t.d],o=ji(a),u=wi(a,i),l=ji(((e=i)[0]+=(r=-u)*(n=a)[0],e[1]+=r*n[1],e))||0;a[0]*i[1]<i[0]*a[1]&&(a[0]*=-1,a[1]*=-1,o*=-1,u*=-1),this.rotate=(o?Math.atan2(a[1],a[0]):Math.atan2(-i[0],i[1]))*Lt,this.translate=[t.e,t.f],this.scale=[o,l],this.skew=l?Math.atan2(u,l)*Lt:0}function wi(t,e){return t[0]*e[0]+t[1]*e[1]}function ji(t){var e=Math.sqrt(wi(t,t));return e&&(t[0]/=e,t[1]/=e),e}i.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=si.get(n)||li,di((r=ci.get(r)||A)(n.apply(null,o.call(arguments,1))))},i.interpolateHcl=function(t,e){t=i.hcl(t),e=i.hcl(e);var n=t.h,r=t.c,a=t.l,o=e.h-n,u=e.c-r,l=e.l-a;isNaN(u)&&(u=0,r=isNaN(r)?e.c:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Jt(n+o*t,r+u*t,a+l*t)+""}},i.interpolateHsl=function(t,e){t=i.hsl(t),e=i.hsl(e);var n=t.h,r=t.s,a=t.l,o=e.h-n,u=e.s-r,l=e.l-a;isNaN(u)&&(u=0,r=isNaN(r)?e.s:r);isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360);return function(t){return Kt(n+o*t,r+u*t,a+l*t)+""}},i.interpolateLab=function(t,e){t=i.lab(t),e=i.lab(e);var n=t.l,r=t.a,a=t.b,o=e.l-n,u=e.a-r,l=e.b-a;return function(t){return ae(n+o*t,r+u*t,a+l*t)+""}},i.interpolateRound=_i,i.transform=function(t){var e=l.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Mi(n?n.matrix:Ti)})(t)},Mi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ti={a:1,b:0,c:0,d:1,e:0,f:0};function Ei(t){return t.length?t.pop()+",":""}function ki(t,e){var n=[],r=[];return t=i.transform(t),e=i.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:ni(t[0],e[0])},{i:a-2,x:ni(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Ei(n)+"rotate(",null,")")-2,x:ni(t,e)})):e&&n.push(Ei(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(Ei(n)+"skewX(",null,")")-2,x:ni(t,e)}):e&&n.push(Ei(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var a=n.push(Ei(n)+"scale(",null,",",null,")");r.push({i:a-4,x:ni(t[0],e[0])},{i:a-2,x:ni(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ei(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,a=-1,i=r.length;++a<i;)n[(e=r[a]).i]=e.x(t);return n.join("")}}function Oi(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Si(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ci(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Ni(t),r=Ni(e),a=n.pop(),i=r.pop(),o=null;for(;a===i;)o=a,a=n.pop(),i=r.pop();return o}(e,n),a=[e];e!==r;)e=e.parent,a.push(e);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function Ni(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Fi(t){t.fixed|=2}function zi(t){t.fixed&=-7}function Ai(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Li(t){t.fixed&=-5}function Ri(t,e,n){var r=0,a=0;if(t.charge=0,!t.leaf)for(var i,o=t.nodes,u=o.length,l=-1;++l<u;)null!=(i=o[l])&&(Ri(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var s=e*n[t.point.index];t.charge+=t.pointCharge=s,r+=s*t.point.x,a+=s*t.point.y}t.cx=r/t.charge,t.cy=a/t.charge}i.interpolateTransform=ki,i.layout={},i.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Ci(t[n]));return e}},i.layout.chord=function(){var t,e,n,r,a,o,u,l={},s=0;function c(){var l,c,f,h,p,g={},m=[],v=i.range(r),x=[];for(t=[],e=[],l=0,h=-1;++h<r;){for(c=0,p=-1;++p<r;)c+=n[h][p];m.push(c),x.push(i.range(r)),l+=c}for(a&&v.sort((function(t,e){return a(m[t],m[e])})),o&&x.forEach((function(t,e){t.sort((function(t,r){return o(n[e][t],n[e][r])}))})),l=(Nt-s*r)/l,c=0,h=-1;++h<r;){for(f=c,p=-1;++p<r;){var b=v[h],y=x[b][p],_=n[b][y],M=c,w=c+=_*l;g[b+"-"+y]={index:b,subindex:y,startAngle:M,endAngle:w,value:_}}e[b]={index:b,startAngle:f,endAngle:c,value:m[b]},c+=s}for(h=-1;++h<r;)for(p=h-1;++p<r;){var j=g[h+"-"+p],T=g[p+"-"+h];(j.value||T.value)&&t.push(j.value<T.value?{source:T,target:j}:{source:j,target:T})}u&&d()}function d(){t.sort((function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(a){return arguments.length?(r=(n=a)&&n.length,t=e=null,l):n},l.padding=function(n){return arguments.length?(s=n,t=e=null,l):s},l.sortGroups=function(n){return arguments.length?(a=n,t=e=null,l):a},l.sortSubgroups=function(e){return arguments.length?(o=e,t=null,l):o},l.sortChords=function(e){return arguments.length?(u=e,t&&d(),l):u},l.chords=function(){return t||c(),t},l.groups=function(){return e||c(),e},l},i.layout.force=function(){var t,e,n,r,a,o,u={},l=i.dispatch("start","tick","end"),s=[1,1],c=.9,d=Vi,f=Di,h=-30,p=Pi,g=.1,m=.64,v=[],x=[];function b(t){return function(e,n,r,a){if(e.point!==t){var i=e.cx-t.x,o=e.cy-t.y,u=a-n,l=i*i+o*o;if(u*u/m<l){if(l<p){var s=e.charge/l;t.px-=i*s,t.py-=o*s}return!0}if(e.point&&l&&l<p){s=e.pointCharge/l;t.px-=i*s,t.py-=o*s}}return!e.charge}}function y(t){t.px=i.event.x,t.py=i.event.y,u.resume()}return u.tick=function(){if((n*=.99)<.005)return t=null,l.end({type:"end",alpha:n=0}),!0;var e,u,d,f,p,m,y,_,M,w=v.length,j=x.length;for(u=0;u<j;++u)f=(d=x[u]).source,(m=(_=(p=d.target).x-f.x)*_+(M=p.y-f.y)*M)&&(_*=m=n*a[u]*((m=Math.sqrt(m))-r[u])/m,M*=m,p.x-=_*(y=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=M*y,f.x+=_*(y=1-y),f.y+=M*y);if((y=n*g)&&(_=s[0]/2,M=s[1]/2,u=-1,y))for(;++u<w;)(d=v[u]).x+=(_-d.x)*y,d.y+=(M-d.y)*y;if(h)for(Ri(e=i.geom.quadtree(v),n,o),u=-1;++u<w;)(d=v[u]).fixed||e.visit(b(d));for(u=-1;++u<w;)(d=v[u]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);l.tick({type:"tick",alpha:n})},u.nodes=function(t){return arguments.length?(v=t,u):v},u.links=function(t){return arguments.length?(x=t,u):x},u.size=function(t){return arguments.length?(s=t,u):s},u.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.friction=function(t){return arguments.length?(c=+t,u):c},u.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.chargeDistance=function(t){return arguments.length?(p=t*t,u):Math.sqrt(p)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(m=t*t,u):Math.sqrt(m)},u.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:n=0})):e>0&&(l.start({type:"start",alpha:n=e}),t=Oe(u.tick)),u):n},u.start=function(){var t,e,n,i=v.length,l=x.length,c=s[0],p=s[1];for(t=0;t<i;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=x[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<i;++t)n=v[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(t=0;t<l;++t)r[t]=+d.call(this,x[t],t);else for(t=0;t<l;++t)r[t]=d;if(a=[],"function"==typeof f)for(t=0;t<l;++t)a[t]=+f.call(this,x[t],t);else for(t=0;t<l;++t)a[t]=f;if(o=[],"function"==typeof h)for(t=0;t<i;++t)o[t]=+h.call(this,v[t],t);else for(t=0;t<i;++t)o[t]=h;function g(n,r){if(!e){for(e=new Array(i),s=0;s<i;++s)e[s]=[];for(s=0;s<l;++s){var a=x[s];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var o,u=e[t],s=-1,c=u.length;++s<c;)if(!isNaN(o=u[s][n]))return o;return Math.random()*r}return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(e||(e=i.behavior.drag().origin(A).on("dragstart.force",Fi).on("drag.force",y).on("dragend.force",zi)),!arguments.length)return e;this.on("mouseover.force",Ai).on("mouseout.force",Li).call(e)},i.rebind(u,l,"on")};var Vi=20,Di=1,Pi=1/0;function Ii(t,e){return i.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=Yi,t}function Bi(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(a=t.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function Gi(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(t=r.pop());)e(t)}function qi(t){return t.children}function Hi(t){return t.value}function Ui(t,e){return e.value-t.value}function Yi(t){return i.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}i.layout.hierarchy=function(){var t=Ui,e=qi,n=Hi;function r(a){var i,o=[a],u=[];for(a.depth=0;null!=(i=o.pop());)if(u.push(i),(s=e.call(r,i,i.depth))&&(l=s.length)){for(var l,s,c;--l>=0;)o.push(c=s[l]),c.parent=i,c.depth=i.depth+1;n&&(i.value=0),i.children=s}else n&&(i.value=+n.call(r,i,i.depth)||0),delete i.children;return Gi(a,(function(e){var r,a;t&&(r=e.children)&&r.sort(t),n&&(a=e.parent)&&(a.value+=e.value)})),u}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Bi(t,(function(t){t.children&&(t.value=0)})),Gi(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},i.layout.partition=function(){var t=i.layout.hierarchy(),e=[1,1];function n(t,e,r,a){var i=t.children;if(t.x=e,t.y=t.depth*a,t.dx=r,t.dy=a,i&&(o=i.length)){var o,u,l,s=-1;for(r=t.value?r/t.value:0;++s<o;)n(u=i[s],e,l=u.value*r,a),e+=l}}function r(t){var e=t.children,n=0;if(e&&(a=e.length))for(var a,i=-1;++i<a;)n=Math.max(n,r(e[i]));return 1+n}function a(a,i){var o=t.call(this,a,i);return n(o[0],0,e[0],e[1]/r(o[0])),o}return a.size=function(t){return arguments.length?(e=t,a):e},Ii(a,t)},i.layout.pie=function(){var t=Number,e=$i,n=0,r=Nt,a=0;function o(u){var l,s=u.length,c=u.map((function(e,n){return+t.call(o,e,n)})),d=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-d,h=Math.min(Math.abs(f)/s,+("function"==typeof a?a.apply(this,arguments):a)),p=h*(f<0?-1:1),g=i.sum(c),m=g?(f-s*p)/g:0,v=i.range(s),x=[];return null!=e&&v.sort(e===$i?function(t,e){return c[e]-c[t]}:function(t,n){return e(u[t],u[n])}),v.forEach((function(t){x[t]={data:u[t],value:l=c[t],startAngle:d,endAngle:d+=l*m+p,padAngle:h}})),x}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(t){return arguments.length?(e=t,o):e},o.startAngle=function(t){return arguments.length?(n=t,o):n},o.endAngle=function(t){return arguments.length?(r=t,o):r},o.padAngle=function(t){return arguments.length?(a=t,o):a},o};var $i={};function Wi(t){return t.x}function Ki(t){return t.y}function Zi(t,e,n){t.y0=e,t.y=n}i.layout.stack=function(){var t=A,e=Qi,n=to,r=Zi,a=Wi,o=Ki;function u(l,s){if(!(h=l.length))return l;var c=l.map((function(e,n){return t.call(u,e,n)})),d=c.map((function(t){return t.map((function(t,e){return[a.call(u,t,e),o.call(u,t,e)]}))})),f=e.call(u,d,s);c=i.permute(c,f),d=i.permute(d,f);var h,p,g,m,v=n.call(u,d,s),x=c[0].length;for(g=0;g<x;++g)for(r.call(u,c[0][g],m=v[g],d[0][g][1]),p=1;p<h;++p)r.call(u,c[p][g],m+=d[p-1][g][1],d[p][g][1]);return l}return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(t){return arguments.length?(e="function"==typeof t?t:Xi.get(t)||Qi,u):e},u.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ji.get(t)||to,u):n},u.x=function(t){return arguments.length?(a=t,u):a},u.y=function(t){return arguments.length?(o=t,u):o},u.out=function(t){return arguments.length?(r=t,u):r},u};var Xi=i.map({"inside-out":function(t){var e,n,r=t.length,a=t.map(eo),o=t.map(no),u=i.range(r).sort((function(t,e){return a[t]-a[e]})),l=0,s=0,c=[],d=[];for(e=0;e<r;++e)n=u[e],l<s?(l+=o[n],c.push(n)):(s+=o[n],d.push(n));return d.reverse().concat(c)},reverse:function(t){return i.range(t.length).reverse()},default:Qi}),Ji=i.map({silhouette:function(t){var e,n,r,a=t.length,i=t[0].length,o=[],u=0,l=[];for(n=0;n<i;++n){for(e=0,r=0;e<a;e++)r+=t[e][n][1];r>u&&(u=r),o.push(r)}for(n=0;n<i;++n)l[n]=(u-o[n])/2;return l},wiggle:function(t){var e,n,r,a,i,o,u,l,s,c=t.length,d=t[0],f=d.length,h=[];for(h[0]=l=s=0,n=1;n<f;++n){for(e=0,a=0;e<c;++e)a+=t[e][n][1];for(e=0,i=0,u=d[n][0]-d[n-1][0];e<c;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*u);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/u;i+=o*t[e][n][1]}h[n]=l-=a?i/a*u:0,l<s&&(s=l)}for(n=0;n<f;++n)h[n]-=s;return h},expand:function(t){var e,n,r,a=t.length,i=t[0].length,o=1/a,u=[];for(n=0;n<i;++n){for(e=0,r=0;e<a;e++)r+=t[e][n][1];if(r)for(e=0;e<a;e++)t[e][n][1]/=r;else for(e=0;e<a;e++)t[e][n][1]=o}for(n=0;n<i;++n)u[n]=0;return u},zero:to});function Qi(t){return i.range(t.length)}function to(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function eo(t){for(var e,n=1,r=0,a=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>a&&(r=n,a=e);return r}function no(t){return t.reduce(ro,0)}function ro(t,e){return t+e[1]}function ao(t,e){return io(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function io(t,e){for(var n=-1,r=+t[0],a=(t[1]-r)/e,i=[];++n<=e;)i[n]=a*n+r;return i}function oo(t){return[i.min(t),i.max(t)]}function uo(t,e){return t.value-e.value}function lo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function so(t,e){t._pack_next=e,e._pack_prev=t}function co(t,e){var n=e.x-t.x,r=e.y-t.y,a=t.r+e.r;return.999*a*a>n*n+r*r}function fo(t){if((e=t.children)&&(l=e.length)){var e,n,r,a,i,o,u,l,s=1/0,c=-1/0,d=1/0,f=-1/0;if(e.forEach(ho),(n=e[0]).x=-n.r,n.y=0,b(n),l>1&&((r=e[1]).x=r.r,r.y=0,b(r),l>2))for(mo(n,r,a=e[2]),b(a),lo(n,a),n._pack_prev=a,lo(a,r),r=n._pack_next,i=3;i<l;i++){mo(n,r,a=e[i]);var h=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(co(o,a)){h=1;break}if(1==h)for(u=n._pack_prev;u!==o._pack_prev&&!co(u,a);u=u._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?so(n,r=o):so(n=u,r),i--):(lo(n,a),r=a,b(a))}var m=(s+c)/2,v=(d+f)/2,x=0;for(i=0;i<l;i++)(a=e[i]).x-=m,a.y-=v,x=Math.max(x,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=x,e.forEach(po)}function b(t){s=Math.min(t.x-t.r,s),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}}function ho(t){t._pack_next=t._pack_prev=t}function po(t){delete t._pack_next,delete t._pack_prev}function go(t,e,n,r){var a=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,a)for(var i=-1,o=a.length;++i<o;)go(a[i],e,n,r)}function mo(t,e,n){var r=t.r+n.r,a=e.x-t.x,i=e.y-t.y;if(r&&(a||i)){var o=e.r+n.r,u=a*a+i*i,l=.5+((r*=r)-(o*=o))/(2*u),s=Math.sqrt(Math.max(0,2*o*(r+u)-(r-=u)*r-o*o))/(2*u);n.x=t.x+l*a+s*i,n.y=t.y+l*i-s*a}else n.x=t.x+r,n.y=t.y}function vo(t,e){return t.parent==e.parent?1:2}function xo(t){var e=t.children;return e.length?e[0]:t.t}function bo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function yo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function _o(t,e,n){return t.a.parent===e.parent?t.a:n}function Mo(t){var e=t.children;return e&&e.length?Mo(e[0]):t}function wo(t){var e,n=t.children;return n&&(e=n.length)?wo(n[e-1]):t}function jo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function To(t,e){var n=t.x+e[3],r=t.y+e[0],a=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return a<0&&(n+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function Eo(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function ko(t){return t.rangeExtent?t.rangeExtent():Eo(t.range())}function Oo(t,e,n,r){var a=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(a(t))}}function So(t,e){var n,r=0,a=t.length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function Co(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:No}i.layout.histogram=function(){var t=!0,e=Number,n=oo,r=ao;function a(a,o){for(var u,l,s=[],c=a.map(e,this),d=n.call(this,c,o),f=r.call(this,d,c,o),h=(o=-1,c.length),p=f.length-1,g=t?1:1/h;++o<p;)(u=s[o]=[]).dx=f[o+1]-(u.x=f[o]),u.y=0;if(p>0)for(o=-1;++o<h;)(l=c[o])>=d[0]&&l<=d[1]&&((u=s[i.bisect(f,l,1,p)-1]).y+=g,u.push(a[o]));return s}return a.value=function(t){return arguments.length?(e=t,a):e},a.range=function(t){return arguments.length?(n=ye(t),a):n},a.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return io(e,t)}:ye(t),a):r},a.frequency=function(e){return arguments.length?(t=!!e,a):t},a},i.layout.pack=function(){var t,e=i.layout.hierarchy().sort(uo),n=0,r=[1,1];function a(a,i){var o=e.call(this,a,i),u=o[0],l=r[0],s=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,Gi(u,(function(t){t.r=+c(t.value)})),Gi(u,fo),n){var d=n*(t?1:Math.max(2*u.r/l,2*u.r/s))/2;Gi(u,(function(t){t.r+=d})),Gi(u,fo),Gi(u,(function(t){t.r-=d}))}return go(u,l/2,s/2,t?1:1/Math.max(2*u.r/l,2*u.r/s)),o}return a.size=function(t){return arguments.length?(r=t,a):r},a.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,a):t},a.padding=function(t){return arguments.length?(n=+t,a):n},Ii(a,e)},i.layout.tree=function(){var t=i.layout.hierarchy().sort(null).value(null),e=vo,n=[1,1],r=null;function a(a,i){var s=t.call(this,a,i),c=s[0],d=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var a,i=e.children,o=0,u=i.length;o<u;++o)r.push((i[o]=a={_:i[o],parent:e,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}(c);if(Gi(d,o),d.parent.m=-d.z,Bi(d,u),r)Bi(c,l);else{var f=c,h=c,p=c;Bi(c,(function(t){t.x<f.x&&(f=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)}));var g=e(f,h)/2-f.x,m=n[0]/(h.x+e(h,f)/2+g),v=n[1]/(p.depth||1);Bi(c,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return s}function o(t){var n=t.children,r=t.parent.children,a=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,a=t.children,i=a.length;for(;--i>=0;)(e=a[i]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(n[0].z+n[n.length-1].z)/2;a?(t.z=a.z+e(t._,a._),t.m=t.z-i):t.z=i}else a&&(t.z=a.z+e(t._,a._));t.parent.A=function(t,n,r){if(n){for(var a,i=t,o=t,u=n,l=i.parent.children[0],s=i.m,c=o.m,d=u.m,f=l.m;u=bo(u),i=xo(i),u&&i;)l=xo(l),(o=bo(o)).a=t,(a=u.z+d-i.z-s+e(u._,i._))>0&&(yo(_o(u,t,r),t,a),s+=a,c+=a),d+=u.m,s+=i.m,f+=l.m,c+=o.m;u&&!bo(o)&&(o.t=u,o.m+=d-c),i&&!xo(l)&&(l.t=i,l.m+=s-f,r=t)}return r}(t,a,t.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(t){return arguments.length?(r=null==(n=t)?l:null,a):r?null:n},a.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:l,a):r?n:null},Ii(a,t)},i.layout.cluster=function(){var t=i.layout.hierarchy().sort(null).value(null),e=vo,n=[1,1],r=!1;function a(a,o){var u,l=t.call(this,a,o),s=l[0],c=0;Gi(s,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+i.max(t,(function(t){return t.y}))}(n)):(t.x=u?c+=e(t,u):0,t.y=0,u=t)}));var d=Mo(s),f=wo(s),h=d.x-e(d,f)/2,p=f.x+e(f,d)/2;return Gi(s,r?function(t){t.x=(t.x-s.x)*n[0],t.y=(s.y-t.y)*n[1]}:function(t){t.x=(t.x-h)/(p-h)*n[0],t.y=(1-(s.y?t.y/s.y:1))*n[1]}),l}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(t){return arguments.length?(r=null==(n=t),a):r?null:n},a.nodeSize=function(t){return arguments.length?(r=null!=(n=t),a):r?n:null},Ii(a,t)},i.layout.treemap=function(){var t,e=i.layout.hierarchy(),n=Math.round,r=[1,1],a=null,o=jo,u=!1,l="squarify",s=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,a=-1,i=t.length;++a<i;)r=(n=t[a]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function d(t){var e=t.children;if(e&&e.length){var n,r,a,i=o(t),u=[],s=e.slice(),f=1/0,g="slice"===l?i.dx:"dice"===l?i.dy:"slice-dice"===l?1&t.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(c(s,i.dx*i.dy/t.value),u.area=0;(a=s.length)>0;)u.push(n=s[a-1]),u.area+=n.area,"squarify"!==l||(r=h(u,g))<=f?(s.pop(),f=r):(u.area-=u.pop().area,p(u,g,i,!1),g=Math.min(i.dx,i.dy),u.length=u.area=0,f=1/0);u.length&&(p(u,g,i,!0),u.length=u.area=0),e.forEach(d)}}function f(t){var e=t.children;if(e&&e.length){var n,r=o(t),a=e.slice(),i=[];for(c(a,r.dx*r.dy/t.value),i.area=0;n=a.pop();)i.push(n),i.area+=n.area,null!=n.z&&(p(i,n.z?r.dx:r.dy,r,!a.length),i.length=i.area=0);e.forEach(f)}}function h(t,e){for(var n,r=t.area,a=0,i=1/0,o=-1,u=t.length;++o<u;)(n=t[o].area)&&(n<i&&(i=n),n>a&&(a=n));return e*=e,(r*=r)?Math.max(e*a*s/r,r/(e*i*s)):1/0}function p(t,e,r,a){var i,o=-1,u=t.length,l=r.x,s=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((a||c>r.dy)&&(c=r.dy);++o<u;)(i=t[o]).x=l,i.y=s,i.dy=c,l+=i.dx=Math.min(r.x+r.dx-l,c?n(i.area/c):0);i.z=!0,i.dx+=r.x+r.dx-l,r.y+=c,r.dy-=c}else{for((a||c>r.dx)&&(c=r.dx);++o<u;)(i=t[o]).x=l,i.y=s,i.dx=c,s+=i.dy=Math.min(r.y+r.dy-s,c?n(i.area/c):0);i.z=!1,i.dy+=r.y+r.dy-s,r.x+=c,r.dx-=c}}function g(n){var a=t||e(n),i=a[0];return i.x=i.y=0,i.value?(i.dx=r[0],i.dy=r[1]):i.dx=i.dy=0,t&&e.revalue(i),c([i],i.dx*i.dy/i.value),(t?f:d)(i),u&&(t=a),a}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return a;function e(e){var n=t.call(g,e,e.depth);return null==n?jo(e):To(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return To(e,t)}var r;return o=null==(a=t)?jo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(u=e,t=null,g):u},g.ratio=function(t){return arguments.length?(s=t,g):s},g.mode=function(t){return arguments.length?(l=t+"",g):l},Ii(g,e)},i.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,a;do{a=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!a||a>1);return t+e*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=i.random.normal.apply(i,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=i.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},i.scale={};var No={floor:A,ceil:A};function Fo(t,e,n,r){var a=[],o=[],u=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<=l;)a.push(n(t[u-1],t[u])),o.push(r(e[u-1],e[u]));return function(e){var n=i.bisect(t,e,1,l)-1;return o[n](a[n](e))}}function zo(t,e,n,r){var a,i;function o(){var o=Math.min(t.length,e.length)>2?Fo:Oo,l=r?Si:Oi;return a=o(t,e,l,n),i=o(e,t,l,oi),u}function u(t){return a(t)}return u.invert=function(t){return i(t)},u.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},u.range=function(t){return arguments.length?(e=t,o()):e},u.rangeRound=function(t){return u.range(t).interpolate(_i)},u.clamp=function(t){return arguments.length?(r=t,o()):r},u.interpolate=function(t){return arguments.length?(n=t,o()):n},u.ticks=function(e){return Vo(t,e)},u.tickFormat=function(e,n){return Do(t,e,n)},u.nice=function(e){return Lo(t,e),o()},u.copy=function(){return zo(t,e,n,r)},o()}function Ao(t,e){return i.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Lo(t,e){return So(t,Co(Ro(t,e)[2])),So(t,Co(Ro(t,e)[2])),t}function Ro(t,e){null==e&&(e=10);var n=Eo(t),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function Vo(t,e){return i.range.apply(i,Ro(t,e))}function Do(t,e,n){var r=Ro(t,e);if(n){var a=Le.exec(n);if(a.shift(),"s"===a[8]){var o=i.formatPrefix(Math.max(M(r[0]),M(r[1])));return a[7]||(a[7]="."+Io(o.scale(r[2]))),a[8]="f",n=i.format(a.join("")),function(t){return n(o.scale(t))+o.symbol}}a[7]||(a[7]="."+function(t,e){var n=Io(e[2]);return t in Po?Math.abs(n-Io(Math.max(M(e[0]),M(e[1]))))+ +("e"!==t):n-2*("%"===t)}(a[8],r)),n=a.join("")}else n=",."+Io(r[2])+"f";return i.format(n)}i.scale.linear=function(){return zo([0,1],[0,1],oi,!1)};var Po={s:1,g:1,p:1,r:1,e:1};function Io(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Bo(t,e,n,r){function a(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function u(e){return t(a(e))}return u.invert=function(e){return o(t.invert(e))},u.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(a)),u):r},u.base=function(n){return arguments.length?(e=+n,t.domain(r.map(a)),u):e},u.nice=function(){var e=So(r.map(a),n?Math:qo);return t.domain(e),r=e.map(o),u},u.ticks=function(){var t=Eo(r),i=[],u=t[0],l=t[1],s=Math.floor(a(u)),c=Math.ceil(a(l)),d=e%1?2:e;if(isFinite(c-s)){if(n){for(;s<c;s++)for(var f=1;f<d;f++)i.push(o(s)*f);i.push(o(s))}else for(i.push(o(s));s++<c;)for(f=d-1;f>0;f--)i.push(o(s)*f);for(s=0;i[s]<u;s++);for(c=i.length;i[c-1]>l;c--);i=i.slice(s,c)}return i},u.tickFormat=function(t,n){if(!arguments.length)return Go;arguments.length<2?n=Go:"function"!=typeof n&&(n=i.format(n));var r=Math.max(1,e*t/u.ticks().length);return function(t){var i=t/o(Math.round(a(t)));return i*e<e-.5&&(i*=e),i<=r?n(t):""}},u.copy=function(){return Bo(t.copy(),e,n,r)},Ao(u,t)}i.scale.log=function(){return Bo(i.scale.linear().domain([0,1]),10,!0,[1,10])};var Go=i.format(".0e"),qo={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ho(t,e,n){var r=Uo(e),a=Uo(1/e);function i(e){return t(r(e))}return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return Vo(n,t)},i.tickFormat=function(t,e){return Do(n,t,e)},i.nice=function(t){return i.domain(Lo(n,t))},i.exponent=function(o){return arguments.length?(r=Uo(e=o),a=Uo(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return Ho(t.copy(),e,n)},Ao(i,t)}function Uo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yo(t,e){var n,r,a;function o(a){return r[((n.get(a)||("range"===e.t?n.set(a,t.push(a)):NaN))-1)%r.length]}function u(e,n){return i.range(t.length).map((function(t){return e+n*t}))}return o.domain=function(r){if(!arguments.length)return t;t=[],n=new T;for(var a,i=-1,u=r.length;++i<u;)n.has(a=r[i])||n.set(a,t.push(a));return o[e.t].apply(o,e.a)},o.range=function(t){return arguments.length?(r=t,a=0,e={t:"range",a:arguments},o):r},o.rangePoints=function(n,i){arguments.length<2&&(i=0);var l=n[0],s=n[1],c=t.length<2?(l=(l+s)/2,0):(s-l)/(t.length-1+i);return r=u(l+c*i/2,c),a=0,e={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(n,i){arguments.length<2&&(i=0);var l=n[0],s=n[1],c=t.length<2?(l=s=Math.round((l+s)/2),0):(s-l)/(t.length-1+i)|0;return r=u(l+Math.round(c*i/2+(s-l-(t.length-1+i)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(n,i,l){arguments.length<2&&(i=0),arguments.length<3&&(l=i);var s=n[1]<n[0],c=n[s-0],d=n[1-s],f=(d-c)/(t.length-i+2*l);return r=u(c+f*l,f),s&&r.reverse(),a=f*(1-i),e={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(n,i,l){arguments.length<2&&(i=0),arguments.length<3&&(l=i);var s=n[1]<n[0],c=n[s-0],d=n[1-s],f=Math.floor((d-c)/(t.length-i+2*l));return r=u(c+Math.round((d-c-(t.length-i)*f)/2),f),s&&r.reverse(),a=Math.round(f*(1-i)),e={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return Eo(e.a[0])},o.copy=function(){return Yo(t,e)},o.domain(t)}i.scale.pow=function(){return Ho(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return Yo([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range($o)},i.scale.category20=function(){return i.scale.ordinal().range(Wo)},i.scale.category20b=function(){return i.scale.ordinal().range(Ko)},i.scale.category20c=function(){return i.scale.ordinal().range(Zo)};var $o=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(de),Wo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(de),Ko=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(de),Zo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(de);function Xo(t,e){var n;function r(){var r=0,o=e.length;for(n=[];++r<o;)n[r-1]=i.quantile(t,r/o);return a}function a(t){if(!isNaN(t=+t))return e[i.bisect(n,t)]}return a.domain=function(e){return arguments.length?(t=e.map(v).filter(x).sort(m),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.quantiles=function(){return n},a.invertExtent=function(r){return(r=e.indexOf(r))<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},a.copy=function(){return Xo(t,e)},r()}function Jo(t,e,n){var r,a;function i(e){return n[Math.max(0,Math.min(a,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),a=n.length-1,i}return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},i.range=function(t){return arguments.length?(n=t,o()):n},i.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},i.copy=function(){return Jo(t,e,n)},o()}function Qo(t,e){function n(n){if(n<=n)return e[i.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Qo(t,e)},n}function tu(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Vo(t,e)},e.tickFormat=function(e,n){return Do(t,e,n)},e.copy=function(){return tu(t)},e}function eu(){return 0}i.scale.quantile=function(){return Xo([],[])},i.scale.quantize=function(){return Jo(0,1,[0,1])},i.scale.threshold=function(){return Qo([.5],[0,1])},i.scale.identity=function(){return tu([0,1])},i.svg={},i.svg.arc=function(){var t=ru,e=au,n=eu,r=nu,a=iu,i=ou,o=uu;function u(){var u=Math.max(0,+t.apply(this,arguments)),s=Math.max(0,+e.apply(this,arguments)),c=a.apply(this,arguments)-zt,d=i.apply(this,arguments)-zt,f=Math.abs(d-c),h=c>d?0:1;if(s<u&&(p=s,s=u,u=p),f>=Ft)return l(s,h)+(u?l(u,1-h):"")+"Z";var p,g,m,v,x,b,y,_,M,w,j,T,E=0,k=0,O=[];if((v=(+o.apply(this,arguments)||0)/2)&&(m=r===nu?Math.sqrt(u*u+s*s):+r.apply(this,arguments),h||(k*=-1),s&&(k=Pt(m/s*Math.sin(v))),u&&(E=Pt(m/u*Math.sin(v)))),s){x=s*Math.cos(c+k),b=s*Math.sin(c+k),y=s*Math.cos(d-k),_=s*Math.sin(d-k);var S=Math.abs(d-c-2*k)<=Ct?0:1;if(k&&lu(x,b,y,_)===h^S){var C=(c+d)/2;x=s*Math.cos(C),b=s*Math.sin(C),y=_=null}}else x=b=0;if(u){M=u*Math.cos(d-E),w=u*Math.sin(d-E),j=u*Math.cos(c+E),T=u*Math.sin(c+E);var N=Math.abs(c-d+2*E)<=Ct?0:1;if(E&&lu(M,w,j,T)===1-h^N){var F=(c+d)/2;M=u*Math.cos(F),w=u*Math.sin(F),j=T=null}}else M=w=0;if(f>Ot&&(p=Math.min(Math.abs(s-u)/2,+n.apply(this,arguments)))>.001){g=u<s^h?0:1;var z=p,A=p;if(f<Ct){var L=null==j?[M,w]:null==y?[x,b]:ga([x,b],[j,T],[y,_],[M,w]),R=x-L[0],V=b-L[1],D=y-L[0],P=_-L[1],I=1/Math.sin(Math.acos((R*D+V*P)/(Math.sqrt(R*R+V*V)*Math.sqrt(D*D+P*P)))/2),B=Math.sqrt(L[0]*L[0]+L[1]*L[1]);A=Math.min(p,(u-B)/(I-1)),z=Math.min(p,(s-B)/(I+1))}if(null!=y){var G=su(null==j?[M,w]:[j,T],[x,b],s,z,h),q=su([y,_],[M,w],s,z,h);p===z?O.push("M",G[0],"A",z,",",z," 0 0,",g," ",G[1],"A",s,",",s," 0 ",1-h^lu(G[1][0],G[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",z,",",z," 0 0,",g," ",q[0]):O.push("M",G[0],"A",z,",",z," 0 1,",g," ",q[0])}else O.push("M",x,",",b);if(null!=j){var H=su([x,b],[j,T],u,-A,h),U=su([M,w],null==y?[x,b]:[y,_],u,-A,h);p===A?O.push("L",U[0],"A",A,",",A," 0 0,",g," ",U[1],"A",u,",",u," 0 ",h^lu(U[1][0],U[1][1],H[1][0],H[1][1]),",",1-h," ",H[1],"A",A,",",A," 0 0,",g," ",H[0]):O.push("L",U[0],"A",A,",",A," 0 0,",g," ",H[0])}else O.push("L",M,",",w)}else O.push("M",x,",",b),null!=y&&O.push("A",s,",",s," 0 ",S,",",h," ",y,",",_),O.push("L",M,",",w),null!=j&&O.push("A",u,",",u," 0 ",N,",",1-h," ",j,",",T);return O.push("Z"),O.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return u.innerRadius=function(e){return arguments.length?(t=ye(e),u):t},u.outerRadius=function(t){return arguments.length?(e=ye(t),u):e},u.cornerRadius=function(t){return arguments.length?(n=ye(t),u):n},u.padRadius=function(t){return arguments.length?(r=t==nu?nu:ye(t),u):r},u.startAngle=function(t){return arguments.length?(a=ye(t),u):a},u.endAngle=function(t){return arguments.length?(i=ye(t),u):i},u.padAngle=function(t){return arguments.length?(o=ye(t),u):o},u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-zt;return[Math.cos(r)*n,Math.sin(r)*n]},u};var nu="auto";function ru(t){return t.innerRadius}function au(t){return t.outerRadius}function iu(t){return t.startAngle}function ou(t){return t.endAngle}function uu(t){return t&&t.padAngle}function lu(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function su(t,e,n,r,a){var i=t[0]-e[0],o=t[1]-e[1],u=(a?r:-r)/Math.sqrt(i*i+o*o),l=u*o,s=-u*i,c=t[0]+l,d=t[1]+s,f=e[0]+l,h=e[1]+s,p=(c+f)/2,g=(d+h)/2,m=f-c,v=h-d,x=m*m+v*v,b=n-r,y=c*h-f*d,_=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*x-y*y)),M=(y*v-m*_)/x,w=(-y*m-v*_)/x,j=(y*v+m*_)/x,T=(-y*m+v*_)/x,E=M-p,k=w-g,O=j-p,S=T-g;return E*E+k*k>O*O+S*S&&(M=j,w=T),[[M-l,w-s],[M*n/b,w*n/b]]}function cu(t){var e=sa,n=ca,r=Qn,a=fu,i=a.key,o=.7;function u(i){var u,l=[],s=[],c=-1,d=i.length,f=ye(e),h=ye(n);function p(){l.push("M",a(t(s),o))}for(;++c<d;)r.call(this,u=i[c],c)?s.push([+f.call(this,u,c),+h.call(this,u,c)]):s.length&&(p(),s=[]);return s.length&&p(),l.length?l.join(""):null}return u.x=function(t){return arguments.length?(e=t,u):e},u.y=function(t){return arguments.length?(n=t,u):n},u.defined=function(t){return arguments.length?(r=t,u):r},u.interpolate=function(t){return arguments.length?(i="function"==typeof t?a=t:(a=du.get(t)||fu).key,u):i},u.tension=function(t){return arguments.length?(o=t,u):o},u}i.svg.line=function(){return cu(A)};var du=i.map({linear:fu,"linear-closed":hu,step:function(t){var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];for(;++e<n;)a.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&a.push("H",r[0]);return a.join("")},"step-before":pu,"step-after":gu,basis:xu,"basis-open":function(t){if(t.length<4)return fu(t);var e,n=[],r=-1,a=t.length,i=[0],o=[0];for(;++r<3;)e=t[r],i.push(e[0]),o.push(e[1]);n.push(bu(Mu,i)+","+bu(Mu,o)),--r;for(;++r<a;)e=t[r],i.shift(),i.push(e[0]),o.shift(),o.push(e[1]),wu(n,i,o);return n.join("")},"basis-closed":function(t){var e,n,r=-1,a=t.length,i=a+4,o=[],u=[];for(;++r<4;)n=t[r%a],o.push(n[0]),u.push(n[1]);e=[bu(Mu,o),",",bu(Mu,u)],--r;for(;++r<i;)n=t[r%a],o.shift(),o.push(n[0]),u.shift(),u.push(n[1]),wu(e,o,u);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,a,i=t[0][0],o=t[0][1],u=t[n][0]-i,l=t[n][1]-o,s=-1;++s<=n;)r=t[s],a=s/n,r[0]=e*r[0]+(1-e)*(i+a*u),r[1]=e*r[1]+(1-e)*(o+a*l);return xu(t)},cardinal:function(t,e){return t.length<3?fu(t):t[0]+mu(t,vu(t,e))},"cardinal-open":function(t,e){return t.length<4?fu(t):t[1]+mu(t.slice(1,-1),vu(t,e))},"cardinal-closed":function(t,e){return t.length<3?hu(t):t[0]+mu((t.push(t[0]),t),vu([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?fu(t):t[0]+mu(t,function(t){var e,n,r,a,i=[],o=function(t){var e=0,n=t.length-1,r=[],a=t[0],i=t[1],o=r[0]=ju(a,i);for(;++e<n;)r[e]=(o+(o=ju(a=i,i=t[e+1])))/2;return r[e]=o,r}(t),u=-1,l=t.length-1;for(;++u<l;)e=ju(t[u],t[u+1]),M(e)<Ot?o[u]=o[u+1]=0:(a=(n=o[u]/e)*n+(r=o[u+1]/e)*r)>9&&(a=3*e/Math.sqrt(a),o[u]=a*n,o[u+1]=a*r);u=-1;for(;++u<=l;)a=(t[Math.min(l,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),i.push([a||0,o[u]*a||0]);return i}(t))}});function fu(t){return t.length>1?t.join("L"):t+"Z"}function hu(t){return t.join("L")+"Z"}function pu(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("V",(r=t[e])[1],"H",r[0]);return a.join("")}function gu(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r=t[e])[0],"V",r[1]);return a.join("")}function mu(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return fu(t);var n=t.length!=e.length,r="",a=t[0],i=t[1],o=e[0],u=o,l=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=t[1],l=2),e.length>1){u=e[1],i=t[l],l++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1];for(var s=2;s<e.length;s++,l++)i=t[l],u=e[s],r+="S"+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1]}if(n){var c=t[l];r+="Q"+(i[0]+2*u[0]/3)+","+(i[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function vu(t,e){for(var n,r=[],a=(1-e)/2,i=t[0],o=t[1],u=1,l=t.length;++u<l;)n=i,i=o,o=t[u],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function xu(t){if(t.length<3)return fu(t);var e=1,n=t.length,r=t[0],a=r[0],i=r[1],o=[a,a,a,(r=t[1])[0]],u=[i,i,i,r[1]],l=[a,",",i,"L",bu(Mu,o),",",bu(Mu,u)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),wu(l,o,u);return t.pop(),l.push("L",r),l.join("")}function bu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}du.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var yu=[0,2/3,1/3,0],_u=[0,1/3,2/3,0],Mu=[0,1/6,2/3,1/6];function wu(t,e,n){t.push("C",bu(yu,e),",",bu(yu,n),",",bu(_u,e),",",bu(_u,n),",",bu(Mu,e),",",bu(Mu,n))}function ju(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Tu(t){for(var e,n,r,a=-1,i=t.length;++a<i;)n=(e=t[a])[0],r=e[1]-zt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Eu(t){var e=sa,n=sa,r=0,a=ca,i=Qn,o=fu,u=o.key,l=o,s="L",c=.7;function d(u){var d,f,h,p=[],g=[],m=[],v=-1,x=u.length,b=ye(e),y=ye(r),_=e===n?function(){return f}:ye(n),M=r===a?function(){return h}:ye(a);function w(){p.push("M",o(t(m),c),s,l(t(g.reverse()),c),"Z")}for(;++v<x;)i.call(this,d=u[v],v)?(g.push([f=+b.call(this,d,v),h=+y.call(this,d,v)]),m.push([+_.call(this,d,v),+M.call(this,d,v)])):g.length&&(w(),g=[],m=[]);return g.length&&w(),p.length?p.join(""):null}return d.x=function(t){return arguments.length?(e=n=t,d):n},d.x0=function(t){return arguments.length?(e=t,d):e},d.x1=function(t){return arguments.length?(n=t,d):n},d.y=function(t){return arguments.length?(r=a=t,d):a},d.y0=function(t){return arguments.length?(r=t,d):r},d.y1=function(t){return arguments.length?(a=t,d):a},d.defined=function(t){return arguments.length?(i=t,d):i},d.interpolate=function(t){return arguments.length?(u="function"==typeof t?o=t:(o=du.get(t)||fu).key,l=o.reverse||o,s=o.closed?"M":"L",d):u},d.tension=function(t){return arguments.length?(c=t,d):c},d}function ku(t){return t.radius}function Ou(t){return[t.x,t.y]}function Su(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-zt;return[n*Math.cos(r),n*Math.sin(r)]}}function Cu(){return 64}function Nu(){return"circle"}function Fu(t){var e=Math.sqrt(t/Ct);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}i.svg.line.radial=function(){var t=cu(Tu);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},pu.reverse=gu,gu.reverse=pu,i.svg.area=function(){return Eu(A)},i.svg.area.radial=function(){var t=Eu(Tu);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},i.svg.chord=function(){var t=Kr,e=Zr,n=ku,r=iu,a=ou;function i(n,r){var a,i,s=o(this,t,n,r),c=o(this,e,n,r);return"M"+s.p0+u(s.r,s.p1,s.a1-s.a0)+(i=c,((a=s).a0==i.a0&&a.a1==i.a1?l(s.r,s.p1,s.r,s.p0):l(s.r,s.p1,c.r,c.p0)+u(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,s.r,s.p0))+"Z")}function o(t,e,i,o){var u=e.call(t,i,o),l=n.call(t,u,o),s=r.call(t,u,o)-zt,c=a.call(t,u,o)-zt;return{r:l,a0:s,a1:c,p0:[l*Math.cos(s),l*Math.sin(s)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function u(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ct)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return i.radius=function(t){return arguments.length?(n=ye(t),i):n},i.source=function(e){return arguments.length?(t=ye(e),i):t},i.target=function(t){return arguments.length?(e=ye(t),i):e},i.startAngle=function(t){return arguments.length?(r=ye(t),i):r},i.endAngle=function(t){return arguments.length?(a=ye(t),i):a},i},i.svg.diagonal=function(){var t=Kr,e=Zr,n=Ou;function r(r,a){var i=t.call(this,r,a),o=e.call(this,r,a),u=(i.y+o.y)/2,l=[i,{x:i.x,y:u},{x:o.x,y:u},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ye(e),r):t},r.target=function(t){return arguments.length?(e=ye(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},i.svg.diagonal.radial=function(){var t=i.svg.diagonal(),e=Ou,n=t.projection;return t.projection=function(t){return arguments.length?n(Su(e=t)):e},t},i.svg.symbol=function(){var t=Nu,e=Cu;function n(n,r){return(zu.get(t.call(this,n,r))||Fu)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ye(e),n):t},n.size=function(t){return arguments.length?(e=ye(t),n):e},n};var zu=i.map({circle:Fu,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Lu)),n=e*Lu;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Au),n=e*Au/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Au),n=e*Au/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});i.svg.symbolTypes=zu.keys();var Au=Math.sqrt(3),Lu=Math.tan(30*At);Z.transition=function(t){for(var e,n,r=Pu||++Gu,a=Uu(t),i=[],o=Iu||{time:Date.now(),ease:mi,delay:0,duration:250},u=-1,l=this.length;++u<l;){i.push(e=[]);for(var s=this[u],c=-1,d=s.length;++c<d;)(n=s[c])&&Yu(n,c,a,r,o),e.push(n)}return Du(i,a,r)},Z.interrupt=function(t){return this.each(null==t?Ru:Vu(Uu(t)))};var Ru=Vu(Uu());function Vu(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Du(t,e,n){return U(t,Bu),t.namespace=e,t.id=n,t}var Pu,Iu,Bu=[],Gu=0;function qu(t,e,n,r){var a=t.id,i=t.namespace;return pt(t,"function"==typeof n?function(t,o,u){t[i][a].tween.set(e,r(n.call(t,t.__data__,o,u)))}:(n=r(n),function(t){t[i][a].tween.set(e,n)}))}function Hu(t){return null==t&&(t=""),function(){this.textContent=t}}function Uu(t){return null==t?"__transition__":"__transition_"+t+"__"}function Yu(t,e,n,r,a){var i,o,u,l,s,c=t[n]||(t[n]={active:0,count:0}),d=c[r];function f(n){var a=c.active,f=c[a];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[a],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}o.c=h,Oe((function(){return o.c&&h(n||1)&&(o.c=null,o.t=NaN),1}),0,i),c.active=r,d.event&&d.event.start.call(t,t.__data__,e),s=[],d.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&s.push(r)})),l=d.ease,u=d.duration}function h(a){for(var i=a/u,o=l(i),f=s.length;f>0;)s[--f].call(t,o);if(i>=1)return d.event&&d.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}d||(i=a.time,o=Oe((function(t){var e=d.delay;if(o.t=e+i,e<=t)return f(t-e);o.c=f}),0,i),d=c[r]={tween:new T,time:i,timer:o,delay:a.delay,duration:a.duration,ease:a.ease,index:e},a=null,++c.count)}Bu.call=Z.call,Bu.empty=Z.empty,Bu.node=Z.node,Bu.size=Z.size,i.transition=function(t,e){return t&&t.transition?Pu?t.transition(e):t:i.selection().transition(t)},i.transition.prototype=Bu,Bu.select=function(t){var e,n,r,a=this.id,i=this.namespace,o=[];t=X(t);for(var u=-1,l=this.length;++u<l;){o.push(e=[]);for(var s=this[u],c=-1,d=s.length;++c<d;)(r=s[c])&&(n=t.call(r,r.__data__,c,u))?("__data__"in r&&(n.__data__=r.__data__),Yu(n,c,i,a,r[i][a]),e.push(n)):e.push(null)}return Du(o,i,a)},Bu.selectAll=function(t){var e,n,r,a,i,o=this.id,u=this.namespace,l=[];t=J(t);for(var s=-1,c=this.length;++s<c;)for(var d=this[s],f=-1,h=d.length;++f<h;)if(r=d[f]){i=r[u][o],n=t.call(r,r.__data__,f,s),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(a=n[p])&&Yu(a,p,u,o,i),e.push(a)}return Du(l,u,o)},Bu.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var a=0,i=this.length;a<i;a++){r.push(e=[]);for(var o,u=0,l=(o=this[a]).length;u<l;u++)(n=o[u])&&t.call(n,n.__data__,u,a)&&e.push(n)}return Du(r,this.namespace,this.id)},Bu.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(a){a[r][n].tween.set(t,e)})},Bu.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?ki:oi,r=i.ns.qualify(t);function a(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function u(t){return null==t?a:(t+="",function(){var e,a=this.getAttribute(r);return a!==t&&(e=n(a,t),function(t){this.setAttribute(r,e(t))})})}function l(t){return null==t?o:(t+="",function(){var e,a=this.getAttributeNS(r.space,r.local);return a!==t&&(e=n(a,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return qu(this,"attr."+t,e,r.local?l:u)},Bu.attrTween=function(t,e){var n=i.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var a=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return a&&function(t){this.setAttributeNS(n.space,n.local,a(t))}}:function(t,r){var a=e.call(this,t,r,this.getAttribute(n));return a&&function(t){this.setAttribute(n,a(t))}})},Bu.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function a(){this.style.removeProperty(t)}function i(e){return null==e?a:(e+="",function(){var r,a=c(this).getComputedStyle(this,null).getPropertyValue(t);return a!==e&&(r=oi(a,e),function(e){this.style.setProperty(t,r(e),n)})})}return qu(this,"style."+t,e,i)},Bu.styleTween=function(t,e,n){function r(r,a){var i=e.call(this,r,a,c(this).getComputedStyle(this,null).getPropertyValue(t));return i&&function(e){this.style.setProperty(t,i(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Bu.text=function(t){return qu(this,"text",t,Hu)},Bu.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Bu.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=i.ease.apply(i,arguments)),pt(this,(function(r){r[n][e].ease=t})))},Bu.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,a,i){r[n][e].delay=+t.call(r,r.__data__,a,i)}:(t=+t,function(r){r[n][e].delay=t}))},Bu.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,a,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,a,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bu.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Iu,o=Pu;try{Pu=n,pt(this,(function(e,a,i){Iu=e[r][n],t.call(e,e.__data__,a,i)}))}finally{Iu=a,Pu=o}}else pt(this,(function(a){var o=a[r][n];(o.event||(o.event=i.dispatch("start","end","interrupt"))).on(t,e)}));return this},Bu.transition=function(){for(var t,e,n,r=this.id,a=++Gu,i=this.namespace,o=[],u=0,l=this.length;u<l;u++){o.push(t=[]);for(var s,c=0,d=(s=this[u]).length;c<d;c++)(e=s[c])&&Yu(e,c,i,a,{time:(n=e[i][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Du(o,i,a)},i.svg.axis=function(){var t,e=i.scale.linear(),n=$u,r=6,a=6,o=3,l=[10],s=null;function c(u){u.each((function(){var u,c=i.select(this),d=this.__chart__||e,f=this.__chart__=e.copy(),h=null==s?f.ticks?f.ticks.apply(f,l):f.domain():s,p=null==t?f.tickFormat?f.tickFormat.apply(f,l):A:t,g=c.selectAll(".tick").data(h,f),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ot),v=i.transition(g.exit()).style("opacity",Ot).remove(),x=i.transition(g.order()).style("opacity",1),b=Math.max(r,0)+o,y=ko(f),_=c.selectAll(".domain").data([0]),M=(_.enter().append("path").attr("class","domain"),i.transition(_));m.append("line"),m.append("text");var w,j,T,E,k=m.select("line"),O=x.select("line"),S=g.select("text").text(p),C=m.select("text"),N=x.select("text"),F="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(u=Ku,w="x",T="y",j="x2",E="y2",S.attr("dy",F<0?"0em":".71em").style("text-anchor","middle"),M.attr("d","M"+y[0]+","+F*a+"V0H"+y[1]+"V"+F*a)):(u=Zu,w="y",T="x",j="y2",E="x2",S.attr("dy",".32em").style("text-anchor",F<0?"end":"start"),M.attr("d","M"+F*a+","+y[0]+"H0V"+y[1]+"H"+F*a)),k.attr(E,F*r),C.attr(T,F*b),O.attr(j,0).attr(E,F*r),N.attr(w,0).attr(T,F*b),f.rangeBand){var z=f,L=z.rangeBand()/2;d=f=function(t){return z(t)+L}}else d.rangeBand?d=f:v.call(u,f,d);m.call(u,d,f),x.call(u,f,f)}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Wu?t+"":$u,c):n},c.ticks=function(){return arguments.length?(l=u(arguments),c):l},c.tickValues=function(t){return arguments.length?(s=t,c):s},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,a=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(a=+t,c):a},c.tickPadding=function(t){return arguments.length?(o=+t,c):o},c.tickSubdivide=function(){return arguments.length&&c},c};var $u="bottom",Wu={top:1,right:1,bottom:1,left:1};function Ku(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Zu(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}i.svg.brush=function(){var t,e,n=q(f,"brushstart","brush","brushend"),r=null,a=null,o=[0,0],u=[0,0],l=!0,s=!0,d=Ju[0];function f(t){t.each((function(){var t=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(d,A);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Xu[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var o,u=i.transition(t),l=i.transition(e);r&&(o=ko(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),p(u)),a&&(o=ko(a),l.attr("y",o[0]).attr("height",o[1]-o[0]),g(u)),h(u)}))}function h(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+o[+/e$/.test(t)]+","+u[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(t){t.select(".extent").attr("y",u[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function m(){var d,m,v=this,x=i.select(i.event.target),b=n.of(v,arguments),y=i.select(v),_=x.datum(),M=!/^(n|s)$/.test(_)&&r,w=!/^(e|w)$/.test(_)&&a,j=x.classed("extent"),T=jt(v),E=i.mouse(v),k=i.select(c(v)).on("keydown.brush",C).on("keyup.brush",N);if(i.event.changedTouches?k.on("touchmove.brush",F).on("touchend.brush",A):k.on("mousemove.brush",F).on("mouseup.brush",A),y.interrupt().selectAll("*").interrupt(),j)E[0]=o[0]-E[0],E[1]=u[0]-E[1];else if(_){var O=+/w$/.test(_),S=+/^n/.test(_);m=[o[1-O]-E[0],u[1-S]-E[1]],E[0]=o[O],E[1]=u[S]}else i.event.altKey&&(d=E.slice());function C(){32==i.event.keyCode&&(j||(d=null,E[0]-=o[1],E[1]-=u[1],j=2),B())}function N(){32==i.event.keyCode&&2==j&&(E[0]+=o[1],E[1]+=u[1],j=0,B())}function F(){var t=i.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),j||(i.event.altKey?(d||(d=[(o[0]+o[1])/2,(u[0]+u[1])/2]),E[0]=o[+(t[0]<d[0])],E[1]=u[+(t[1]<d[1])]):d=null),M&&z(t,r,0)&&(p(y),e=!0),w&&z(t,a,1)&&(g(y),e=!0),e&&(h(y),b({type:"brush",mode:j?"move":"resize"}))}function z(n,r,a){var i,c,f=ko(r),h=f[0],p=f[1],g=E[a],m=a?u:o,v=m[1]-m[0];if(j&&(h-=g,p-=v+g),i=(a?s:l)?Math.max(h,Math.min(p,n[a])):n[a],j?c=(i+=g)+v:(d&&(g=Math.max(h,Math.min(p,2*d[a]-i))),g<i?(c=i,i=g):c=g),m[0]!=i||m[1]!=c)return a?e=null:t=null,m[0]=i,m[1]=c,!0}function A(){F(),y.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),i.select("body").style("cursor",null),k.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),b({type:"brushend"})}y.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",x.style("cursor")),b({type:"brushstart"}),F()}return f.event=function(r){r.each((function(){var r=n.of(this,arguments),a={x:o,y:u,i:t,j:e},l=this.__chart__||a;this.__chart__=a,Pu?i.select(this).transition().each("start.brush",(function(){t=l.i,e=l.j,o=l.x,u=l.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=ui(o,a.x),i=ui(u,a.y);return t=e=null,function(t){o=a.x=n(t),u=a.y=i(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=a.i,e=a.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},f.x=function(t){return arguments.length?(d=Ju[!(r=t)<<1|!a],f):r},f.y=function(t){return arguments.length?(d=Ju[!r<<1|!(a=t)],f):a},f.clamp=function(t){return arguments.length?(r&&a?(l=!!t[0],s=!!t[1]):r?l=!!t:a&&(s=!!t),f):r&&a?[l,s]:r?l:a?s:null},f.extent=function(n){var i,l,s,c,d;return arguments.length?(r&&(i=n[0],l=n[1],a&&(i=i[0],l=l[0]),t=[i,l],r.invert&&(i=r(i),l=r(l)),l<i&&(d=i,i=l,l=d),i==o[0]&&l==o[1]||(o=[i,l])),a&&(s=n[0],c=n[1],r&&(s=s[1],c=c[1]),e=[s,c],a.invert&&(s=a(s),c=a(c)),c<s&&(d=s,s=c,c=d),s==u[0]&&c==u[1]||(u=[s,c])),f):(r&&(t?(i=t[0],l=t[1]):(i=o[0],l=o[1],r.invert&&(i=r.invert(i),l=r.invert(l)),l<i&&(d=i,i=l,l=d))),a&&(e?(s=e[0],c=e[1]):(s=u[0],c=u[1],a.invert&&(s=a.invert(s),c=a.invert(c)),c<s&&(d=s,s=c,c=d))),r&&a?[[i,s],[l,c]]:r?[i,l]:a&&[s,c])},f.clear=function(){return f.empty()||(o=[0,0],u=[0,0],t=e=null),f},f.empty=function(){return!!r&&o[0]==o[1]||!!a&&u[0]==u[1]},i.rebind(f,n,"on")};var Xu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ju=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qu=De.format=pn.timeFormat,tl=Qu.utc,el=tl("%Y-%m-%dT%H:%M:%S.%LZ");function nl(t){return t.toISOString()}function rl(t,e,n){function r(e){return t(e)}function a(t,n){var r=(t[1]-t[0])/n,a=i.bisect(il,r);return a==il.length?[e.year,Ro(t.map((function(t){return t/31536e6})),n)[2]]:a?e[r/il[a-1]<il[a]/r?a-1:a]:[ll,Ro(t,n)[2]]}return r.invert=function(e){return al(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(al)},r.nice=function(t,e){var n=r.domain(),i=Eo(n),o=null==t?a(i,10):"number"==typeof t&&a(i,t);function u(n){return!isNaN(n)&&!t.range(n,al(+n+1),e).length}return o&&(t=o[0],e=o[1]),r.domain(So(n,e>1?{floor:function(e){for(;u(e=t.floor(e));)e=al(e-1);return e},ceil:function(e){for(;u(e=t.ceil(e));)e=al(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Eo(r.domain()),i=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],al(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return rl(t.copy(),e,n)},Ao(r,t)}function al(t){return new Date(t)}Qu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?nl:el,nl.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},nl.toString=el.toString,De.second=Ge((function(t){return new Pe(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),De.seconds=De.second.range,De.seconds.utc=De.second.utc.range,De.minute=Ge((function(t){return new Pe(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),De.minutes=De.minute.range,De.minutes.utc=De.minute.utc.range,De.hour=Ge((function(t){var e=t.getTimezoneOffset()/60;return new Pe(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),De.hours=De.hour.range,De.hours.utc=De.hour.utc.range,De.month=Ge((function(t){return(t=De.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),De.months=De.month.range,De.months.utc=De.month.utc.range;var il=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ol=[[De.second,1],[De.second,5],[De.second,15],[De.second,30],[De.minute,1],[De.minute,5],[De.minute,15],[De.minute,30],[De.hour,1],[De.hour,3],[De.hour,6],[De.hour,12],[De.day,1],[De.day,2],[De.week,1],[De.month,1],[De.month,3],[De.year,1]],ul=Qu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Qn]]),ll={range:function(t,e,n){return i.range(Math.ceil(t/n)*n,+e,n).map(al)},floor:A,ceil:A};ol.year=De.year,De.scale=function(){return rl(i.scale.linear(),ol,ul)};var sl=ol.map((function(t){return[t[0].utc,t[1]]})),cl=tl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Qn]]);function dl(t){return JSON.parse(t.responseText)}function fl(t){var e=l.createRange();return e.selectNode(l.body),e.createContextualFragment(t.responseText)}sl.year=De.year.utc,De.scale.utc=function(){return rl(i.scale.linear(),sl,cl)},i.text=_e((function(t){return t.responseText})),i.json=function(t,e){return Me(t,"application/json",dl,e)},i.html=function(t,e){return Me(t,"text/html",fl,e)},i.xml=_e((function(t){return t.responseXML})),this.d3=i,void 0===(a="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=a)}()},function(t,e,n){switch(window.__kbnThemeTag__){case"v8dark":return n(110);case"v8light":return n(112)}},function(t,e,n){var r=n(50),a=n(111);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#535966;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:11px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),t.exports=e},function(t,e,n){var r=n(50),a=n(113);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#98A2B3;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:11px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;e.default=a},function(t,e,n){switch(window.__kbnThemeTag__){case"v8dark":return n(116);case"v8light":return n(118)}},function(t,e,n){var r=n(50),a=n(117);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#25262E}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.2),0 2.6px 8px -1px rgba(0,0,0,0.15),0 5.7px 12px -1px rgba(0,0,0,0.125),0 15px 15px -1px rgba(0,0,0,0.1);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),t.exports=e},function(t,e,n){var r=n(50),a=n(119);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".kbnFieldButton{font-size:14px;font-size:1rem;line-height:1.71429rem;border-radius:6px;margin-bottom:4px;display:flex;align-items:center;transition:box-shadow 150ms cubic-bezier(0.694, 0.0482, 0.335, 1),background-color 150ms cubic-bezier(0.694, 0.0482, 0.335, 1)}.kbnFieldButton:focus-within,.kbnFieldButton-isActive{outline:2px solid currentColor}.kbnFieldButton:focus-within:focus-visible,.kbnFieldButton-isActive:focus-visible{outline-style:auto}.kbnFieldButton:focus-within:not(:focus-visible),.kbnFieldButton-isActive:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#fff}.kbnFieldButton--isDraggable:hover,.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within{box-shadow:0 0.9px 4px -1px rgba(0,0,0,0.08),0 2.6px 8px -1px rgba(0,0,0,0.06),0 5.7px 12px -1px rgba(0,0,0,0.05),0 15px 15px -1px rgba(0,0,0,0.04);border-radius:6px;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:hover,.kbnFieldButton--isDraggable .kbnFieldButton__button:focus{cursor:grab}.kbnFieldButton__button{flex-grow:1;text-align:left;padding:8px;display:flex;align-items:flex-start;line-height:normal}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldIcon,.kbnFieldButton--small .kbnFieldButton__fieldAction{margin-right:4px}\n",""]),t.exports=e},function(t,e,n){switch(window.__kbnThemeTag__){case"v8dark":return n(121);case"v8light":return n(123)}},function(t,e,n){var r=n(50),a=n(122);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),t.exports=e},function(t,e,n){var r=n(50),a=n(124);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),t.exports=e},function(t,e,n){switch(window.__kbnThemeTag__){case"v8dark":return n(126);case"v8light":return n(128)}},function(t,e,n){var r=n(50),a=n(127);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#98A2B3;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}\n",""]),t.exports=e},function(t,e,n){var r=n(50),a=n(129);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#69707D;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvSummaryTable__wrapper.dvPanel__dateSummary{min-width:max(30%, 300px);max-width:max(30%, 300px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}\n",""]),t.exports=e},function(t,e,n){switch(window.__kbnThemeTag__){case"v8dark":return n(131);case"v8light":return n(133)}},function(t,e,n){var r=n(50),a=n(132);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}\n",""]),t.exports=e},function(t,e,n){var r=n(50),a=n(134);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:"head",singleton:!1};r(a,i);t.exports=a.locals||{}},function(t,e,n){(e=n(51)(!1)).push([t.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}\n",""]),t.exports=e}])]);