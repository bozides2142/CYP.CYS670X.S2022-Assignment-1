/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.licenseManagement_bundle_jsonpfunction=window.licenseManagement_bundle_jsonpfunction||[]).push([[1],Array(26).concat([function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(77));t.combineActions=r.default;var s=u(n(39));t.createAction=s.default;var a=u(n(80));t.createActions=a.default;var o=u(n(89));t.createCurriedAction=o.default;var i=u(n(59));t.handleAction=i.default;var c=u(n(92));function u(e){return e&&e.__esModule?e:{default:e}}t.handleActions=c.default},function(e,t,n){e.exports=n(6)(1115)},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0;var s=r(n(60));t.Provider=s.default;var a=r(n(44));t.connectAdvanced=a.default;var o=n(29);t.ReactReduxContext=o.ReactReduxContext;var i=r(n(64));t.connect=i.default;var c=n(72);t.useDispatch=c.useDispatch,t.createDispatchHook=c.createDispatchHook;var u=n(73);t.useSelector=u.useSelector,t.createSelectorHook=u.createSelectorHook;var l=n(50);t.useStore=l.useStore,t.createStoreHook=l.createStoreHook;var d=n(43),f=n(74);t.batch=f.unstable_batchedUpdates;var p=r(n(46));t.shallowEqual=p.default,(0,d.setBatch)(f.unstable_batchedUpdates)},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var s=r(n(15)).default.createContext(null);t.ReactReduxContext=s;var a=s;t.default=a},function(e,t,n){e.exports=n(6)(3)},function(e,t,n){"use strict";e.exports=function(e,t,n,r,s,a,o,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,a,o,i],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0;t.DEFAULT_NAMESPACE="/";t.ACTION_TYPE_DELIMITER="||"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(43),s={notify:function(){}};var a=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,n;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,r.getBatch)(),t=null,n=null,{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,s=n={callback:e,next:null,prev:n};return s.prev?s.prev.next=s:t=s,function(){r&&null!==t&&(r=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();t.default=a},function(e,t,n){e.exports=n(6)(1116)},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(66));function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t){return function(){return t(e.apply(this,arguments))}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=c,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=d.apply(void 0,i)(n.dispatch),s.default(s.default({},n),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var n={};for(var r in e){var s=e[r];"function"==typeof s&&(n[r]=l(s,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var s=t[r];0,"function"==typeof e[s]&&(n[s]=e[s])}var o,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(a(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,s={},c=0;c<i.length;c++){var u=i[c],l=n[u],d=e[u],f=l(d,t);if(void 0===f){t&&t.type;throw new Error(a(14))}s[u]=f,r=r||f!==d}return(r=r||i.length!==Object.keys(e).length)?s:e}},t.compose=d,t.createStore=function e(t,n,r){var s;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error(a(1));return r(e)(t,n)}if("function"!=typeof t)throw new Error(a(2));var i=t,l=n,d=[],f=d,p=!1;function b(){f===d&&(f=d.slice())}function g(){if(p)throw new Error(a(3));return l}function h(e){if("function"!=typeof e)throw new Error(a(4));if(p)throw new Error(a(5));var t=!0;return b(),f.push(e),function(){if(t){if(p)throw new Error(a(6));t=!1,b();var n=f.indexOf(e);f.splice(n,1),d=null}}}function j(e){if(!u(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(p)throw new Error(a(9));try{p=!0,l=i(l,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++){(0,t[n])()}return e}function m(e){if("function"!=typeof e)throw new Error(a(10));i=e,j({type:c.REPLACE})}function x(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[o]=function(){return this},e}return j({type:c.INIT}),(s={dispatch:j,subscribe:h,getState:g,replaceReducer:m})[o]=x,s}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=a.default);(0,r.default)((0,s.default)(t)||(0,o.default)(t),"Expected payloadCreator to be a function, undefined or null");var i=(0,o.default)(t)||t===a.default?a.default:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},c=(0,s.default)(n),u=e.toString(),l=function(){var t=i.apply(void 0,arguments),r={type:e};return t instanceof Error&&(r.error=!0),void 0!==t&&(r.payload=t),c&&(r.meta=n.apply(void 0,arguments)),r};return l.toString=function(){return u},l};var r=i(n(31)),s=i(n(34)),a=i(n(40)),o=i(n(79));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if((0,s.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e)));return t};var r,s=(r=n(35))&&r.__esModule?r:{default:r}},function(e,t,n){e.exports=n(6)(2454)},function(e,t,n){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e};t.getBatch=function(){return r}},function(e,t,n){"use strict";var r=n(42),s=n(27);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,s=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=n.methodName,v=void 0===d?"connectAdvanced":d,M=n.renderCountProp,O=void 0===M?void 0:M,y=n.shouldHandleStateChanges,E=void 0===y||y,T=n.storeKey,_=void 0===T?"store":T,S=(n.withRef,n.forwardRef),w=void 0!==S&&S,C=n.context,L=void 0===C?f.ReactReduxContext:C,P=(0,o.default)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);0;var k=L;return function(t){var n=t.displayName||t.name||"Component",r=s(n),d=(0,a.default)({},P,{getDisplayName:s,methodName:v,renderCountProp:O,shouldHandleStateChanges:E,storeKey:_,displayName:r,wrappedComponentName:n,WrappedComponent:t}),f=P.pure;var M=f?c.useMemo:function(e){return e()};function y(n){var r=(0,c.useMemo)((function(){var e=n.forwardedRef,t=(0,o.default)(n,["forwardedRef"]);return[n.context,e,t]}),[n]),s=r[0],i=r[1],f=r[2],v=(0,c.useMemo)((function(){return s&&s.Consumer&&(0,u.isContextConsumer)(c.default.createElement(s.Consumer,null))?s:k}),[s,k]),O=(0,c.useContext)(v),y=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(O)&&Boolean(O.store);var T=y?n.store:O.store,_=(0,c.useMemo)((function(){return function(t){return e(t.dispatch,d)}(T)}),[T]),S=(0,c.useMemo)((function(){if(!E)return b;var e=new l.default(T,y?null:O.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,y,O]),w=S[0],C=S[1],L=(0,c.useMemo)((function(){return y?O:(0,a.default)({},O,{subscription:w})}),[y,O,w]),P=(0,c.useReducer)(g,p,x),A=P[0][0],I=P[1];if(A&&A.error)throw A.error;var D=(0,c.useRef)(),F=(0,c.useRef)(f),N=(0,c.useRef)(),R=(0,c.useRef)(!1),B=M((function(){return N.current&&f===F.current?N.current:_(T.getState(),f)}),[T,A,f]);h(j,[F,D,R,f,B,N,C]),h(m,[E,T,w,_,F,D,R,N,C,I],[T,w,_]);var U=(0,c.useMemo)((function(){return c.default.createElement(t,(0,a.default)({},B,{ref:i}))}),[i,t,B]);return(0,c.useMemo)((function(){return E?c.default.createElement(v.Provider,{value:L},U):U}),[v,U,L])}var T=f?c.default.memo(y):y;if(T.WrappedComponent=t,T.displayName=r,w){var S=c.default.forwardRef((function(e,t){return c.default.createElement(T,(0,a.default)({},e,{forwardedRef:t}))}));return S.displayName=r,S.WrappedComponent=t,(0,i.default)(S,t)}return(0,i.default)(T,t)}};var a=s(n(30)),o=s(n(37)),i=s(n(62)),c=r(n(15)),u=n(63),l=s(n(36)),d=n(45),f=n(29),p=[],b=[null,null];function g(e,t){var n=e[1];return[t.payload,n+1]}function h(e,t,n){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function j(e,t,n,r,s,a,o){e.current=r,t.current=s,n.current=!1,a.current&&(a.current=null,o())}function m(e,t,n,r,s,a,o,i,c,u){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,s.current)}catch(e){n=e,d=e}n||(d=null),e===a.current?o.current||c():(a.current=e,i.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var x=function(){return[null,0]}},function(e,t,n){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=n(15),s="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=s},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function s(){return r}return s.dependsOnOwnProps=!1,s}},t.getDependsOnOwnProps=s,t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=s(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=s(a),a=r(t,n)),a},r}};r(n(48));function s(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.default=function(e,t,n){(0,s.default)(e)||(0,a.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var s=r(n(67)),a=r(n(49))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.createStoreHook=o,t.useStore=void 0;var r=n(15),s=n(29),a=n(51);function o(e){void 0===e&&(e=s.ReactReduxContext);var t=e===s.ReactReduxContext?a.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var i=o();t.useStore=i},function(e,t,n){"use strict";t.__esModule=!0,t.useReduxContext=function(){0;return(0,r.useContext)(s.ReactReduxContext)};var r=n(15),s=n(29)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return 0===e.length}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e.toString()}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"string"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return null==e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,s=(r=n(83))&&r.__esModule?r:{default:r};t.default=function(e){return-1===e.indexOf("/")?(0,s.default)(e):e.split("/").map(s.default).join("/")}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(32),s=o(n(41)),a=o(n(58));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(n,o,i,c){var u=void 0===o?{}:o,l=u.namespace,d=void 0===l?r.DEFAULT_NAMESPACE:l,f=u.prefix;return void 0===i&&(i={}),void 0===c&&(c=""),(0,s.default)(n).forEach((function(s){var o=function(e){return c||!f||f&&new RegExp("^"+f+d).test(e)?e:""+f+d+e}(function(e){var t;if(!c)return e;var n=e.toString().split(r.ACTION_TYPE_DELIMITER),s=c.split(r.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,s.map((function(e){return n.map((function(t){return""+e+d+t}))}))).join(r.ACTION_TYPE_DELIMITER)}(s)),u=(0,a.default)(s,n);e(u)?t(u,{namespace:d,prefix:f},i,o):i[o]=u})),i}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,s.default)(t)?t.get(e):t[e]};var r,s=(r=n(35))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=o.default);var d=(0,u.default)(e).split(l.ACTION_TYPE_DELIMITER);(0,r.default)(!(0,c.default)(n),"defaultState for reducer handling "+d.join(", ")+" should be defined"),(0,r.default)((0,s.default)(t)||(0,a.default)(t),"Expected reducer to be a function or object with next and throw reducers");var f=(0,s.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,i.default)(e)?o.default:e})),p=f[0],b=f[1];return function(e,t){void 0===e&&(e=n);var r=t.type;return r&&-1!==d.indexOf((0,u.default)(r))?(!0===t.error?b:p)(e,t):e}};var r=d(n(31)),s=d(n(34)),a=d(n(33)),o=d(n(40)),i=d(n(55)),c=d(n(91)),u=d(n(53)),l=n(32);function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(27),s=n(42);t.__esModule=!0,t.default=void 0;var a=s(n(15)),o=(r(n(61)),n(29)),i=r(n(36));var c=function(e){var t=e.store,n=e.context,r=e.children,s=(0,a.useMemo)((function(){var e=new i.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),c=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,a.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,c]);var u=n||o.ReactReduxContext;return a.default.createElement(u.Provider,{value:s},r)};t.default=c},function(e,t,n){e.exports=n(6)(7)},function(e,t,n){e.exports=n(6)(228)},function(e,t,n){e.exports=n(6)(376)},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.createConnect=b,t.default=void 0;var s=r(n(30)),a=r(n(37)),o=r(n(44)),i=r(n(46)),c=r(n(65)),u=r(n(68)),l=r(n(69)),d=r(n(70));function f(e,t,n){for(var r=t.length-1;r>=0;r--){var s=t[r](e);if(s)return s}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function p(e,t){return e===t}function b(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?o.default:n,b=t.mapStateToPropsFactories,g=void 0===b?u.default:b,h=t.mapDispatchToPropsFactories,j=void 0===h?c.default:h,m=t.mergePropsFactories,x=void 0===m?l.default:m,v=t.selectorFactory,M=void 0===v?d.default:v;return function(e,t,n,o){void 0===o&&(o={});var c=o,u=c.pure,l=void 0===u||u,d=c.areStatesEqual,b=void 0===d?p:d,h=c.areOwnPropsEqual,m=void 0===h?i.default:h,v=c.areStatePropsEqual,O=void 0===v?i.default:v,y=c.areMergedPropsEqual,E=void 0===y?i.default:y,T=(0,a.default)(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=f(e,g,"mapStateToProps"),S=f(t,j,"mapDispatchToProps"),w=f(n,x,"mergeProps");return r(M,(0,s.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:S,initMergeProps:w,pure:l,areStatesEqual:b,areOwnPropsEqual:m,areStatePropsEqual:O,areMergedPropsEqual:E},T))}}var g=b();t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=a,t.whenMapDispatchToPropsIsMissing=o,t.whenMapDispatchToPropsIsObject=i,t.default=void 0;var r=n(38),s=n(47);function a(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:(0,s.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function i(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)((function(t){return(0,r.bindActionCreators)(e,t)})):void 0}var c=[a,o,i];t.default=c},function(e,t,n){e.exports=n(6)(2455)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=s,t.whenMapStateToPropsIsMissing=a,t.default=void 0;var r=n(47);function s(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function a(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var o=[s,a];t.default=o},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.defaultMergeProps=a,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=i,t.whenMergePropsIsOmitted=c,t.default=void 0;var s=r(n(30));r(n(48));function a(e,t,n){return(0,s.default)({},n,{},e,{},t)}function o(e){return function(t,n){n.displayName;var r,s=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,i){var c=e(t,n,i);return o?s&&a(c,r)||(r=c):(o=!0,r=c),r}}}function i(e){return"function"==typeof e?o(e):void 0}function c(e){return e?void 0:function(){return a}}var u=[i,c];t.default=u},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=o,t.default=function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,c=(0,s.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,c),l=r(e,c),d=i(e,c);0;return(c.pure?o:a)(u,l,d,e,c)};var s=r(n(37));r(n(71));function a(e,t,n,r){return function(s,a){return n(e(s,a),t(r,a),a)}}function o(e,t,n,r,s){var a,o,i,c,u,l=s.areStatesEqual,d=s.areOwnPropsEqual,f=s.areStatePropsEqual,p=!1;function b(s,p){var b,g,h=!d(p,o),j=!l(s,a);return a=s,o=p,h&&j?(i=e(a,o),t.dependsOnOwnProps&&(c=t(r,o)),u=n(i,c,o)):h?(e.dependsOnOwnProps&&(i=e(a,o)),t.dependsOnOwnProps&&(c=t(r,o)),u=n(i,c,o)):j?(b=e(a,o),g=!f(b,i),i=b,g&&(u=n(i,c,o)),u):u}return function(s,l){return p?b(s,l):(i=e(a=s,o=l),c=t(r,o),u=n(i,c,o),p=!0,u)}}},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.default=function(e,t,n,r){a(e,"mapStateToProps",r),a(t,"mapDispatchToProps",r),a(n,"mergeProps",r)};var s=r(n(49));function a(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.createDispatchHook=a,t.useDispatch=void 0;var r=n(29),s=n(50);function a(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?s.useStore:(0,s.createStoreHook)(e);return function(){return t().dispatch}}var o=a();t.useDispatch=o},function(e,t,n){"use strict";var r=n(27);t.__esModule=!0,t.createSelectorHook=l,t.useSelector=void 0;var s=n(15),a=n(51),o=r(n(36)),i=n(45),c=n(29),u=function(e,t){return e===t};function l(e){void 0===e&&(e=c.ReactReduxContext);var t=e===c.ReactReduxContext?a.useReduxContext:function(){return(0,s.useContext)(e)};return function(e,n){void 0===n&&(n=u);var r=t();return function(e,t,n,r){var a,c=(0,s.useReducer)((function(e){return e+1}),0)[1],u=(0,s.useMemo)((function(){return new o.default(n,r)}),[n,r]),l=(0,s.useRef)(),d=(0,s.useRef)(),f=(0,s.useRef)();try{a=e!==d.current||l.current?e(n.getState()):f.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return(0,i.useIsomorphicLayoutEffect)((function(){d.current=e,f.current=a,l.current=void 0})),(0,i.useIsomorphicLayoutEffect)((function(){function e(){try{var e=d.current(n.getState());if(t(e,f.current))return;f.current=e}catch(e){l.current=e}c({})}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),a}(e,n,r.store,r.subscription)}}var d=l();t.useSelector=d},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=n(21);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(s){return"function"==typeof s?s(n,r,e):t(s)}}}}t.__esModule=!0;var s=r();s.withExtraArgument=r,t.default=s},function(e,t,n){"use strict";function r(e,t){return e===t}function s(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!e(t[s],n[s]))return!1;return!0}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return s(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=0,i=r.pop(),c=o(r),u=e.apply(void 0,[function(){return a++,i.apply(null,arguments)}].concat(n)),l=e((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return u.apply(null,e)}));return l.resultFunc=i,l.dependencies=c,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var c=t.createSelector=i(a)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,r.default)(f(t),"Expected action types to be strings, symbols, or action creators");var s=t.map(i.default).join(u.ACTION_TYPE_DELIMITER);return{toString:function(){return s}}};var r=l(n(31)),s=l(n(34)),a=l(n(78)),o=l(n(52)),i=l(n(53)),c=l(n(54)),u=n(32);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return(0,c.default)(e)||(0,s.default)(e)||(0,a.default)(e)}function f(e){return!(0,o.default)(e)&&e.every(d)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return null===e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=(0,s.default)((0,l.default)(n))?n.pop():{};if((0,r.default)(n.every(c.default)&&((0,c.default)(e)||(0,s.default)(e)),"Expected optional object followed by string action types"),(0,c.default)(e))return O([e].concat(n),o);return m({},v(e,o),O(n,o))};var r=j(n(31)),s=j(n(33)),a=j(n(34)),o=j(n(40)),i=j(n(81)),c=j(n(54)),u=j(n(55)),l=j(n(82)),d=j(n(56)),f=j(n(86)),p=j(n(87)),b=j(n(88)),g=j(n(39)),h=n(32);function j(e){return e&&e.__esModule?e:{default:e}}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=M((0,p.default)(e,t));return(0,b.default)(n,t)}function M(e,t){var n=void 0===t?{}:t,s=n.prefix,c=n.namespace,l=void 0===c?h.DEFAULT_NAMESPACE:c;return(0,f.default)(Object.keys(e),(function(t,n){var c,d=e[n];(0,r.default)(function(e){if((0,a.default)(e)||(0,u.default)(e))return!0;if((0,i.default)(e)){var t=e[0],n=void 0===t?o.default:t,r=e[1];return(0,a.default)(n)&&(0,a.default)(r)}return!1}(d),"Expected function, undefined, null, or array with payload and meta functions for "+n);var f=s?""+s+l+n:n,p=(0,i.default)(d)?g.default.apply(void 0,[f].concat(d)):(0,g.default)(f,d);return m({},t,((c={})[n]=p,c))}))}function O(e,t){var n=M((0,f.default)(e,(function(e,t){var n;return m({},e,((n={})[t]=o.default,n))})),t);return(0,f.default)(Object.keys(n),(function(e,t){var r;return m({},e,((r={})[(0,d.default)(t)]=n[t],r))}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return e[e.length-1]}},function(e,t,n){var r=n(84);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){var r=n(85);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():s.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,s=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e,t){return e.reduce((function(e,n){return t(e,n)}),{})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(33));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(n(57)).default)(r.default);t.default=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=void 0===t?{}:t,o=n.namespace,i=void 0===o?r.DEFAULT_NAMESPACE:o,c=n.prefix;function u(t,n,r){var o=(0,a.default)(r.shift());(0,s.default)(r)?n[o]=e[t]:(n[o]||(n[o]={}),u(t,n[o],r))}var l={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=c?e.replace(""+c+i,""):e;return u(e,l,t.split(i))})),l};var r=n(32),s=o(n(52)),a=o(n(56));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(90)),s=a(n(39));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,r.default)((0,s.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function n(){null==t&&(t=e.length);var r=[].slice.call(arguments);return r.length>=t?e.apply(this,r):function(){return n.apply(this,r.concat([].slice.call(arguments)))}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default=function(e){return void 0===e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n={});(0,s.default)((0,a.default)(e)||(0,o.default)(e),"Expected handlers to be a plain object.");var d=(0,c.default)(e,n),f=(0,i.default)(d).map((function(e){return(0,u.default)(e,(0,l.default)(e,d),t)})),p=r.default.apply(void 0,f.concat([t]));return function(e,n){return void 0===e&&(e=t),p(e,n)}};var r=d(n(93)),s=d(n(31)),a=d(n(33)),o=d(n(35)),i=d(n(41)),c=d(n(94)),u=d(n(59)),l=d(n(58));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[t.length-1]&&t.pop(),s=t;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i=void 0===e,c=void 0===t;return i&&c&&r?r:s.reduce((function(e,n){return n.apply(void 0,[e,t].concat(a))}),i&&!c&&r?r:e)}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(33)),s=o(n(35)),a=o(n(95));function o(e){return e&&e.__esModule?e:{default:e}}var i=(0,o(n(57)).default)((function(e){return((0,r.default)(e)||(0,s.default)(e))&&!(0,a.default)(e)}));t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,s.default)(e),n=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&n};var r,s=(r=n(41))&&r.__esModule?r:{default:r}},,function(e,t,n){"use strict";n.r(t),n.d(t,"renderApp",(function(){return ke}));var r=n(15),s=n.n(r),a=n(21),o=n(20),i=n(28),c=n(22),u=n(19),l=n(16);const d=Object(r.createContext)(void 0),f=({children:e,value:t})=>Object(l.jsx)(d.Provider,{value:t},e),p=d.Consumer;var b=n(38),g=n(75),h=n.n(g),j=n(2),m=n(23),x=n(76),v=n(26);const M=Object(v.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE"),O=Object(v.handleActions)({[M]:(e,{payload:t})=>t},{});var y=n(0);const E=Object(v.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE"),T=Object(v.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS"),_=j.i18n.translate("xpack.licenseMgmt.uploadLicense.genericUploadErrorMessage",{defaultMessage:"Error encountered uploading license:"}),S=Object(v.handleActions)({[T]:(e,{payload:t})=>t},{}),w=Object(v.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS"),C=Object(v.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE"),L=Object(v.handleActions)({[w]:(e,{payload:t})=>t,[C]:()=>({})},{}),P=Object(v.handleActions)({[E]:(e,{payload:t})=>t},""),k=Object(v.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED"),A=Object(v.handleActions)({[k]:(e,{payload:t})=>({canStartTrial:t})},{}),I=Object(v.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_LOADING"),D=Object(v.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_SUCCESS"),F=Object(v.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_ERROR"),N=Object(v.handleActions)({[I]:(e,{payload:t})=>({loading:t}),[D]:(e,{payload:t})=>({hasPermission:t}),[F]:(e,{payload:t})=>({error:t})},{});var R=n(24),B=n.n(R);const U=Object(b.combineReducers)({license:O,uploadStatus:S,uploadErrorMessage:P,trialStatus:A,startBasicStatus:L,permissions:N}),q=e=>e.permissions.hasPermission,H=e=>e.permissions.loading,W=e=>e.permissions.error,z=e=>e.license,Y=e=>z(e).type,K=e=>z(e).expiryDateInMillis,G=e=>{if("basic"===Y(e))return null;return K(e)?B.a.tz(K(e),B.a.tz.guess()):null},$=e=>(new Date).getTime()>K(e),X=e=>{const{type:t}=z(e);return"trial"===t||(e=>{const t=new Date,n=G(e);return n&&n.isAfter(t)&&n.diff(t,"days")<=25})(e)||$(e)},J=e=>!!e.uploadStatus.acknowledge,V=e=>!!e.uploadStatus.applying,Z=e=>e.uploadStatus.messages,Q=e=>!!e.uploadStatus.invalid,ee=e=>e.uploadErrorMessage,te=e=>{const t=Y(e);return e.trialStatus.canStartTrial&&"trial"!==t&&("platinum"!==t&&"enterprise"!==t||$(e))},ne=e=>{if(e.trialStatus.canStartTrial)return!1;const{type:t}=z(e);return"platinum"!==t&&"enterprise"!==t||$(e)},re=e=>!!e.startBasicStatus.acknowledge,se=e=>e.startBasicStatus.messages,ae=Object(x.createSelector)(z,(e=>{const t=G(e);return t?t.format("LLL z"):null}),$,((e,t,n)=>{const{isActive:r,type:s}=e;return{type:Object(m.capitalize)(s),isExpired:n,expirationDate:t,status:r?j.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusText",{defaultMessage:"active"}):j.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.inactiveLicenseStatusText",{defaultMessage:"inactive"})}})),oe=({appDependencies:e,children:t})=>{const{core:n,plugins:r,services:s,store:{initialLicense:a},theme$:o}=e,{http:c,notifications:{toasts:d},i18n:{Context:p}}=n,g=((e={},t={})=>{const n=[Object(b.applyMiddleware)(h.a.withExtraArgument(t))];return window.__REDUX_DEVTOOLS_EXTENSION__&&n.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(b.createStore)(U,e,Object(b.compose)(...n))})({license:a},{history:e.services.history,toasts:d,http:c,telemetry:r.telemetry,licensing:r.licensing,breadcrumbService:s.breadcrumbService});return Object(l.jsx)(p,null,Object(l.jsx)(u.KibanaThemeProvider,{theme$:o},Object(l.jsx)(i.Provider,{store:g},Object(l.jsx)(f,{value:e},t))))};var ie=n(30),ce=n.n(ie),ue=n(18),le=n(17),de=n(1),fe=n.n(de);const pe=s.a.lazy((()=>n.e(2).then(n.bind(null,96))));class telemetry_opt_in_TelemetryOptIn extends s.a.Component{constructor(...e){super(...e),fe()(this,"state",{showMoreTelemetryInfo:!1,showExample:!1}),fe()(this,"closeReadMorePopover",(()=>{this.setState({showMoreTelemetryInfo:!1})})),fe()(this,"onClickReadMore",(()=>{const{showMoreTelemetryInfo:e}=this.state;this.setState({showMoreTelemetryInfo:!e})})),fe()(this,"onClickExample",(()=>{this.setState({showExample:!0}),this.closeReadMorePopover()})),fe()(this,"onChangeOptIn",(e=>{const t=e.target.checked,{onOptInChange:n}=this.props;n(t)}))}render(){const{showMoreTelemetryInfo:e,showExample:t}=this.state,{isStartTrial:n,isOptingInToTelemetry:a,telemetry:o}=this.props;let i,c=null;t&&(c=Object(l.jsx)(s.a.Suspense,{fallback:Object(l.jsx)(le.EuiLoadingSpinner,null)},Object(l.jsx)(pe,{onClose:()=>this.setState({showExample:!1}),fetchExample:o.telemetryService.fetchExample}))),n||(i=Object(l.jsx)(r.Fragment,null,Object(l.jsx)(le.EuiSpacer,{size:"s"}),Object(l.jsx)(le.EuiTitle,{size:"s"},Object(l.jsx)("h4",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.customersHelpSupportDescription",defaultMessage:"Help Elastic support provide better service"}))),Object(l.jsx)(le.EuiSpacer,{size:"s"})));const u=Object(l.jsx)(le.EuiLink,{onClick:this.onClickReadMore},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.readMoreLinkText",defaultMessage:"Read more"})),d=Object(l.jsx)(le.EuiPopover,{ownFocus:!0,id:"readMorePopover",button:u,isOpen:e,closePopover:this.closeReadMorePopover,className:"eui-AlignBaseline"},Object(l.jsx)(le.EuiText,{className:"licManagement__narrowText"},Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.featureUsageWarningMessage",defaultMessage:"This feature periodically sends basic feature usage statistics. This information will not be shared outside of Elastic. See an {exampleLink} or read our {telemetryPrivacyStatementLink}. You can disable this feature any time.",values:{exampleLink:Object(l.jsx)(le.EuiLink,{onClick:this.onClickExample},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.exampleLinkText",defaultMessage:"example"})),telemetryPrivacyStatementLink:Object(l.jsx)(le.EuiLink,{href:o.telemetryConstants.getPrivacyStatementUrl(),target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.telemetryPrivacyStatementLinkText",defaultMessage:"telemetry privacy statement"}))}}))));return Object(l.jsx)(r.Fragment,null,c,i,Object(l.jsx)(le.EuiCheckbox,{label:Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.sendBasicFeatureStatisticsLabel",defaultMessage:"Send basic feature usage statistics to Elastic periodically. {popover}",values:{popover:d}})),id:"isOptingInToTelemetry",checked:a,onChange:this.onChangeOptIn}))}}function be(e){if(e){const{telemetryService:t}=e,n=t.getIsOptedIn();return t.getCanChangeOptInStatus()&&!n}return!1}class start_trial_StartTrial extends r.Component{constructor(...e){super(...e),fe()(this,"cancelRef",void 0),fe()(this,"confirmRef",void 0),fe()(this,"state",{showConfirmation:!1,isOptingInToTelemetry:!1}),fe()(this,"onOptInChange",(e=>{this.setState({isOptingInToTelemetry:e})})),fe()(this,"onStartLicenseTrial",(()=>{const{telemetry:e,startLicenseTrial:t}=this.props;this.state.isOptingInToTelemetry&&e&&e.telemetryService.setOptIn(!0),t()})),fe()(this,"cancel",(()=>{this.setState({showConfirmation:!1})}))}UNSAFE_componentWillMount(){this.props.loadTrialStatus()}acknowledgeModal(e){const{showConfirmation:t,isOptingInToTelemetry:n}=this.state,{telemetry:r}=this.props;return t?Object(l.jsx)(le.EuiModal,{className:"licManagement__modal",onClose:this.cancel},Object(l.jsx)(le.EuiModalHeader,null,Object(l.jsx)(le.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalTitle",defaultMessage:"Start your free 30-day trial"}))),Object(l.jsx)(le.EuiModalBody,null,Object(l.jsx)(le.EuiText,{"data-test-subj":"confirmModalBodyText"},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription",defaultMessage:"This trial is for the full set of {subscriptionFeaturesLinkText} of the Elastic Stack. You'll get immediate access to:",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:y.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}})),Object(l.jsx)("ul",null,Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.mashingLearningFeatureTitle",defaultMessage:"Machine learning"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.alertingFeatureTitle",defaultMessage:"Alerting"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.graphCapabilitiesFeatureTitle",defaultMessage:"Graph capabilities"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.dataBaseConnectivityFeatureTitle",defaultMessage:"{jdbcStandard} and {odbcStandard} connectivity for {sqlDataBase}",values:{jdbcStandard:"JDBC",odbcStandard:"ODBC",sqlDataBase:"SQL"}}))),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityFeaturesConfigurationDescription",defaultMessage:"Advanced security features, such as authentication ({authenticationTypeList}), field- and document-level security, and auditing, require configuration. See the {securityDocumentationLinkText} for instructions.",values:{authenticationTypeList:"AD/LDAP, SAML, PKI, SAML/SSO",securityDocumentationLinkText:Object(l.jsx)(le.EuiLink,{href:e.security,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityDocumentationLinkText",defaultMessage:"documentation"}))}})),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsDescription",defaultMessage:"By starting this trial, you agree that it is subject to these {termsAndConditionsLinkText}.",values:{termsAndConditionsLinkText:Object(l.jsx)(le.EuiLink,{href:y.EXTERNAL_LINKS.TRIAL_LICENSE,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsLinkText",defaultMessage:"terms and conditions"}))}})))))),Object(l.jsx)(le.EuiModalFooter,null,Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(l.jsx)(le.EuiFlexItem,{grow:!1},be(r)&&Object(l.jsx)(telemetry_opt_in_TelemetryOptIn,{telemetry:r,isStartTrial:!0,onOptInChange:this.onOptInChange,isOptingInToTelemetry:n})),Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiFlexGroup,{responsive:!1},Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:this.cancel,buttonRef:this.cancelRef},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.onStartLicenseTrial,fill:!0,buttonRef:this.confirmRef,color:"primary"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.startTrialButtonLabel",defaultMessage:"Start my trial"})))))))):null}render(){const{shouldShowStartTrial:e}=this.props;if(!e)return null;const t=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.subscriptionFeaturesExperienceDescription",defaultMessage:"Experience what machine learning, advanced security, and all our other {subscriptionFeaturesLinkText} have to offer.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:y.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}})),n=Object(l.jsx)(le.EuiButton,{"data-test-subj":"startTrialButton",onClick:()=>this.setState({showConfirmation:!0})},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.startTrialButtonLabel",defaultMessage:"Start trial"}));return Object(l.jsx)(p,null,(e=>Object(l.jsx)(le.EuiFlexItem,null,this.acknowledgeModal(e.docLinks),Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrialTitle",defaultMessage:"Start a 30-day trial"}),description:t,footer:n}))))}}const ge={loadTrialStatus:()=>async(e,t,{http:n})=>{const r=await function(e){return e.get(`${y.API_BASE_PATH}/start_trial`,{headers:{contentType:"application/json"},cache:"no-cache"})}(n);e(k(r))},startLicenseTrial:()=>async(e,t,{licensing:n,toasts:r,http:s})=>{const{trial_was_started:a,error_message:o}=await function(e){return e.post(`${y.API_BASE_PATH}/start_trial`,{headers:{contentType:"application/json"},cache:"no-cache"})}(s);if(!a)return r.addDanger(o);await n.refresh(),window.location.reload()}},he=Object(i.connect)((e=>({shouldShowStartTrial:te(e)})),ge)(start_trial_StartTrial),je=({license:e,...t})=>Object(l.jsx)(le.EuiPageHeader,ce()({},t,{pageTitle:Object(l.jsx)("span",{"data-test-subj":"licenseText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusTitle",defaultMessage:"Your {licenseType} license is {status}",values:{licenseType:e.type,status:e.status}})),description:Object(l.jsx)("span",{"data-test-subj":"licenseSubText"},e.expirationDate?Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusDescription",defaultMessage:"Your license will expire on {licenseExpirationDate}",values:{licenseExpirationDate:Object(l.jsx)("strong",null,e.expirationDate)}}):Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.permanentActiveLicenseStatusDescription",defaultMessage:"Your license will never expire."}))})),me=({license:e,...t})=>Object(l.jsx)(le.EuiPageHeader,ce()({},t,{pageTitle:Object(l.jsx)("span",{"data-test-subj":"licenseText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusTitle",defaultMessage:"Your {licenseType} license has expired",values:{licenseType:e.type}})),description:Object(l.jsx)("span",{"data-test-subj":"licenseSubText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusDescription",defaultMessage:"Your license expired on {licenseExpirationDate}",values:{licenseExpirationDate:Object(l.jsx)("strong",null,e.expirationDate)}}))})),xe=()=>{const e=Object(i.useSelector)(ae);return Object(l.jsx)(s.a.Fragment,null,e.isExpired?Object(l.jsx)(me,{license:e,bottomBorder:!0,iconType:"alert",iconProps:{color:"danger"}}):Object(l.jsx)(je,{license:e,bottomBorder:!0,iconType:"checkInCircleFilled",iconProps:{color:"success"}}),Object(l.jsx)(le.EuiSpacer,{size:"l"}))},ve=({uploadPath:e="/upload_license"})=>{const{services:t}=(()=>{const e=Object(r.useContext)(d);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e})();return Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseTitle",defaultMessage:"Update your license"}),description:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.useAvailableLicenseDescription",defaultMessage:"If you already have a new license, upload it now."}),footer:Object(l.jsx)(le.EuiButton,ce()({"data-test-subj":"updateLicenseButton"},Object(u.reactRouterNavigate)(t.history,e)),Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseButtonLabel",defaultMessage:"Update license"}))})};class revert_to_basic_RevertToBasic extends s.a.PureComponent{constructor(...e){super(...e),fe()(this,"cancel",(()=>{this.props.uploadLicenseStatus({})}))}acknowledgeModal(){const{needsAcknowledgement:e,messages:[t,...n]=[],startBasicLicense:r,cancelStartBasicLicense:s,licenseType:a}=this.props;return e?Object(l.jsx)(le.EuiConfirmModal,{title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModalTitle",defaultMessage:"Confirm Revert to Basic License"}),onCancel:s,onConfirm:()=>r(a,!0),cancelButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,t),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("ul",null,n.map((e=>Object(l.jsx)("li",{key:e},e))))))):null}render(){const{licenseType:e,shouldShowRevertToBasicLicense:t,startBasicLicense:n}=this.props;if(!t)return null;const r=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.revertToFreeFeaturesDescription",defaultMessage:"Youâ€™ll revert to our free features and lose access to machine learning, advanced security, and other {subscriptionFeaturesLinkText}.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:y.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}}));return Object(l.jsx)(le.EuiFlexItem,null,this.acknowledgeModal(),Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModalTitle",defaultMessage:"Revert to Basic license"}),description:r,footer:Object(l.jsx)(le.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:()=>n(e)},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModal.revertToBasicButtonLabel",defaultMessage:"Revert to Basic"}))}))}}const Me={startBasicLicense:(e,t)=>async(n,r,{licensing:s,toasts:a,http:o})=>{const{acknowledged:i,basic_was_started:c,error_message:u,acknowledge:l}=await function(e,t){return e.post(`${y.API_BASE_PATH}/start_basic`,{query:{acknowledge:t?"true":""},headers:{contentType:"application/json"},body:null,cache:"no-cache"})}(o,t);if(i){if(!c)return a.addDanger(u);await s.refresh(),window.location.reload()}else{const t=Object.values(l).slice(1).map((e=>e[0])),r=j.i18n.translate("xpack.licenseMgmt.replacingCurrentLicenseWithBasicLicenseWarningMessage",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a BASIC license. Review the list of features below.",values:{currentLicenseType:e.toUpperCase()}});n(w({acknowledge:!0,messages:[r,...t]}))}},cancelStartBasicLicense:C},Oe=Object(i.connect)((e=>({shouldShowRevertToBasicLicense:X(e),licenseType:Y(e),needsAcknowledgement:re(e),messages:se(e)})),Me)(revert_to_basic_RevertToBasic),ye=Object(i.connect)((e=>({shouldShowRequestTrialExtension:ne(e)})))((({shouldShowRequestTrialExtension:e})=>{if(!e)return null;const t=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.howToContinueUsingPluginsDescription",defaultMessage:"If youâ€™d like to continue using machine learning, advanced security, and our other awesome {subscriptionFeaturesLinkText}, request an extension now.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:y.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}}));return Object(l.jsx)(le.EuiFlexItem,null,Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendYourTrialTitle",defaultMessage:"Extend your trial"}),description:t,footer:Object(l.jsx)(le.EuiButton,{"data-test-subj":"extendTrialButton",target:"_blank",href:y.EXTERNAL_LINKS.TRIAL_EXTENSION},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendTrialButtonLabel",defaultMessage:"Extend trial"}))}))})),Ee=e=>(t,n,{breadcrumbService:r})=>{r.setBreadcrumbs(e)},Te={setBreadcrumb:Ee},_e=Object(i.connect)(null,Te)((({setBreadcrumb:e,telemetry:t}={setBreadcrumb:()=>{}})=>(Object(r.useEffect)((()=>{e("dashboard")})),Object(l.jsx)(s.a.Fragment,null,Object(l.jsx)(xe,null),Object(l.jsx)(le.EuiPageContentBody,null,Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceAround"},Object(l.jsx)(le.EuiFlexItem,null,Object(l.jsx)(ve,null)),Object(l.jsx)(he,{telemetry:t}),Object(l.jsx)(ye,null),Object(l.jsx)(Oe,null)))))));class upload_license_UploadLicense extends s.a.PureComponent{constructor(...e){super(...e),fe()(this,"state",{isOptingInToTelemetry:!1}),fe()(this,"onOptInChange",(e=>{this.setState({isOptingInToTelemetry:e})})),fe()(this,"send",(e=>{const t=this.file,n=new FileReader;n.onload=({target:{result:t}})=>{var n;this.state.isOptingInToTelemetry&&(null===(n=this.props.telemetry)||void 0===n||n.telemetryService.setOptIn(!0));this.props.uploadLicense(t,this.props.currentLicenseType,e)},n.readAsText(t)})),fe()(this,"cancel",(()=>{this.props.uploadLicenseStatus({})})),fe()(this,"handleFile",(([e])=>{e&&this.props.addUploadErrorMessage(""),this.file=e})),fe()(this,"submit",(e=>{e.preventDefault(),this.file?this.send():this.props.addUploadErrorMessage(Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseFileNotSelectedErrorMessage",defaultMessage:"You must select a license file."}))}))}componentDidMount(){this.props.setBreadcrumb("upload"),this.props.addUploadErrorMessage("")}acknowledgeModal(){const{needsAcknowledgement:e,messages:[t,...n]=[]}=this.props;return e?Object(l.jsx)(le.EuiConfirmModal,{title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModalTitle",defaultMessage:"Confirm License Upload"}),onCancel:this.cancel,onConfirm:()=>this.send(!0),cancelButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,t),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("ul",null,n.map((e=>Object(l.jsx)("li",{key:e},e))))))):null}errorMessage(){const{errorMessage:e}=this.props;return e?[e]:null}render(){const{currentLicenseType:e,applying:t,telemetry:n,history:r}=this.props;return Object(l.jsx)(le.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(le.EuiPageContentBody,null,Object(l.jsx)(le.EuiTitle,{size:"m"},Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadLicenseTitle",defaultMessage:"Upload your license"}))),Object(l.jsx)(le.EuiSpacer,null),this.acknowledgeModal(),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseKeyTypeDescription",defaultMessage:"Your license key is a JSON file with a signature attached."})),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.replacingCurrentLicenseWarningMessage",defaultMessage:"Uploading a license will replace your current {currentLicenseType} license.",values:{currentLicenseType:Object(l.jsx)("strong",null,e.toUpperCase())}}))),Object(l.jsx)(le.EuiSpacer,null),Object(l.jsx)(le.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},Object(l.jsx)(le.EuiFilePicker,{fullWidth:!0,id:"licenseFile",initialPromptText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.selectLicenseFileDescription",defaultMessage:"Select or drag your license file"}),onChange:this.handleFile}),Object(l.jsx)(le.EuiSpacer,{size:"m"}),be(n)&&Object(l.jsx)(telemetry_opt_in_TelemetryOptIn,{isOptingInToTelemetry:this.state.isOptingInToTelemetry,onOptInChange:this.onOptInChange,telemetry:n}),Object(l.jsx)(le.EuiSpacer,{size:"m"}),Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(l.jsx)(le.EuiFlexItem,{grow:!1},Object(l.jsx)(le.EuiButtonEmpty,ce()({"data-test-subj":"cancelUploadButton"},Object(u.reactRouterNavigate)(r,"/home")),Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(l.jsx)(le.EuiFlexItem,{grow:!1},Object(l.jsx)(le.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:!0,isLoading:t,onClick:this.submit},t?Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadingButtonLabel",defaultMessage:"Uploadingâ€¦"}):Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadButtonLabel",defaultMessage:"Upload"})))))))}}const Se={addUploadErrorMessage:E,uploadLicense:(e,t,n)=>async(r,s,a)=>{r(T({applying:!0}));let o=null;try{({type:o}=JSON.parse(e).license)}catch(e){return r(T({})),r(E(j.i18n.translate("xpack.licenseMgmt.uploadLicense.checkLicenseFileErrorMessage",{defaultMessage:"{genericUploadError} Check your license file.",values:{genericUploadError:_}})))}try{const s=await function(e,t,n){return e.put(y.API_BASE_PATH,{query:{acknowledge:n?"true":""},body:t,headers:{contentType:"application/json"},cache:"no-cache"})}(a.http,e,n);await(async(e,t,n,r,{history:s,licensing:a})=>{const{error:o,acknowledged:i,license_status:c,acknowledge:u}=e;if(o)t(T({})),t(E(`${_} ${o.reason}`));else if(i)if("invalid"===c)t(T({})),t(E(j.i18n.translate("xpack.licenseMgmt.uploadLicense.invalidLicenseErrorMessage",{defaultMessage:"The supplied license is not valid for this product."})));else if("expired"===c)t(T({})),t(E(j.i18n.translate("xpack.licenseMgmt.uploadLicense.expiredLicenseErrorMessage",{defaultMessage:"The supplied license has expired."})));else{const e=await a.refresh();t(M(e)),t(T({})),s.replace("/home"),window.location.reload()}else{const e=Object.values(u).slice(1),s=j.i18n.translate("xpack.licenseMgmt.uploadLicense.problemWithUploadedLicenseDescription",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a {newLicenseType} license. Review the list of features below.",values:{currentLicenseType:n.toUpperCase(),newLicenseType:r.toUpperCase()}});t(T({acknowledge:!0,messages:[s,...e]}))}})(s,r,t,o,a)}catch(e){const t=e.responseJSON&&e.responseJSON.error.reason?e.responseJSON.error.reason:j.i18n.translate("xpack.licenseMgmt.uploadLicense.unknownErrorErrorMessage",{defaultMessage:"Unknown error."});r(T({})),r(E(`${_} ${t}`))}},uploadLicenseStatus:T,setBreadcrumb:Ee},we=Object(i.connect)((e=>({isInvalid:Q(e),needsAcknowledgement:J(e),messages:Z(e),errorMessage:ee(e),applying:V(e),currentLicenseType:Y(e)||""})),Se)(upload_license_UploadLicense);class app_App extends r.Component{componentDidMount(){const{loadPermissions:e}=this.props;e()}render(){const{hasPermission:e,permissionsLoading:t,permissionsError:n,telemetry:r}=this.props;if(t)return Object(l.jsx)(le.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(c.SectionLoading,null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.loadingPermissionsDescription",defaultMessage:"Checking permissionsâ€¦"})));if(n){var s;const e=null==n||null===(s=n.data)||void 0===s?void 0:s.message;return Object(l.jsx)(le.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(l.jsx)(le.EuiEmptyPrompt,{iconType:"alert",title:Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.checkingPermissionsErrorMessage",defaultMessage:"Error checking permissions"})),body:e?Object(l.jsx)("p",null,e):null}))}if(!e)return Object(l.jsx)(le.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(le.EuiEmptyPrompt,{iconType:"securityApp",title:Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionTitle",defaultMessage:"Cluster privileges required"})),body:Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionDescription",defaultMessage:"To use License Management, you must have {permissionType} privileges.",values:{permissionType:Object(l.jsx)("strong",null,y.APP_PERMISSION)}}))}));const a=e=>t=>Object(l.jsx)(e,ce()({},t,{telemetry:r}));return Object(l.jsx)(le.EuiPageBody,null,Object(l.jsx)(o.Switch,null,Object(l.jsx)(o.Route,{path:"/upload_license",component:a(we)}),Object(l.jsx)(o.Route,{path:["/"],component:a(_e)})))}}const Ce={loadPermissions:()=>async(e,t,{http:n})=>{e(I(!0));try{const t=await function(e){return e.post(`${y.API_BASE_PATH}/permissions`,{headers:{contentType:"application/json"},cache:"no-cache"})}(n);e(I(!1)),e(D(t.hasPermission))}catch(t){e(I(!1)),e(F(t))}}},Le=Object(o.withRouter)(Object(i.connect)((e=>({hasPermission:q(e),permissionsLoading:H(e),permissionsError:W(e)})),Ce)(app_App)),Pe=e=>Object(l.jsx)(o.Router,{history:e.history},Object(l.jsx)(Le,e)),ke=(e,t)=>(Object(a.render)(Object(l.jsx)(oe,{appDependencies:t},Object(l.jsx)(Pe,{telemetry:t.plugins.telemetry,history:t.services.history})),e),()=>{Object(a.unmountComponentAtNode)(e)})}])]);