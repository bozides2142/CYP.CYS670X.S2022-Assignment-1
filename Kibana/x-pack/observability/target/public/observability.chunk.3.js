/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[3,8],{108:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return x}));var i=a(1),r=a(0),n=a(7),l=a(124),s=a(43),o=a(4),c=a(26),u=a(32),d=a(8);var m=a(100),p=a(9);const b={"host.os.platform":o.M,"host.os.full":o.v,"service.version":o.W,"network.carrier.icc":o.e,"network.carrier.name":o.f,"network.connection_type":o.h,"labels.device_model":o.n};var g=a(87),f=a(30);const E={[c.b.UX]:r.i18n.translate("xpack.observability.overview.exploratoryView.uxLabel",{defaultMessage:"User experience (RUM)"}),[c.b.SYNTHETICS]:r.i18n.translate("xpack.observability.overview.exploratoryView.syntheticsLabel",{defaultMessage:"Synthetics monitoring"}),[c.b.METRICS]:r.i18n.translate("xpack.observability.overview.exploratoryView.metricsLabel",{defaultMessage:"Infra metrics"}),[c.b.MOBILE]:r.i18n.translate("xpack.observability.overview.exploratoryView.mobileExperienceLabel",{defaultMessage:"Mobile experience"})},y=[{id:c.b.SYNTHETICS,label:E[c.b.SYNTHETICS]},{id:c.b.UX,label:E[c.b.UX]},{id:c.b.METRICS,label:E[c.b.METRICS]},{id:c.b.MOBILE,label:E[c.b.MOBILE]}],v=[{reportType:"kpi-over-time",label:o.y},{reportType:"data-distribution",label:o.Q},{reportType:"core-web-vitals",label:o.i},{reportType:"device-data-distribution",label:o.l}],h={[c.b.UX]:[function({indexPattern:e}){return{defaultSeriesType:"bar_stacked",seriesTypes:[],reportType:c.m.KPI,xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:c.l,operationType:"median"}],hasOperationType:!1,filterFields:[d.o,d.s,d.a,d.q,{field:d.r,nested:d.u},c.f],breakdownFields:[d.r,d.s,d.a,d.q,c.h,c.e],baseFilters:[...Object(u.b)(d.n,"page-load",e),...Object(u.b)(d.h,"transaction",e)],labels:{...c.d,[d.j]:o.gb},definitionFields:[d.j,d.i],metricOptions:[{field:c.j,id:c.j,label:o.P},{label:o.O,field:d.l,id:d.l,columnType:c.g},{label:o.b,field:d.m,id:d.m,columnType:c.g},{label:o.s,field:d.c,id:d.c,columnType:c.g},{label:o.cb,field:d.k,id:d.k,columnType:c.g},{label:o.A,field:d.e,id:d.e,columnType:c.g},{label:o.t,field:d.d,id:d.d,columnType:c.g},{label:o.g,field:d.b,id:d.b,columnType:c.g}]}},function({indexPattern:e}){return{reportType:c.m.DISTRIBUTION,defaultSeriesType:"line",seriesTypes:[],xAxisColumn:{sourceField:c.l},yAxisColumns:[{sourceField:c.k,label:o.N}],hasOperationType:!1,filterFields:[{field:d.o,isNegated:!1},d.s,d.a,d.q,{field:d.r,nested:d.u},c.f],breakdownFields:[d.r,d.s,d.a,d.q],definitionFields:[d.j,d.i],metricOptions:[{label:o.O,id:d.l,field:d.l},{label:o.b,id:d.m,field:d.m},{label:o.s,id:d.c,field:d.c},{label:o.cb,id:d.k,field:d.k},{label:o.A,id:d.e,field:d.e},{label:o.t,id:d.d,field:d.d},{label:o.g,id:d.b,field:d.b}],baseFilters:[...Object(u.b)(d.n,"page-load",e),...Object(u.b)(d.h,"transaction",e)],labels:{...c.d,[d.j]:o.gb,[d.l]:o.O},query:{query:"transaction.duration.us < 60000000",language:"kuery"}}},function({indexPattern:e}){const t=Object(n.euiPaletteForStatus)(3);return{defaultSeriesType:"bar_horizontal_percentage_stacked",reportType:c.m.CORE_WEB_VITAL,seriesTypes:["bar_horizontal_percentage_stacked"],xAxisColumn:{sourceField:c.o},yAxisColumns:[{sourceField:c.l,label:"Good"},{sourceField:c.l,label:"Average"},{sourceField:c.l,label:"Poor"}],hasOperationType:!1,filterFields:[{field:d.o,isNegated:!1},d.j,{field:d.s,nested:d.t},d.a,d.q,{field:d.r,nested:d.u},c.f],breakdownFields:[d.j,d.r,d.s,d.a,d.q,d.p],baseFilters:[...Object(u.b)(d.n,"page-load",e),...Object(u.b)(d.h,"transaction",e)],labels:{...c.d,[d.j]:"Web Application"},definitionFields:[d.j,d.i],metricOptions:[{id:d.e,label:o.A,columnType:c.c,columnFilters:[{language:"kuery",query:`${d.e} < 2500`},{language:"kuery",query:`${d.e} > 2500 and ${d.e} < 4000`},{language:"kuery",query:`${d.e} > 4000`}]},{label:o.t,id:d.d,columnType:c.c,columnFilters:[{language:"kuery",query:`${d.d} < 100`},{language:"kuery",query:`${d.d} > 100 and ${d.d} < 300`},{language:"kuery",query:`${d.d} > 300`}]},{label:o.g,id:d.b,columnType:c.c,columnFilters:[{language:"kuery",query:`${d.b} < 0.1`},{language:"kuery",query:`${d.b} > 0.1 and ${d.b} < 0.25`},{language:"kuery",query:`${d.b} > 0.25`}]}],yConfig:[{color:t[0],forAccessor:"y-axis-column"},{color:t[1],forAccessor:"y-axis-column-1"},{color:t[2],forAccessor:"y-axis-column-2"}],query:{query:'transaction.type: "page-load"',language:"kuery"}}}],[c.b.SYNTHETICS]:[m.a,function({series:e,indexPattern:t}){return{reportType:c.m.DISTRIBUTION,defaultSeriesType:(null==e?void 0:e.seriesType)||"line",seriesTypes:[],xAxisColumn:{sourceField:c.l},yAxisColumns:[{sourceField:c.k,label:o.R}],hasOperationType:!1,filterFields:["monitor.type","observer.geo.name","tags"],breakdownFields:["observer.geo.name","monitor.name","monitor.id","monitor.type","tags","url.port"],baseFilters:[],definitionFields:[{field:"monitor.name",nested:"synthetics.step.name.keyword",singleSelection:!0},{field:"url.full",filters:Object(u.a)("summary.up",t)}],metricOptions:[{label:o.E,id:p.a,field:p.a},{label:o.A,field:p.f,id:p.f},{label:o.s,field:p.e,id:p.e},{label:o.k,field:p.c,id:p.c},{label:o.p,field:p.d,id:p.d},{label:o.g,field:p.b,id:p.b}],labels:{...c.d,"monitor.duration.us":o.E}}}],[c.b.MOBILE]:[function({indexPattern:e}){return{reportType:c.m.KPI,defaultSeriesType:"line",seriesTypes:["line","bar","area"],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:c.l,operationType:"median"}],hasOperationType:!0,filterFields:[...Object.keys(b),c.f],breakdownFields:Object.keys(b),baseFilters:[...Object(u.c)("agent.name",["iOS/swift","open-telemetry/swift"],e)],labels:{...c.d,...b,[d.l]:o.U,[d.j]:o.D,[d.g]:o.ab,[d.f]:o.j},definitionFields:[d.j,d.i],metricOptions:[{label:o.U,field:d.l,id:d.l,columnType:c.g},{field:c.j,id:c.j,label:o.db,columnFilters:[{language:"kuery",query:`${d.h}: transaction`}],timeScale:"m"},{label:o.ab,field:d.g,id:d.g,columnType:c.g,columnFilters:[{language:"kuery",query:`${d.h}: metric`}]},{label:o.j,field:d.f,id:d.f,columnType:c.g,columnFilters:[{language:"kuery",query:`${d.h}: metric`}]}]}},function({indexPattern:e}){return{reportType:c.m.DISTRIBUTION,defaultSeriesType:"bar",seriesTypes:["line","bar"],xAxisColumn:{sourceField:c.l},yAxisColumns:[{sourceField:c.j}],hasOperationType:!1,filterFields:[...Object.keys(b),c.f],breakdownFields:Object.keys(b),baseFilters:[...Object(u.c)("agent.name",["iOS/swift","open-telemetry/swift"],e)],labels:{...c.d,...b,[d.j]:o.D},definitionFields:[d.j,d.i],metricOptions:[{label:o.U,field:d.l,id:d.l,columnFilters:[{language:"kuery",query:`${d.h}: transaction`}]},{label:o.ab,field:d.g,id:d.g,columnFilters:[{language:"kuery",query:`${d.h}: metric`}]},{label:o.j,field:d.f,id:d.f,columnFilters:[{language:"kuery",query:`${d.h}: metric`}]}]}},function({indexPattern:e}){return{reportType:c.m.DEVICE_DISTRIBUTION,defaultSeriesType:"bar",seriesTypes:["bar","bar_horizontal"],xAxisColumn:{sourceField:c.o},yAxisColumns:[{sourceField:c.l,operationType:"unique_count"}],hasOperationType:!1,filterFields:[...Object.keys(b),c.f],breakdownFields:Object.keys(b),baseFilters:[...Object(u.b)("agent.name","iOS/swift",e),...Object(u.b)("processor.event","transaction",e)],labels:{...c.d,...b,[d.j]:o.D},definitionFields:[d.j],metricOptions:[{field:"labels.device_id",id:"labels.device_id",label:o.J}]}}],[c.b.METRICS]:[function({indexPattern:e}){return{reportType:c.m.KPI,defaultSeriesType:"area",seriesTypes:[],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:c.l,operationType:"median"}],hasOperationType:!1,filterFields:["agent.type","service.type"],breakdownFields:["agent.hostname","service.type"],baseFilters:[],definitionFields:["agent.hostname","service.type"],metricOptions:[{label:o.Z,field:f.c,id:f.c,columnType:c.g},{label:o.ab,field:f.d,id:f.d,columnType:c.g},{label:o.o,field:f.a,id:f.a,columnType:c.g},{label:o.w,field:f.b,id:f.b,columnType:c.g}],labels:{...c.d}}}]};function x(){const{appMountParameters:e}=Object(g.a)();return i.createElement(n.EuiErrorBoundary,null,i.createElement(s.a,{reportTypes:v,dataTypes:y,indexPatterns:{},reportConfigMap:h,setHeaderActionMenu:e.setHeaderActionMenu,theme$:e.theme$},i.createElement(l.ExploratoryViewPage,null)))}},125:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return V}));var i=a(1),r=a.n(i),n=a(7),l=a(0);const s=l.i18n.translate("xpack.observability.ux.coreVitals.noData",{defaultMessage:"No data is available."}),o=l.i18n.translate("xpack.observability.ux.coreVitals.lcp",{defaultMessage:"Largest contentful paint"}),c=l.i18n.translate("xpack.observability.ux.coreVitals.fip",{defaultMessage:"First input delay"}),u=l.i18n.translate("xpack.observability.ux.coreVitals.cls",{defaultMessage:"Cumulative layout shift"}),d=l.i18n.translate("xpack.observability.ux.coreVitals.poor",{defaultMessage:"a poor"}),m=l.i18n.translate("xpack.observability.ux.coreVitals.good",{defaultMessage:"a good"}),p=l.i18n.translate("xpack.observability.ux.coreVitals.average",{defaultMessage:"an average"}),b=l.i18n.translate("xpack.observability.ux.coreVitals.legends.poor",{defaultMessage:"Poor"}),g=l.i18n.translate("xpack.observability.ux.coreVitals.legends.good",{defaultMessage:"Good"}),f=l.i18n.translate("xpack.observability.ux.coreVitals.legends.needsImprovement",{defaultMessage:"Needs improvement"}),E=l.i18n.translate("xpack.observability.ux.coreVitals.more",{defaultMessage:"more"}),y=l.i18n.translate("xpack.observability.ux.coreVitals.less",{defaultMessage:"less"}),v=l.i18n.translate("xpack.observability.ux.coreVitals.is",{defaultMessage:"is"}),h=l.i18n.translate("xpack.observability.ux.coreVitals.takes",{defaultMessage:"takes"}),x=l.i18n.translate("xpack.observability.ux.coreVitals.lcp.help",{defaultMessage:"Largest contentful paint measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading."}),T=l.i18n.translate("xpack.observability.ux.coreVitals.fid.help",{defaultMessage:"First input delay measures interactivity. To provide a good user experience, pages should have a FID of less than 100 milliseconds."}),k=l.i18n.translate("xpack.observability.ux.coreVitals.cls.help",{defaultMessage:"Cumulative Layout Shift (CLS): measures visual stability. To provide a good user experience, pages should maintain a CLS of less than 0.1."});var S=a(20),w=a.n(S),O=a(76),F=a(80),I=a(15);const j=w()(n.EuiHealth).withConfig({displayName:"PaletteLegend",componentId:"sc-r7v41l-0"})(["&:hover{cursor:pointer;text-decoration:underline;}"]),M=w.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-r7v41l-1"})(["&:hover{background-color:",";}"],(e=>e.darkMode?F.euiDarkVars.euiColorLightestShade:F.euiLightVars.euiColorLightestShade));function C({ranks:e,title:t,onItemHover:a,thresholds:i,isCls:l}){const[s]=Object(I.useUiSetting$)("theme:darkMode"),o=Object(n.euiPaletteForStatus)(3),c=[g,f,b];return r.a.createElement(n.EuiFlexGroup,{responsive:!1,gutterSize:"s"},o.map(((o,u)=>r.a.createElement(n.EuiFlexItem,{key:u,grow:!1,onMouseEnter:()=>{a(u)},onMouseLeave:()=>{a(null)}},r.a.createElement(n.EuiToolTip,{content:_(i,u,t,e[u],l),position:"bottom"},r.a.createElement(M,{darkMode:s},r.a.createElement(j,{color:o},r.a.createElement(n.EuiText,{size:"xs"},r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.coreVitals.paletteLegend.rankPercentage",defaultMessage:"{labelsInd} ({ranksInd}%)",values:{labelsInd:c[u],ranksInd:null==e?void 0:e[u]}})))))))))}const A=w.a.div.withConfig({displayName:"ColoredSpan",componentId:"sc-tpi8wf-0"})(["height:16px;width:100%;cursor:pointer;"]);function L({hexCode:e,inFocus:t,percentage:a,tooltip:i,position:l}){const s=((e,t,a,i)=>{let r=0===e||100===i,n=2===e||100===i;100===i&&(r=!0,n=!0);const l={backgroundColor:a,opacity:t?.3:1};let s="";return r&&(s="4px 0 0 4px"),n&&(s="0 4px 4px 0"),r&&n&&(s="4px"),l.borderRadius=s,l})(l,t,e,a);return r.a.createElement(n.EuiFlexItem,{key:e,grow:!1,style:{width:a+"%"}},r.a.createElement(n.EuiToolTip,{content:i},r.a.createElement(A,{style:s})))}function _(e,t,a,i,r){const n=0===t,s=2===t,o=!n&&!s;return l.i18n.translate("xpack.observability.ux.dashboard.webVitals.palette.tooltip",{defaultMessage:"{percentage} % of users have {exp} experience because the {title} {isOrTakes} {moreOrLess} than {value}{averageMessage}.",values:{percentage:i,isOrTakes:r?v:h,title:null==a?void 0:a.toLowerCase(),exp:n?m:s?d:p,moreOrLess:s||o?E:y,value:n||o?e.good:e.bad,averageMessage:o?l.i18n.translate("xpack.observability.ux.coreVitals.averageMessage",{defaultMessage:" and less than {bad}",values:{bad:e.bad}}):""}})}function P({loading:e,title:t,value:a,thresholds:l,ranks:o=[100,0,0],isCls:c,helpLabel:u}){const d=Object(n.euiPaletteForStatus)(3),[m,p]=Object(i.useState)(null),b=o.indexOf(Math.max(...o));return a||e?r.a.createElement(r.a.Fragment,null,r.a.createElement(n.EuiStat,{"aria-label":`${t} ${a}`,titleSize:"s",title:null!=a?a:"",description:r.a.createElement(r.a.Fragment,null,t,r.a.createElement(n.EuiIconTip,{content:u,type:"questionInCircle"})),titleColor:d[b],isLoading:e}),r.a.createElement(n.EuiSpacer,{size:"s"}),r.a.createElement(n.EuiFlexGroup,{gutterSize:"none",alignItems:"flexStart",style:{maxWidth:350},responsive:!1},d.map(((e,a)=>r.a.createElement(L,{hexCode:e,key:e,position:a,inFocus:m!==a&&null!==m,percentage:o[a],tooltip:_(l,a,t,o[a],c)})))),r.a.createElement(n.EuiSpacer,{size:"s"}),r.a.createElement(C,{ranks:o,thresholds:l,title:t,onItemHover:e=>{p(e)},isCls:c})):r.a.createElement(n.EuiCard,{title:t,isDisabled:!0,description:s})}const R=l.i18n.translate("xpack.observability.ux.coreWebVitals",{defaultMessage:"Core web vitals"}),D=l.i18n.translate("xpack.observability.ux.coreWebVitals.browser.support",{defaultMessage:"browser support for core web vitals"});function N({loading:e,coreVitalPages:t,totalPageViews:a=0,displayTrafficMetric:s}){const[o,c]=Object(i.useState)(!1),[u,d]=Object(i.useState)(!1),m=l.i18n.translate("xpack.observability.ux.dashboard.webCoreVitals.helpAriaLabel",{defaultMessage:"help"});return r.a.createElement(n.EuiFlexGroup,{gutterSize:"none"},r.a.createElement(n.EuiFlexItem,null,r.a.createElement(n.EuiTitle,{size:"xs"},r.a.createElement("h3",null,R,r.a.createElement(n.EuiPopover,{isOpen:o,button:r.a.createElement(n.EuiButtonIcon,{"aria-label":m,onClick:()=>c(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>c(!1)},r.a.createElement("div",null,r.a.createElement(n.EuiText,null,r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.help",defaultMessage:"Learn more about"})," ",r.a.createElement(n.EuiLink,{href:"https://web.dev/vitals/",external:!0,target:"_blank"},R))))))),s&&a>0&&r.a.createElement(n.EuiFlexItem,{grow:!1},e?r.a.createElement(n.EuiLoadingSpinner,null):r.a.createElement(n.EuiText,{size:"s"},r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.traffic",defaultMessage:"{trafficPerc} of the traffic represented",values:{trafficPerc:r.a.createElement("strong",null," ",((t||0)/a*100).toFixed(0),"%")}}),r.a.createElement(n.EuiPopover,{isOpen:u,button:r.a.createElement(n.EuiButtonIcon,{"aria-label":m,onClick:()=>d(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>d(!1)},r.a.createElement("div",null,r.a.createElement(n.EuiText,null,r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.browser.help",defaultMessage:"Learn more about"})," ",r.a.createElement(n.EuiLink,{href:"https://github.com/GoogleChrome/web-vitals#browser-support",external:!0,target:"_blank"},D)))))))}const z=l.i18n.translate("xpack.observability.ux.coreWebVitals.service",{defaultMessage:"Service"}),B=l.i18n.translate("xpack.observability.ux.service.help",{defaultMessage:"The RUM service with the most traffic is selected"});function U({name:e}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.EuiText,{size:"s"},z,r.a.createElement(n.EuiIconTip,{color:"text","aria-label":B,type:"questionInCircle",content:B})),r.a.createElement(n.EuiTitle,{size:"s"},r.a.createElement("h3",null,e)))}function q(e){return null==e?null:function(e,t="MicroSec"){const a=Number(null!=e?e:0)/("MicroSec"===t?1e3:1);return a<1e3?a.toFixed(0)+" ms":(a/1e3).toFixed(2)+" s"}(e,"ms")}const $={LCP:{good:"2.5s",bad:"4.0s"},FID:{good:"100ms",bad:"300ms"},CLS:{good:"0.1",bad:"0.25"}};function V({data:e,loading:t,displayServiceName:a,serviceName:r,totalPageViews:l,displayTrafficMetric:s=!1}){var d;const{lcp:m,lcpRanks:p,fid:b,fidRanks:g,cls:f,clsRanks:E,coreVitalPages:y}=e||{};return i.createElement(i.Fragment,null,i.createElement(N,{loading:t,coreVitalPages:y,totalPageViews:l,displayTrafficMetric:s}),i.createElement(n.EuiSpacer,{size:"s"}),a&&i.createElement(U,{name:r}),i.createElement(n.EuiSpacer,{size:"s"}),i.createElement(n.EuiFlexGroup,{gutterSize:"xl",justifyContent:"spaceBetween",wrap:!0},i.createElement(n.EuiFlexItem,{style:{flexBasis:380}},i.createElement(P,{title:o,value:q(m),ranks:p,loading:t,thresholds:$.LCP,helpLabel:x})),i.createElement(n.EuiFlexItem,{style:{flexBasis:380}},i.createElement(P,{title:c,value:q(b),ranks:g,loading:t,thresholds:$.FID,helpLabel:T})),i.createElement(n.EuiFlexItem,{style:{flexBasis:380}},i.createElement(P,{title:u,value:null!==(d=null==f?void 0:f.toFixed(3))&&void 0!==d?d:null,ranks:E,loading:t,thresholds:$.CLS,isCls:!0,helpLabel:k}))))}},134:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(135);case"v8light":return a(137)}},135:function(e,t,a){var i=a(93),r=a(136);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},136:function(e,t,a){(t=a(94)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},137:function(e,t,a){var i=a(93),r=a(138);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},138:function(e,t,a){(t=a(94)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},139:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(77),r=a(1),n=i.__importDefault(a(140));t.default=function(e,t){void 0===t&&(t=[]);var a=n.default(e,t,{loading:!0}),i=a[0],l=a[1];return r.useEffect((function(){l()}),[l]),i}},140:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(77),r=a(1),n=i.__importDefault(a(141));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var l=r.useRef(0),s=n.default(),o=r.useState(a),c=o[0],u=o[1];return[c,r.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=++l.current;return u((function(e){return i.__assign(i.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&r===l.current&&u({value:e,loading:!1}),e}),(function(e){return s()&&r===l.current&&u({error:e,loading:!1}),e}))}),t)]}},141:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(1);t.default=function(){var e=i.useRef(!1),t=i.useCallback((function(){return e.current}),[]);return i.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},142:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(143);case"v8light":return a(145)}},143:function(e,t,a){var i=a(93),r=a(144);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},144:function(e,t,a){(t=a(94)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},145:function(e,t,a){var i=a(93),r=a(146);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},146:function(e,t,a){(t=a(94)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},147:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(148);case"v8light":return a(150)}},148:function(e,t,a){var i=a(93),r=a(149);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},149:function(e,t,a){(t=a(94)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 0.7px 1.4px rgba(0,0,0,0.175),0 1.9px 4px rgba(0,0,0,0.125),0 4.5px 10px rgba(0,0,0,0.125)}\n",""]),e.exports=t},150:function(e,t,a){var i=a(93),r=a(151);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1};i(r,n);e.exports=r.locals||{}},151:function(e,t,a){(t=a(94)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 0.7px 1.4px rgba(0,0,0,0.07),0 1.9px 4px rgba(0,0,0,0.05),0 4.5px 10px rgba(0,0,0,0.05)}\n",""]),e.exports=t},157:function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return va}));var i=a(0),r=a(1),n=a.n(r),l=a(79),s=a.n(l),o=a(33),c=a(10),u=a(45),d=a(15),m=a(46),p=a(116),b=a(117),g=a(95),f=a(92),E=a(101),y=a(12),v=a(44);const h=y.observabilityFeatureId,x=y.casesPath;var T=a(87),k=a(69),S=a(2),w=(a(112),a(7)),O=a(90),F=a(114),I=a(52);function j({time:e,timeUnit:t="milliseconds"}){const a=Object(I.a)(e,t);return n.a.createElement(w.EuiToolTip,{content:a},n.a.createElement(n.a.Fragment,null,a))}var M=a(51);const C={critical:"danger",warning:"warning"};function A({severityLevel:e}){return e?n.a.createElement(w.EuiBadge,{color:e?C[e]:"default"},e):null}var L=a(97);const _=({data:e,fieldName:t})=>{const a=e.find((e=>e.field===t));if(null!=a&&null!=a.value)return a.value},P=({setFlyoutAlert:e})=>({columnId:t,data:a})=>{var i;const{observabilityRuleTypeRegistry:r}=Object(T.a)(),l=null===(i=_({data:a,fieldName:t}))||void 0===i?void 0:i.reduce((e=>e[0]));switch(t){case O.ALERT_STATUS:return l!==O.ALERT_STATUS_ACTIVE&&l!==O.ALERT_STATUS_RECOVERED?null:n.a.createElement(F.a,{alertStatus:l});case O.TIMESTAMP:return n.a.createElement(j,{time:new Date(null!=l?l:"").getTime(),timeUnit:"milliseconds"});case O.ALERT_DURATION:return Object(M.a)(Number(l));case O.ALERT_SEVERITY:return n.a.createElement(A,{severityLevel:null!=l?l:void 0});case O.ALERT_REASON:const t=a.reduce(((e,t)=>({...e,[t.field]:t.value})),{}),i=Object(L.a)(r)(t);return n.a.createElement(w.EuiLink,{href:"",onClick:()=>e&&e(i)},i.reason);default:return n.a.createElement(n.a.Fragment,null,l)}};i.i18n.translate("xpack.observability.alerts.workflowStatusFilter.openButtonLabel",{defaultMessage:"Open"}),i.i18n.translate("xpack.observability.alerts.workflowStatusFilter.acknowledgedButtonLabel",{defaultMessage:"Acknowledged"}),i.i18n.translate("xpack.observability.alerts.workflowStatusFilter.closedButtonLabel",{defaultMessage:"Closed"});var R=a(50),D=a(98);function N({dynamicIndexPatterns:e,rangeFrom:t,rangeTo:a,onQueryChange:i,query:l}){const s=Object(r.useMemo)((()=>new R.TimeHistory(new m.Storage(localStorage))),[]),[o,c]=Object(r.useState)("kuery"),u=Object(r.useMemo)((()=>e.map((e=>{var t,a;return{title:null!==(t=e.title)&&void 0!==t?t:"",id:null!==(a=e.id)&&void 0!==a?a:"",fields:e.fields}}))),[e]);return n.a.createElement(R.SearchBar,{indexPatterns:u,placeholder:D.b.alertsSearchBar.placeholder,query:{query:null!=l?l:"",language:o},timeHistory:s,dateRangeFrom:t,dateRangeTo:a,onRefresh:({dateRange:e})=>{i({dateRange:e,query:l})},onQuerySubmit:({dateRange:e,query:t})=>{var a;i({dateRange:e,query:"string"==typeof(null==t?void 0:t.query)?t.query:""}),c(null!==(a=null==t?void 0:t.language)&&void 0!==a?a:"kuery")},displayStyle:"inPage"})}var z=a(76);const B="xpack.observability.alert.ack.experimental.message";function U(){const[e,t]=Object(r.useState)((()=>{try{const e=localStorage.getItem(B);return e&&!0===JSON.parse(e)}catch{return!1}}));return n.a.createElement(n.a.Fragment,null,!e&&n.a.createElement(w.EuiCallOut,{"data-test-subj":"o11yExperimentalDisclaimer",title:i.i18n.translate("xpack.observability.alertsDisclaimerTitle",{defaultMessage:"Technical preview"}),color:"warning"},n.a.createElement(z.FormattedMessage,{id:"xpack.observability.alertsDisclaimerText",defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but features in technical preview are not subject to the support SLA of official GA features. Provide {feedback}.",values:{feedback:n.a.createElement(w.EuiLink,{href:"https://discuss.elastic.co/c/observability/82",target:"_blank"},i.i18n.translate("xpack.observability.alertsDisclaimerLinkText",{defaultMessage:"feedback"}))}}),n.a.createElement(w.EuiSpacer,{size:"l"}),n.a.createElement(w.EuiButton,{"data-test-subj":"o11yExperimentalDisclaimerDismissBtn",color:"warning",onClick:()=>{t(!0),localStorage.setItem(B,"true")},tabIndex:0},i.i18n.translate("xpack.observability.alertsDisclaimerDismissMessage",{defaultMessage:"Dismiss message"}))))}const q=i.i18n.translate("xpack.observability.hoverActions.filterForValueButtonLabel",{defaultMessage:"Filter in"}),$=n.a.memo((({Component:e,field:t,value:a,addToQuery:i})=>{const l=Object(r.useMemo)((()=>`${t}${null!=a?`: "${a}"`:""}`),[t,a]),s=Object(r.useCallback)((()=>{i(l)}),[l,i]);return Object(r.useMemo)((()=>e?n.a.createElement(e,{"aria-label":q,"data-test-subj":"filterForValue",iconType:"plusInCircle",onClick:s,title:q},q):n.a.createElement(w.EuiButtonIcon,{"aria-label":q,className:"timelines__hoverActionButton","data-test-subj":"filterForValue",iconSize:"s",iconType:"plusInCircle",onClick:s})),[e,s])}));$.displayName="FilterForValueButton";a(83);i.i18n.translate("xpack.observability.hoverActions.filterForValue",{defaultMessage:"Filter for value"});const V={status:"",query:"",label:i.i18n.translate("xpack.observability.alerts.alertStatusFilter.showAll",{defaultMessage:"Show all"})},G={status:O.ALERT_STATUS_ACTIVE,query:`${O.ALERT_STATUS}: "${O.ALERT_STATUS_ACTIVE}"`,label:i.i18n.translate("xpack.observability.alerts.alertStatusFilter.active",{defaultMessage:"Active"})},H={status:O.ALERT_STATUS_RECOVERED,query:`${O.ALERT_STATUS}: "${O.ALERT_STATUS_RECOVERED}"`,label:i.i18n.translate("xpack.observability.alerts.alertStatusFilter.recovered",{defaultMessage:"Recovered"})},W=[{id:V.status,label:V.label,value:V.query,"data-test-subj":"alert-status-filter-show-all-button"},{id:G.status,label:G.label,value:G.query,"data-test-subj":"alert-status-filter-active-button"},{id:H.status,label:H.label,value:H.query,"data-test-subj":"alert-status-filter-recovered-button"}];function K({status:e,onChange:t}){return n.a.createElement(w.EuiButtonGroup,{legend:"Filter by",color:"primary",options:W,idSelected:e,onChange:t})}var J=a(139),Q=a.n(J),X=a(84),Y=a(115),Z=a(47),ee=a(21),te=a(89);function ae(){const{services:e}=Object(d.useKibana)();return e.data.query.timefilter.timefilter}var ie=a(55);function re({docsLink:e,basePath:t,hasData:a}){if(!1===a)return{solution:i.i18n.translate("xpack.observability.noDataConfig.solutionName",{defaultMessage:"Observability"}),actions:{elasticAgent:{title:i.i18n.translate("xpack.observability.noDataConfig.beatsCard.title",{defaultMessage:"Add integrations"}),description:i.i18n.translate("xpack.observability.noDataConfig.beatsCard.description",{defaultMessage:"Use Beats and APM agents to send observability data to Elasticsearch. We make it easy with support for many popular systems, apps, and languages."}),href:t.prepend("/app/integrations/browse")}},docsLink:e}}var ne=a(110);function le(){const{appMountParameters:{setHeaderActionMenu:e,theme$:t},core:{http:{basePath:{prepend:a}}}}=Object(T.a)();return n.a.createElement(ne.default,{setHeaderActionMenu:e,theme$:t},n.a.createElement(w.EuiHeaderLinks,null,n.a.createElement(w.EuiHeaderLink,{color:"primary",href:a("/app/integrations/browse"),iconType:"indexOpen"},se)))}const se=i.i18n.translate("xpack.observability.home.addData",{defaultMessage:"Add integrations"});function oe(){const{ObservabilityPageTemplate:e}=Object(T.a)();return n.a.createElement(e,{template:"centeredContent",showSolutionNav:!1},n.a.createElement(le,null),n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiLoadingSpinner,{size:"xl"})),n.a.createElement(w.EuiFlexItem,{grow:!1,style:{justifyContent:"center"}},n.a.createElement(w.EuiText,null,ce))))}const ce=i.i18n.translate("xpack.observability.overview.loadingObservability",{defaultMessage:"Loading Observability"});var ue=a(17),de=a.n(ue),me=a(20),pe=a.n(me);const be=(e,t)=>t&&e[t]?{crud:"apm"===t?e[t]["alerting:save"]:e[t].save,read:"apm"===t?e[t]["alerting:show"]:e[t].show,loading:!1,featureId:t}:{crud:!1,read:!1,loading:!1,featureId:t};function ge(){const[e,t]=Object(r.useState)(null),a=Object(v.a)().services.application.capabilities;return Object(r.useEffect)((()=>{var e,i;const r="boolean"==typeof(null===(e=a[y.casesFeatureId])||void 0===e?void 0:e.crud_cases)&&a[y.casesFeatureId].crud_cases,n="boolean"==typeof(null===(i=a[y.casesFeatureId])||void 0===i?void 0:i.read_cases)&&a[y.casesFeatureId].read_cases;t({crud:r,read:n})}),[a]),e}const fe=e=>e.id===O.ALERT_REASON?{...e,displayAsText:D.b.alertsTable.reasonColumnDescription}:e.id===O.ALERT_DURATION?{...e,displayAsText:D.b.alertsTable.durationColumnDescription}:e.id===O.ALERT_STATUS?{...e,displayAsText:D.b.alertsTable.statusColumnDescription}:e.id===O.TIMESTAMP?{...e,displayAsText:D.b.alertsTable.lastUpdatedColumnDescription}:e,Ee="xpack.observability.alert.tableState",ye=pe.a.div.attrs((({className:e=""})=>({className:`siemEventsTable__thContent ${e}`}))).withConfig({displayName:"EventsThContent",componentId:"sc-9d5m0f-0"})(["font-size:",";font-weight:",";line-height:",";min-width:0;padding:",";text-align:",";width:",";> button.euiButtonIcon,> .euiToolTipAnchor > button.euiButtonIcon{margin-left:",";}"],(({theme:e})=>e.eui.euiFontSizeXS),(({theme:e})=>e.eui.euiFontWeightBold),(({theme:e})=>e.eui.euiLineHeight),(({theme:e})=>e.eui.paddingSizes.xs),(({textAlign:e})=>e),(({width:e})=>null!=e?`${e}px`:"100%"),(({theme:e})=>`-${e.eui.paddingSizes.xs}`)),ve=[{columnHeaderType:"not-filtered",displayAsText:D.b.alertsTable.statusColumnDescription,id:O.ALERT_STATUS,initialWidth:110},{columnHeaderType:"not-filtered",displayAsText:D.b.alertsTable.lastUpdatedColumnDescription,id:O.TIMESTAMP,initialWidth:230},{columnHeaderType:"not-filtered",displayAsText:D.b.alertsTable.durationColumnDescription,id:O.ALERT_DURATION,initialWidth:116},{columnHeaderType:"not-filtered",displayAsText:D.b.alertsTable.reasonColumnDescription,id:O.ALERT_REASON,linkField:"*"}],he=[],xe=[];function Te({data:e,eventId:t,ecsData:a,setFlyoutAlert:i}){var l,s;const{core:o,observabilityRuleTypeRegistry:c}=Object(T.a)(),u=e.reduce(((e,t)=>({...e,[t.field]:t.value})),{}),[m,p]=Object(r.useState)(null),{timelines:b,application:{}}=Object(d.useKibana)().services,g=Object(r.useMemo)((()=>Object(L.a)(c)),[c])(u),{prepend:f}=o.http.basePath,E=Object(r.useCallback)((()=>{p(null)}),[]),v=Object(r.useCallback)((()=>{p(null)}),[]),h=Object(r.useCallback)((e=>{p((t=>t?null:e))}),[]),x=ge(),k=Object(r.useMemo)((()=>({data:e,_id:t,ecs:a})),[e,t,a]),S=null!==(l=g.fields["kibana.alert.rule.uuid"])&&void 0!==l?l:null,O=S?f(D.a.management.ruleDetails(S)):null,F=Object(r.useMemo)((()=>[...null!=x&&x.crud?[b.getAddToExistingCaseButton({event:k,casePermissions:x,appId:y.observabilityFeatureId,owner:y.observabilityFeatureId,onClose:E}),b.getAddToNewCaseButton({event:k,casePermissions:x,appId:y.observabilityFeatureId,owner:y.observabilityFeatureId,onClose:E})]:[],...O?[n.a.createElement(w.EuiContextMenuItem,{key:"viewRuleDetails","data-test-subj":"viewRuleDetails",href:O},D.b.alertsTable.viewRuleDetailsButtonText)]:[]]),[E,x,b,k,O]),I=F.length<=0?D.b.alertsTable.notEnoughPermissions:D.b.alertsTable.moreActionsTextLabel;return n.a.createElement(n.a.Fragment,null,n.a.createElement(w.EuiFlexGroup,{gutterSize:"none",responsive:!1},n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiToolTip,{content:D.b.alertsTable.viewDetailsTextLabel},n.a.createElement(w.EuiButtonIcon,{size:"s",iconType:"expand",color:"text",onClick:()=>i(g),"data-test-subj":"openFlyoutButton","aria-label":D.b.alertsTable.viewDetailsTextLabel}))),n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiToolTip,{content:D.b.alertsTable.viewInAppTextLabel},n.a.createElement(w.EuiButtonIcon,{size:"s",href:f(null!==(s=g.link)&&void 0!==s?s:""),iconType:"eye",color:"text","aria-label":D.b.alertsTable.viewInAppTextLabel}))),n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiPopover,{button:n.a.createElement(w.EuiToolTip,{content:I},n.a.createElement(w.EuiButtonIcon,{display:"empty",size:"s",color:"text",iconType:"boxesHorizontal","aria-label":I,onClick:()=>h(t),"data-test-subj":"alertsTableRowActionMore"})),isOpen:m===t,closePopover:v,panelPaddingSize:"none",anchorPosition:"downLeft"},n.a.createElement(w.EuiContextMenuPanel,{size:"s",items:F})))))}const ke=["@timestamp","signal.rule.risk_score","signal.reason","kibana.alert.duration.us","kibana.alert.reason"];function Se(e){var t;const{indexNames:a,rangeFrom:i,rangeTo:l,kuery:s,setRefetch:o}=e,{timelines:c,application:{capabilities:u}}=Object(d.useKibana)().services,[m,p]=Object(r.useState)(void 0),[b,g]=Object(r.useState)(JSON.parse(null!==(t=localStorage.getItem(Ee))&&void 0!==t?t:"null")),f=ge(),E=Object(r.useCallback)((({ruleConsumer:e,ruleProducer:t})=>"alerts"===e&&t?be(u,t).crud:be(u,e).crud),[u]),[v,h]=Object(r.useState)([]);Object(r.useEffect)((()=>{if(b){var e;const t=JSON.stringify({...b,columns:null===(e=b.columns)||void 0===e?void 0:e.map((e=>Object(S.pick)(e,["columnHeaderType","displayAsText","id","initialWidth","linkField"])))});t!==localStorage.getItem(Ee)&&localStorage.setItem(Ee,t)}}),[b]);const x=Object(r.useCallback)((e=>{e.isDeleted&&h((t=>[...t,...e.eventIds]))}),[]),w=Object(r.useMemo)((()=>[{id:"expand",width:120,headerCellRender:()=>n.a.createElement(ye,null,D.b.alertsTable.actionsTextLabel),rowCellRender:e=>n.a.createElement(Te,de()({},e,{setEventsDeleted:x,setFlyoutAlert:p}))}]),[x]),F=Object(r.useCallback)((e=>{const t=Object(S.pick)(e.timelineById["standalone-t-grid"],["columns","sort","selectedEventIds"]);JSON.stringify(t)!==JSON.stringify(b)&&g(t)}),[b]),I=Object(r.useMemo)((()=>{var e,t;return{appId:y.observabilityAppId,casesOwner:y.observabilityFeatureId,casePermissions:f,type:"standalone",columns:(null!==(e=null==b?void 0:b.columns)&&void 0!==e?e:ve).map(fe),deletedEventIds:v,disabledCellActions:ke,end:l,filters:[],hasAlertsCrudPermissions:E,indexNames:a,itemsPerPageOptions:[10,25,50],loadingText:D.b.alertsTable.loadingTextLabel,footerText:D.b.alertsTable.footerTextLabel,onStateChange:F,query:{query:s,language:"kuery"},renderCellValue:P({setFlyoutAlert:p}),rowRenderers:he,runtimeMappings:{},start:i,setRefetch:o,showCheckboxes:!1,sort:null!==(t=null==b?void 0:b.sort)&&void 0!==t?t:[{columnId:"@timestamp",columnType:"date",sortDirection:"desc"}],queryFields:[O.ALERT_DURATION,O.ALERT_EVALUATION_THRESHOLD,O.ALERT_EVALUATION_VALUE,O.ALERT_REASON,O.ALERT_RULE_CATEGORY,O.ALERT_RULE_NAME,O.ALERT_STATUS,O.ALERT_UUID,O.ALERT_START,O.TIMESTAMP],leadingControlColumns:w,trailingControlColumns:xe,unit:e=>D.b.alertsTable.showingAlertsTitle(e)}}),[f,l,E,a,s,i,o,w,v,F,b]),{observabilityRuleTypeRegistry:j}=Object(T.a)();return n.a.createElement(n.a.Fragment,null,m&&n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(k.LazyAlertsFlyout,{alert:m,observabilityRuleTypeRegistry:j,onClose:()=>p(void 0)})),c.getTGrid(I))}const we={rangeFrom:"now-15m",rangeTo:"now",kuery:""},Oe=Object(m.createStateContainer)(we,{setRangeFrom:e=>t=>({...e,rangeFrom:t}),setRangeTo:e=>t=>({...e,rangeTo:t}),setKuery:e=>t=>({...e,kuery:t})}),{Provider:Fe,useContainer:Ie}=Object(m.createStateContainerReactHelpers)();function je(){const e=Ie();!function(e){const t=Object(o.useHistory)(),a=ae();Object(r.useEffect)((()=>{const i=Object(m.createKbnUrlStateStorage)({history:t,useHash:!1,useHashQuery:!1}),{start:r,stop:n}=function(e,t){const a=t=>{e.set({...we,...t})};return Object(m.syncState)({storageKey:"_a",stateContainer:{...e,set:a},stateStorage:t})}(e,i);return r(),function(e,t,a){const i=a.get("_a");if(i){const e={...we,...i};t.set(e)}else if(e.isTimeTouched()){const{from:a,to:i}=e.getTime(),r={...we,rangeFrom:a,rangeTo:i};t.set(r)}else t.set(we);a.set("_a",t.get())}(a,e,i),n}),[e,t,a])}(e);const{setRangeFrom:t,setRangeTo:a,setKuery:i}=e.transitions,{rangeFrom:n,rangeTo:l,kuery:s}=Object(m.useContainerSelector)(e,(e=>e));return{rangeFrom:n,setRangeFrom:t,rangeTo:l,setRangeTo:a,kuery:s,setKuery:i}}a(134);const Me=u.euiStyled.div`
  border-right: 1px solid ${({theme:e})=>e.eui.euiColorLightShade};
  height: 100%;
`,Ce=e=>e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),Ae=[],Le=[],_e=new RegExp(`\\s*${Ce(O.ALERT_STATUS)}\\s*:\\s*"(.*?|\\*?)"`),Pe=new RegExp(`\\s*and\\s*${Ce(O.ALERT_STATUS)}\\s*:\\s*(".+?"|\\*?)|${Ce(O.ALERT_STATUS)}\\s*:\\s*(".+?"|\\*?)`,"gm");function Re(){var e;const{core:t,plugins:a,ObservabilityPageTemplate:l}=Object(T.a)(),[s,o]=Object(r.useState)(""),{prepend:c}=t.http.basePath,u=Object(r.useRef)(),d=ae(),{rangeFrom:m,setRangeFrom:p,rangeTo:b,setRangeTo:g,kuery:f,setKuery:E}=je(),{http:y,notifications:{toasts:v}}=t,[h,x]=Object(r.useState)(!1),[k,S]=Object(r.useState)({total:0,disabled:0,muted:0,error:0});Object(r.useEffect)((()=>{M(f)}),[f]),Object(Z.a)([{text:i.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"})}]),Object(r.useEffect)((()=>{!async function(){x(!0);try{const e=await Object(X.loadAlertAggregations)({http:y}),{alertExecutionStatus:t,ruleMutedStatus:a,ruleEnabledStatus:i}=e;if(t&&a&&i){const e=Object.values(t).reduce(((e,t)=>e+t),0),{disabled:r}=i,{muted:n}=a,{error:l}=t;S({...k,total:e,disabled:r,muted:n,error:l})}x(!1)}catch(e){v.addDanger({title:i.i18n.translate("xpack.observability.alerts.ruleStats.loadError",{defaultMessage:"Unable to load rule stats"})}),x(!1)}}()}),[]);const O=c("/app/management/insightsAndAlerting/triggersActions/alerts"),{data:F=Ae}=Object(ee.b)((({signal:e})=>Object(ie.a)("GET /api/observability/rules/alerts/dynamic_index_pattern",{signal:e,params:{query:{namespace:"default",registrationContexts:["observability.apm","observability.logs","observability.metrics","observability.uptime"]}}})),[]),I=Q()((async()=>0===F.length?[]:[{id:"dynamic-observability-alerts-table-index-pattern",title:F.join(","),fields:await a.data.indexPatterns.getFieldsForWildcard({pattern:F.join(","),allowNoIndex:!0})}]),[F]),j=Object(r.useCallback)((({dateRange:e,query:t})=>{if(m===e.from&&b===e.to&&f===(null!=t?t:""))return u.current&&u.current();d.setTime(e),p(e.from),g(e.to),E(t),M(t)}),[m,p,b,g,f,E,d]),M=e=>{const[,t]=_e.exec(e)||[];o(t?t.toLowerCase():"")},C=Object(r.useCallback)(((e,t)=>{o(e);let a=f;if(""===f)a=t;else{a=`${f.replace(Pe,"")} and ${t}`}j({dateRange:{from:m,to:b},query:a.replace(/^\s*and\s*|\s*and\s*$/gm,"")})}),[f,j,m,b]),A=Object(r.useCallback)((e=>{u.current=e}),[]),{hasAnyData:L,isAllRequestsComplete:_}=Object(te.a)(),P=!0===L||!1===_&&void 0;if(!L&&!_)return n.a.createElement(oe,null);const R=re({hasData:P,basePath:t.http.basePath,docsLink:t.docLinks.links.observability.guide});return n.a.createElement(l,{noDataConfig:R,"data-test-subj":R?"noDataPage":void 0,pageHeader:{pageTitle:n.a.createElement(n.a.Fragment,null,i.i18n.translate("xpack.observability.alertsTitle",{defaultMessage:"Alerts"})," ",n.a.createElement(Y.a,null)),rightSideItems:[n.a.createElement(w.EuiStat,{title:k.total,description:i.i18n.translate("xpack.observability.alerts.ruleStats.ruleCount",{defaultMessage:"Rule count"}),color:"primary",titleSize:"xs",isLoading:h,"data-test-subj":"statRuleCount"}),n.a.createElement(w.EuiStat,{title:k.disabled,description:i.i18n.translate("xpack.observability.alerts.ruleStats.disabled",{defaultMessage:"Disabled"}),color:"primary",titleSize:"xs",isLoading:h,"data-test-subj":"statDisabled"}),n.a.createElement(w.EuiStat,{title:k.muted,description:i.i18n.translate("xpack.observability.alerts.ruleStats.muted",{defaultMessage:"Muted"}),color:"primary",titleSize:"xs",isLoading:h,"data-test-subj":"statMuted"}),n.a.createElement(w.EuiStat,{title:k.error,description:i.i18n.translate("xpack.observability.alerts.ruleStats.errors",{defaultMessage:"Errors"}),color:"primary",titleSize:"xs",isLoading:h,"data-test-subj":"statErrors"}),n.a.createElement(Me,null),n.a.createElement(w.EuiButtonEmpty,{href:O},i.i18n.translate("xpack.observability.alerts.manageRulesButtonLabel",{defaultMessage:"Manage Rules"}))].reverse()}},n.a.createElement(w.EuiFlexGroup,{direction:"column",gutterSize:"s"},n.a.createElement(w.EuiFlexItem,null,n.a.createElement(U,null)),n.a.createElement(w.EuiFlexItem,null,n.a.createElement(N,{dynamicIndexPatterns:null!==(e=I.value)&&void 0!==e?e:Le,rangeFrom:m,rangeTo:b,query:f,onQueryChange:j})),n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(K,{status:s,onChange:C})))),n.a.createElement(w.EuiFlexItem,null,n.a.createElement(Se,{indexNames:F,rangeFrom:m,rangeTo:b,kuery:f,setRefetch:A}))))}function De(){return n.a.createElement(Fe,{value:Oe},n.a.createElement(Re,null))}const Ne="/internal/rac/alerts",ze=({paramsForApiCall:e,initialDataState:t,executeApiCall:a,shouldExecuteApiCall:i})=>{const{http:n}=Object(v.a)().services,[l,s]=Object(r.useState)(!1),[o,c]=Object(r.useState)(t),{fetch:u,cancel:d}=Object(r.useMemo)((()=>{const t=new AbortController;let r=!1;return{fetch:async()=>{if(i(e)){s(!0);const i=await a(e,t,n);r||(s(!1),c(i))}},cancel:()=>{r=!0,t.abort()}}}),[a,n,e,i]);return Object(r.useEffect)((()=>(u(),()=>{d()})),[u,d]),{loading:l,data:o}},Be=async(e,t,a)=>{const{id:i,ruleType:r}=e;try{const e=await a.get(Ne,{query:{id:i},signal:t.signal});if(void 0!==e)return Object(L.a)(r)(e)}catch(e){}return null},Ue=e=>{const t=Object(r.useMemo)((()=>Ve(e)),[e]),a=Object(r.useCallback)((e=>e.length>0),[]),{loading:i,data:n}=ze({paramsForApiCall:t,initialDataState:void 0,executeApiCall:qe,shouldExecuteApiCall:a});return[i,null!=n?n:{}]},qe=async(e,t,a)=>{try{const i=await a.post("/internal/rac/alerts/find",{body:JSON.stringify({query:{ids:{values:e}},track_total_hits:!1,size:1e4}),signal:t.signal});if(i)return $e(i)}catch(e){}},$e=e=>e.hits.hits.reduce(((e,{_id:t,_index:a,_source:i})=>({...e,[t]:{_id:t,_index:a,...i}})),{}),Ve=e=>e.filter((e=>!Object(S.isEmpty)(e))),Ge=n.a.memo((({userCanCrud:e})=>{const{cases:t,application:{getUrlForApp:a,navigateToApp:i}}=Object(v.a)().services,{observabilityRuleTypeRegistry:l}=Object(T.a)(),[s,o]=Object(r.useState)(""),c=Object(r.useCallback)((()=>{o("")}),[]),[u,d]=(e=>{const{observabilityRuleTypeRegistry:t}=Object(T.a)(),a=Object(r.useMemo)((()=>({id:e,ruleType:t})),[e,t]),i=Object(r.useCallback)((e=>!Object(S.isEmpty)(e.id)),[]),{loading:n,data:l}=ze({paramsForApiCall:a,initialDataState:null,executeApiCall:Be,shouldExecuteApiCall:i});return[n,l]})(s);return n.a.createElement(n.a.Fragment,null,!1===u&&d&&""!==s&&n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(k.LazyAlertsFlyout,{alert:d,observabilityRuleTypeRegistry:l,onClose:c})),t.getCases({basePath:x,userCanCrud:e,owner:[h],features:{alerts:{sync:!1}},useFetchAlertData:Ue,showAlertDetails:e=>{o(e)},ruleDetailsNavigation:{href:e=>a("management",{path:`/insightsAndAlerting/triggersActions/rule/${e}`}),onClick:async(e,t)=>(null!=t&&t.preventDefault(),i("management",{path:`/insightsAndAlerting/triggersActions/rule/${e}`}))}}))}));Ge.displayName="Cases";const He=pe()(w.EuiEmptyPrompt).withConfig({displayName:"EmptyPrompt",componentId:"sc-lbahp1-0"})(["align-self:center;max-width:60em;"]);He.displayName="EmptyPrompt";const We=n.a.memo((({actions:e,message:t,title:a,...i})=>{const l=Object.keys(e),s=Object(r.useMemo)((()=>Object.values(e).filter((e=>e.label&&e.url)).map((({icon:e,label:t,target:a,url:i,descriptionTitle:r,description:s,onClick:o,fill:c=!0},u)=>null!=r||null!=s?n.a.createElement(w.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`emptyPageAction-${l[u]}`},n.a.createElement(w.EuiCard,{title:null!=r&&r,description:null!=s&&s,footer:n.a.createElement(w.EuiButton,{href:i,onClick:o,iconType:e,target:a,fill:c,"data-test-subj":`emptyPageAction-${l[u]}`},t)})):n.a.createElement(w.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`emptyPageAction-${l[u]}`},n.a.createElement(w.EuiButton,{href:i,onClick:o,iconType:e,target:a,"data-test-subj":`emptyPageAction-${l[u]}`},t))))),[e,l]);return n.a.createElement(He,de()({iconType:"logoObservability",title:n.a.createElement("h2",null,a),body:t&&n.a.createElement("p",null,t),actions:n.a.createElement(w.EuiFlexGroup,{justifyContent:"center"},s)},i))}));We.displayName="EmptyPageComponent";const Ke=n.a.memo(We);Ke.displayName="EmptyPage";const Je=i.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsTitle",{defaultMessage:"Kibana feature privileges required"}),Qe=i.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsMessage",{defaultMessage:"To view cases, you must have privileges for the Cases feature in the Kibana space. For more information, contact your Kibana administrator."}),Xe=i.i18n.translate("xpack.observability.cases.caseView.goToDocumentationButton",{defaultMessage:"View documentation"}),Ye=n.a.memo((()=>{const e=Object(v.a)().services.docLinks,t=Object(r.useMemo)((()=>({savedObject:{icon:"documents",label:Xe,url:`${e.ELASTIC_WEBSITE_URL}guide/en/security/${e.DOC_LINK_VERSION}s`,target:"_blank"}})),[e]);return n.a.createElement(Ke,{actions:t,message:Qe,"data-test-subj":"noFeaturePermissions",title:Je})}));Ye.displayName="CaseSavedObjectNoPermissions";const Ze=n.a.memo((()=>{var e;const t=ge(),{core:a,ObservabilityPageTemplate:i}=Object(T.a)(),{hasAnyData:r,isAllRequestsComplete:l}=Object(te.a)();if(!r&&!l)return n.a.createElement(oe,null);const s=re({hasData:!0===r||!1===l&&void 0,basePath:a.http.basePath,docsLink:a.docLinks.links.observability.guide});return null==t||null!=t&&t.read?n.a.createElement(i,{"data-test-subj":s?"noDataPage":void 0,noDataConfig:s},n.a.createElement(Ge,{userCanCrud:null!==(e=null==t?void 0:t.crud)&&void 0!==e&&e})):n.a.createElement(Ye,null)}));function et(){const e=Object(o.useHistory)(),{hasAnyData:t,isAllRequestsComplete:a}=Object(te.a)();return Object(r.useEffect)((()=>{!0===t?e.replace({pathname:"/overview"}):!1===t&&!0===a&&e.replace({pathname:"/landing"})}),[t,a,e]),n.a.createElement(oe,null)}Ze.displayName="CasesPage";var tt=a(28);a(142);function at(){Object(tt.c)({app:"observability-overview",path:"landing"}),Object(tt.c)({app:"observability-overview",path:"landing",delay:15e3}),Object(Z.a)([{text:i.i18n.translate("xpack.observability.breadcrumbs.landingLinkText",{defaultMessage:"Getting started"})}]);const{core:e,ObservabilityPageTemplate:t}=Object(T.a)(),a=re({hasData:!1,basePath:e.http.basePath,docsLink:e.docLinks.links.observability.guide});return n.a.createElement(t,{noDataConfig:a,restrictWidth:!0,showSolutionNav:!1})}const it=({core:e})=>[{id:"infra_logs",title:i.i18n.translate("xpack.observability.emptySection.apps.logs.title",{defaultMessage:"Logs"}),icon:"logoLogging",description:i.i18n.translate("xpack.observability.emptySection.apps.logs.description",{defaultMessage:"Centralize logs from any source. Search, tail, automate anomaly detection, and visualize trends so you can take action quicker."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.logs.link",{defaultMessage:"Install Filebeat"}),href:e.http.basePath.prepend("/app/home#/tutorial_directory/logging")},{id:"apm",title:i.i18n.translate("xpack.observability.emptySection.apps.apm.title",{defaultMessage:"APM"}),icon:"logoObservability",description:i.i18n.translate("xpack.observability.emptySection.apps.apm.description",{defaultMessage:"Trace transactions through a distributed architecture and map your servicesâ€™ interactions to easily spot performance bottlenecks."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.apm.link",{defaultMessage:"Install Agent"}),href:e.http.basePath.prepend("/app/home#/tutorial/apm")},{id:"infra_metrics",title:i.i18n.translate("xpack.observability.emptySection.apps.metrics.title",{defaultMessage:"Metrics"}),icon:"logoMetrics",description:i.i18n.translate("xpack.observability.emptySection.apps.metrics.description",{defaultMessage:"Analyze metrics from your infrastructure, apps, and services. Discover trends, forecast behavior, get alerts on anomalies, and more."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.metrics.link",{defaultMessage:"Install Metricbeat"}),href:e.http.basePath.prepend("/app/home#/tutorial_directory/metrics")},{id:"synthetics",title:i.i18n.translate("xpack.observability.emptySection.apps.uptime.title",{defaultMessage:"Uptime"}),icon:"logoUptime",description:i.i18n.translate("xpack.observability.emptySection.apps.uptime.description",{defaultMessage:"Proactively monitor the availability of your sites and services. Receive alerts and resolve issues faster to optimize your usersâ€™ experience."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.uptime.link",{defaultMessage:"Install Heartbeat"}),href:e.http.basePath.prepend("/app/home#/tutorial/uptimeMonitors")},{id:"ux",title:i.i18n.translate("xpack.observability.emptySection.apps.ux.title",{defaultMessage:"User Experience"}),icon:"logoObservability",description:i.i18n.translate("xpack.observability.emptySection.apps.ux.description",{defaultMessage:"Performance is a distribution. Measure the experiences of all visitors to your web application and understand how to improve the experience for everyone."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.ux.link",{defaultMessage:"Install RUM Agent"}),href:e.http.basePath.prepend("/app/home#/tutorial/apm")},{id:"alert",title:i.i18n.translate("xpack.observability.emptySection.apps.alert.title",{defaultMessage:"No alerts found."}),icon:"watchesApp",description:i.i18n.translate("xpack.observability.emptySection.apps.alert.description",{defaultMessage:"Are 503 errors stacking up? Are services responding? Is CPU and RAM utilization jumping? See warnings as they happenâ€”not as part of the post-mortem."}),linkTitle:i.i18n.translate("xpack.observability.emptySection.apps.alert.link",{defaultMessage:"Create rule"}),href:e.http.basePath.prepend("/app/management/insightsAndAlerting/triggersActions/alerts")}];function rt({section:e}){return n.a.createElement(w.EuiEmptyPrompt,{style:{maxWidth:"none"},title:n.a.createElement("h2",null,e.title),titleSize:"xs",body:n.a.createElement(w.EuiText,{color:"default"},e.description),actions:n.a.createElement(n.a.Fragment,null,e.linkTitle&&n.a.createElement(w.EuiButton,{size:"s",color:"primary",fill:!0,href:e.href,target:e.target,"data-test-subj":`empty-${e.id}`},e.linkTitle))})}function nt(){const{core:e}=Object(T.a)(),t=Object(r.useContext)(me.ThemeContext),{hasDataMap:a}=Object(te.a)(),i=it({core:e}).filter((({id:e})=>{const t=a[e];return!!t&&(t.status===ee.a.FAILURE||!t.hasData)}));return n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiSpacer,{size:"s"}),n.a.createElement(w.EuiFlexGrid,{columns:i.length>2?2:1,gutterSize:"s"},i.map((e=>n.a.createElement(w.EuiFlexItem,{key:e.id,style:{border:`${t.eui.euiBorderEditable}`,borderRadius:`${t.eui.euiBorderRadius}`}},n.a.createElement(rt,{section:e}))))))}a(147);function lt({items:e}){return n.a.createElement(w.EuiErrorBoundary,null,n.a.createElement(w.EuiFlexGroup,{direction:"column",gutterSize:"s"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiTitle,{size:"xs"},n.a.createElement("h4",null,i.i18n.translate("xpack.observability.news.title",{defaultMessage:"What's new"})))),e.map(((e,t)=>n.a.createElement(w.EuiFlexItem,{key:t,grow:!1},n.a.createElement(st,{item:e}))))))}function st({item:e}){var t;const a=Object(r.useContext)(me.ThemeContext);return n.a.createElement(w.EuiFlexGroup,{direction:"column",gutterSize:"s"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiTitle,{size:"xxxs"},n.a.createElement("h4",null,e.title.en))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiFlexGroup,{gutterSize:"s"},n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiFlexGroup,{direction:"column",gutterSize:"s",alignItems:"baseline"},n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiText,{grow:!1,size:"xs",color:"subdued"},(l=e.description.en,s=128,Object(S.truncate)(l,{length:s})))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiText,{size:"xs"},n.a.createElement(w.EuiLink,{href:e.link_url.en,target:"_blank",external:!0},i.i18n.translate("xpack.observability.news.readFullStory",{defaultMessage:"Read full story"})))))),(null===(t=e.image_url)||void 0===t?void 0:t.en)&&n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement("img",{"data-test-subj":"newsImage",style:{border:a.eui.euiBorderThin},width:48,height:48,alt:e.title.en,src:e.image_url.en,className:"obsNewsFeed__itemImg"})))),n.a.createElement(w.EuiHorizontalRule,{margin:"s"}));var l,s}const ot=[{iconType:"documents",label:i.i18n.translate("xpack.observability.resources.documentation",{defaultMessage:"Documentation"}),href:"https://ela.st/observability-documentation"},{iconType:"editorComment",label:i.i18n.translate("xpack.observability.resources.forum",{defaultMessage:"Discuss Forum"}),href:"https://ela.st/observability-discuss"},{iconType:"play",label:i.i18n.translate("xpack.observability.resources.quick_start",{defaultMessage:"Quick Start Videos"}),href:"https://ela.st/observability-quick-starts"},{iconType:"training",label:i.i18n.translate("xpack.observability.resources.training",{defaultMessage:"Free Observability Course"}),href:"https://ela.st/observability-training"}];function ct(){return n.a.createElement(w.EuiFlexGroup,{direction:"column",alignItems:"flexStart",gutterSize:"xs"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiTitle,{size:"xs"},n.a.createElement("h4",null,i.i18n.translate("xpack.observability.resources.title",{defaultMessage:"Resources"})))),n.a.createElement(w.EuiListGroup,{flush:!0,listItems:ot,"data-test-subj":"listGroup",size:"s"}))}var ut=a(22),dt=a.n(ut),mt=a(118);const pt="ALL_TYPES",bt={value:pt,text:i.i18n.translate("xpack.observability.overview.alert.allTypes",{defaultMessage:"All types"})};function gt(){const{config:e,core:t}=Object(T.a)(),[a,l]=Object(r.useState)(pt),s=e.unsafe.alertingExperience.enabled?t.http.basePath.prepend(D.a.observability.alerts):t.http.basePath.prepend(D.a.management.rules),{data:o,status:c}=Object(ee.b)((()=>Object(mt.a)({core:t})),[t]),u=Object(r.useMemo)((()=>null!=o?o:[]),[o]),d=Object(r.useMemo)((()=>u?Object(S.uniqBy)(u,(e=>e.consumer)).map((({consumer:e})=>({value:e,text:e}))):[]),[u]),m=c===ee.a.FAILURE;return c!==ee.a.SUCCESS&&!m?n.a.createElement(w.EuiFlexGroup,{alignItems:"center",justifyContent:"center",responsive:!1},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiLoadingSpinner,{size:"xl"}))):m?n.a.createElement(w.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",responsive:!1},n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiCallOut,{title:i.i18n.translate("xpack.observability.overview.alert.errorTitle",{defaultMessage:"We couldn't load the alert data"}),color:"danger",iconType:"alert"},n.a.createElement("p",null,n.a.createElement(z.FormattedMessage,{id:"xpack.observability.overview.alert.errorMessage",defaultMessage:"There was an error loading the alert data. Try again later."}))))):n.a.createElement("div",null,n.a.createElement(w.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",responsive:!1},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiTitle,{size:"xs"},n.a.createElement("h4",null,i.i18n.translate("xpack.observability.overview.alerts.title",{defaultMessage:"Alerts"})))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiButton,{size:"s",href:s},i.i18n.translate("xpack.observability.overview.alert.appLink",{defaultMessage:"Manage alerts"})))),n.a.createElement(n.a.Fragment,null,n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiSpacer,null),n.a.createElement(w.EuiSelect,{compressed:!0,fullWidth:!0,id:"filterAlerts",options:[bt,...d],value:a,onChange:e=>l(e.target.value)}),n.a.createElement(w.EuiSpacer,null)),u.filter((e=>a===pt||e.consumer===a)).map(((e,a)=>{const r=a===u.length-1;return n.a.createElement(w.EuiFlexGroup,{direction:"column",gutterSize:"s",key:e.id},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiLink,{href:t.http.basePath.prepend(D.a.management.alertDetails(e.id))},n.a.createElement(w.EuiText,{size:"s"},e.name))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiFlexGroup,{gutterSize:"xs"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiBadge,{color:"hollow"},e.alertTypeId)),e.tags.map(((e,t)=>n.a.createElement(w.EuiFlexItem,{key:t,grow:!1},n.a.createElement(w.EuiBadge,{color:"default"},e)))))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiFlexGroup,{gutterSize:"s"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiText,{color:"subdued",size:"xs"},"Updated ",dt.a.duration(dt()().diff(e.updatedAt)).humanize()," ago")),e.muteAll&&n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiIconTip,{type:"minusInCircle",content:i.i18n.translate("xpack.observability.overview.alerts.muted",{defaultMessage:"Muted"})})))),!r&&n.a.createElement(w.EuiHorizontalRule,{margin:"xs"}))}))))}var ft=a(39),Et=a(53);function yt(e){return e?Object(Et.parse)(e.slice(1),{sort:!1}):{}}function vt(e){const t=m.url.encodeQuery(e,(e=>encodeURIComponent(e).replace(/%3A/g,":")));return Object(Et.stringify)(t,{sort:!1,encode:!1})}function ht({rangeFrom:e,rangeTo:t,refreshPaused:a,refreshInterval:i}){const l=Object(o.useLocation)(),s=Object(o.useHistory)(),{plugins:c}=Object(T.a)(),{onRefreshTimeRange:u}=Object(te.a)();Object(r.useEffect)((()=>{c.data.query.timefilter.timefilter.setTime({from:e,to:t})}),[c,e,t]);const d=Object(ft.b)(ft.a.TIMEPICKER_QUICK_RANGES).map((({from:e,to:t,display:a})=>({start:e,end:t,label:a})));function m(e){s.push({...l,search:vt({...yt(l.search),...e})})}return n.a.createElement(w.EuiSuperDatePicker,{start:e,end:t,onTimeChange:function({start:e,end:t}){m({rangeFrom:e,rangeTo:t})},isPaused:a,refreshInterval:i,onRefreshChange:function({isPaused:e,refreshInterval:t}){m({refreshPaused:e,refreshInterval:t})},commonlyUsedRanges:d,onRefresh:u})}var xt=a(91);const Tt=dt.a.duration,kt=[[Tt(500,"ms"),Tt(100,"ms")],[Tt(5,"second"),Tt(1,"second")],[Tt(7.5,"second"),Tt(5,"second")],[Tt(15,"second"),Tt(10,"second")],[Tt(45,"second"),Tt(30,"second")],[Tt(3,"minute"),Tt(1,"minute")],[Tt(9,"minute"),Tt(5,"minute")],[Tt(20,"minute"),Tt(10,"minute")],[Tt(45,"minute"),Tt(30,"minute")],[Tt(2,"hour"),Tt(1,"hour")],[Tt(6,"hour"),Tt(3,"hour")],[Tt(24,"hour"),Tt(12,"hour")],[Tt(1,"week"),Tt(1,"d")],[Tt(3,"week"),Tt(1,"week")],[Tt(1,"year"),Tt(1,"month")],[1/0,Tt(1,"year")]].slice(0).reverse();function St(e,t,a){return(i,r)=>{const n=function(i,r){const n=r/i;let l=null;for(let i=0;i<e.length;i++){const r=e[i],s=t(r[0],r[1],n);if(null==s){if(!a)continue;if(l)return l;break}if(!a)return s;l=s}const s=Math.max(Math.floor(n),1);return dt.a.duration(s,"ms")}(i,r);if(n)return dt.a.duration(n._data)}}const wt={near:St(kt,(function(e,t,a){if(e>a)return t}),!0),lessThan:St(kt,(function(e,t,a){if(t<a)return t})),atLeast:St(kt,(function(e,t,a){if(t<=a)return t}))};function Ot(e,t){return dt.a.duration(e,t).asSeconds()}const Ft={ms:Ot(1,"millisecond"),s:Ot(1,"second"),m:Ot(1,"minute"),h:Ot(1,"hour"),d:Ot(1,"day"),w:Ot(1,"week"),M:Ot(1,"month"),y:Ot(1,"year")};function It({start:e,end:t,minInterval:a}){const i=dt.a.duration(t-e,"ms"),r=Math.max(wt.near(100,i).asSeconds(),1),n=`${r}s`,l=a&&a.match(/^([\d]+)([shmdwMy]|ms)$/),s=l?Number(l[1])*(o=l[2],Ft[o]):0;var o;return r<s?{bucketSize:s,intervalString:a}:{bucketSize:r,intervalString:n}}var jt=a(78),Mt=a(29),Ct=a.n(Mt);function At(){return n.a.createElement(w.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiText,{color:"subdued"},i.i18n.translate("xpack.observability.section.errorPanel",{defaultMessage:"An error happened when trying to fetch data. Please try again"}))))}function Lt({title:e,appLink:t,children:a,hasError:i}){const{core:r}=Object(T.a)();return n.a.createElement(w.EuiPanel,{hasBorder:!0},n.a.createElement(w.EuiAccordion,{initialIsOpen:!0,id:e,buttonContentClassName:"accordion-button",buttonContent:n.a.createElement(w.EuiTitle,{size:"s"},n.a.createElement("h5",null,e)),extraAction:(null==t?void 0:t.href)&&n.a.createElement(w.EuiButton,{size:"s",href:r.http.basePath.prepend(t.href)},t.label)},n.a.createElement(n.a.Fragment,null,n.a.createElement(w.EuiSpacer,{size:"s"}),n.a.createElement(w.EuiPanel,{hasShadow:!1,paddingSize:"s"},i?n.a.createElement(At,null):n.a.createElement(n.a.Fragment,null,a)))))}var _t=a(27),Pt=a(49);function Rt({isInitialLoad:e,children:t,iconSize:a="xl",height:i=170}){return e?n.a.createElement("div",{"data-test-subj":"loading",style:{height:i,display:"flex",alignItems:"center",justifyContent:"center"}},n.a.createElement(w.EuiLoadingChart,{size:a})):n.a.createElement(jt.Chart,{size:{height:i}},t)}const Dt=pe()(w.EuiStat).withConfig({displayName:"Stat",componentId:"sc-10wwbqs-0"})([".euiStat__title{color:",";}"],(e=>e.color)),Nt="--";function zt(e){const{description:t=Nt,title:a=Nt,...i}=e;return n.a.createElement(Dt,de()({description:t,title:a,titleSize:"s"},i))}const Bt=({x:e,history:t})=>{if(e){const a=e[0],i=e[1],r=yt(t.location.search),n={rangeFrom:new Date(a).toISOString(),rangeTo:new Date(i).toISOString()};t.push({...t.location,search:vt({...r,...n})})}};function Ut({bucketSize:e}){var t;const a=Object(r.useContext)(me.ThemeContext),l=Object(Pt.a)(),s=Object(o.useHistory)(),{forceUpdate:c,hasDataMap:u}=Object(te.a)(),{relativeStart:d,relativeEnd:m,absoluteStart:p,absoluteEnd:b}=Object(xt.a)(),{data:g,status:f}=Object(ee.b)((()=>{var t;if(e)return null===(t=Object(_t.a)("apm"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:p,end:b},relativeTime:{start:d,end:m},...e})}),[e,d,m,c]);if(null===(t=u.apm)||void 0===t||!t.hasData)return null;const{appLink:E,stats:y,series:v}=g||{},h=dt.a.utc(p).valueOf(),x=dt.a.utc(b).valueOf(),T=Object(jt.niceTimeFormatter)([h,x]),k=f===ee.a.LOADING,S=a.eui.euiColorVis1;return n.a.createElement(Lt,{title:i.i18n.translate("xpack.observability.overview.apm.title",{defaultMessage:"APM"}),appLink:{href:E,label:i.i18n.translate("xpack.observability.overview.apm.appLink",{defaultMessage:"View in app"})},hasError:f===ee.a.FAILURE},n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{title:Ct()(null==y?void 0:y.services.value).format("0a"),description:i.i18n.translate("xpack.observability.overview.apm.services",{defaultMessage:"Services"}),isLoading:k})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{title:`${O=null==y?void 0:y.transactions.value,O&&0!==O?O<=.1?"< 0.1":O>1e3?Ct()(O).format("0.00a"):Ct()(O).format("0,0.0"):"0"} tpm`,description:n.a.createElement(w.EuiToolTip,{content:i.i18n.translate("xpack.observability.overview.apm.throughputTip",{defaultMessage:'Values are calculated for transactions with type "Request" or "page-load". If neither are available, values reflect the top transaction type.'})},n.a.createElement(n.a.Fragment,null,i.i18n.translate("xpack.observability.overview.apm.throughput",{defaultMessage:"Throughput"})," ",n.a.createElement(w.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignCenter"}))),isLoading:k,color:S}))),n.a.createElement(Rt,{isInitialLoad:k&&!g},n.a.createElement(jt.Settings,{onBrushEnd:e=>Bt({x:e.x,history:s}),theme:l,showLegend:!1,xDomain:{min:h,max:x}}),(null==v?void 0:v.transactions.coordinates)&&n.a.createElement(n.a.Fragment,null,n.a.createElement(jt.BarSeries,{id:"transactions",name:"Transactions",data:null==v?void 0:v.transactions.coordinates,xScaleType:jt.ScaleType.Time,yScaleType:jt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:S}),n.a.createElement(jt.Axis,{id:"y-axis",position:jt.Position.Left,gridLine:{visible:!0},tickFormat:e=>`${function(e){return Ct()(e).format("0.00a")}(e)} tpm`}),n.a.createElement(jt.Axis,{id:"x-axis",position:jt.Position.Bottom,tickFormat:T}))));var O}function qt(e){const{value:t,type:a}=e;switch(a){case"bytesPerSecond":return`${Ct()(t).format("0.0b")}/s`;case"number":return Ct()(t).format("0a");case"percent":return Ct()(t).format("0.0%")}}function $t({bucketSize:e}){var t;const a=Object(o.useHistory)(),l=Object(Pt.a)(),{forceUpdate:s,hasDataMap:c}=Object(te.a)(),{relativeStart:u,relativeEnd:d,absoluteStart:m,absoluteEnd:p}=Object(xt.a)(),{data:b,status:g}=Object(ee.b)((()=>{var t;if(e)return null===(t=Object(_t.a)("infra_logs"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:m,end:p},relativeTime:{start:u,end:d},...e})}),[e,u,d,s]);if(null===(t=c.infra_logs)||void 0===t||!t.hasData)return null;const f=dt.a.utc(m).valueOf(),E=dt.a.utc(p).valueOf(),y=Object(jt.niceTimeFormatter)([f,E]),{appLink:v,stats:h,series:x}=b||{},T=function(e){if(!e)return{};const t=Object(w.euiPaletteColorBlind)({rotations:Math.ceil(Object.keys(e).length/10)});return Object.keys(e).reduce(((e,a,i)=>(e[a]=t[i],e)),{})}(x),k=g===ee.a.LOADING;return n.a.createElement(Lt,{title:i.i18n.translate("xpack.observability.overview.logs.title",{defaultMessage:"Logs"}),appLink:{href:v,label:i.i18n.translate("xpack.observability.overview.logs.appLink",{defaultMessage:"View in app"})},hasError:g===ee.a.FAILURE},n.a.createElement(w.EuiTitle,{size:"xs"},n.a.createElement("h4",null,i.i18n.translate("xpack.observability.overview.logs.subtitle",{defaultMessage:"Logs rate per minute"}))),n.a.createElement(w.EuiSpacer,{size:"s"}),n.a.createElement(w.EuiFlexGroup,null,!h||Object(S.isEmpty)(h)?n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{isLoading:k})):Object.keys(h).map((e=>{const t=h[e];return n.a.createElement(w.EuiFlexItem,{grow:!1,key:e},n.a.createElement(zt,{title:qt(t),description:t.label,isLoading:k,color:T[e]}))}))),n.a.createElement(Rt,{isInitialLoad:k&&!b},n.a.createElement(jt.Settings,{onBrushEnd:e=>Bt({x:e.x,history:a}),theme:l,showLegend:!0,legendPosition:jt.Position.Right,xDomain:{min:f,max:E},showLegendExtra:!0}),x&&Object.keys(x).map((e=>{const t=x[e],a=t.coordinates.map((e=>({...e,g:t.label})));return n.a.createElement(r.Fragment,{key:e},n.a.createElement(jt.BarSeries,{id:e,xScaleType:jt.ScaleType.Time,yScaleType:jt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],stackAccessors:["x"],splitSeriesAccessors:["g"],data:a,color:T[e]}),n.a.createElement(jt.Axis,{id:"x-axis",position:jt.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:y}),n.a.createElement(jt.Axis,{id:"y-axis",gridLine:{visible:!0},position:jt.Position.Left,tickFormat:e=>Ct()(e).format("0a")}))}))))}function Vt({name:e,id:t,timerange:a}){const i=`../../app/metrics/link-to/host-detail/${t}?from=${a.from}&to=${a.to}`;return n.a.createElement(n.a.Fragment,null,n.a.createElement("a",{href:i},e))}const Gt=3600,Ht=86400;var Wt=a(40);function Kt({id:e,formatter:t,value:a,timeseries:i,color:l}){var s,o;const c=Object(r.useContext)(me.ThemeContext),u=c&&c.darkMode||!1,d=[Wt.EUI_SPARKLINE_THEME_PARTIAL,u?Wt.EUI_CHARTS_THEME_DARK.theme:Wt.EUI_CHARTS_THEME_LIGHT.theme],m=null!==(s=null===(o=d[1].colors)||void 0===o?void 0:o.vizColors)&&void 0!==s?s:[];return a?n.a.createElement(w.EuiFlexGroup,{gutterSize:"m",responsive:!1},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(jt.Chart,{size:{height:18,width:40}},n.a.createElement(jt.Settings,{theme:d,showLegend:!1,tooltip:"none"}),n.a.createElement(jt.AreaSeries,{id:e,data:i,xAccessor:"timestamp",yAccessors:[e],color:m[l]||"#006BB4"}))),n.a.createElement(w.EuiFlexItem,{grow:!1,style:{whiteSpace:"nowrap"}},t(a))):n.a.createElement(w.EuiTextColor,{color:"subdued"},n.a.createElement(w.EuiIcon,{type:"visLine"}),"Â N/A")}const Jt=e=>null===e?"":Ct()(e).format("0[.0]%"),Qt=e=>null===e?"":Ct()(e).format("0[.0]"),Xt=e=>null===e?"":Ct()(e).format("0b")+"/s";function Yt({bucketSize:e}){var t,a;const{forceUpdate:l,hasDataMap:s}=Object(te.a)(),{relativeStart:o,relativeEnd:c,absoluteStart:u,absoluteEnd:d}=Object(xt.a)(),[m,p]=Object(r.useState)("asc"),[b,g]=Object(r.useState)("uptime"),[f,E]=Object(r.useState)(null),{data:y,status:v}=Object(ee.b)((()=>{var t;if(e)return null===(t=Object(_t.a)("infra_metrics"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:u,end:d},relativeTime:{start:o,end:c},...e})}),[e,o,c,l]),h=Object(r.useCallback)((({sort:e})=>{if(e){const{field:t,direction:a}=e;g(t),p(a),y&&(async()=>{const e=await y.sort(t,a);E(e||null)})()}}),[y,g,p]);if(null===(t=s.infra_metrics)||void 0===t||!t.hasData)return null;const x=v===ee.a.LOADING,T=v===ee.a.LOADING;if(x||T)return n.a.createElement("pre",null,"Loading");if(!y)return n.a.createElement("pre",null,"No Data");const k=[{field:"uptime",name:i.i18n.translate("xpack.observability.overview.metrics.colunms.uptime",{defaultMessage:"Uptime"}),sortable:!0,width:"80px",render:e=>{return null==e?"N/A":(t=e/1e3)<60?`${Math.floor(t)}s`:t<Gt?`${Math.floor(t/60)}m ${Math.floor(t%60)}s`:t<Ht?`${Math.floor(t/Gt)}h ${Math.floor(t%Gt/60)}m`:`${Math.floor(t/Ht)}d ${Math.floor(t%Ht/Gt)}h`;var t}},{field:"name",name:i.i18n.translate("xpack.observability.overview.metrics.colunms.hostname",{defaultMessage:"Hostname"}),sortable:!0,truncateText:!0,isExpander:!0,textOnly:!0,render:(e,t)=>n.a.createElement(Vt,{id:t.id,name:e,timerange:{from:u,to:d}})},{field:"cpu",name:i.i18n.translate("xpack.observability.overview.metrics.colunms.cpu",{defaultMessage:"CPU %"}),sortable:!0,render:(e,t)=>n.a.createElement(Kt,{id:"cpu",value:e,formatter:Jt,timeseries:t.timeseries,color:7})},{field:"load",name:i.i18n.translate("xpack.observability.overview.metrics.colunms.load15",{defaultMessage:"Load 15"}),sortable:!0,render:(e,t)=>n.a.createElement(Kt,{id:"load",value:e,formatter:Qt,timeseries:t.timeseries,color:1})},{field:"rx",name:"RX",sortable:!0,render:(e,t)=>n.a.createElement(Kt,{id:"rx",value:e,formatter:Xt,timeseries:t.timeseries,color:0})},{field:"tx",name:"TX",sortable:!0,render:(e,t)=>n.a.createElement(Kt,{id:"tx",value:e,formatter:Xt,timeseries:t.timeseries,color:3})}],S={sort:{field:b,direction:m}},O=f||y,{appLink:F}=y||{};return n.a.createElement(Lt,{title:i.i18n.translate("xpack.observability.overview.metrics.title",{defaultMessage:"Metrics"}),appLink:{href:F,label:i.i18n.translate("xpack.observability.overview.metrics.appLink",{defaultMessage:"View in app"})},hasError:v===ee.a.FAILURE},n.a.createElement(w.EuiBasicTable,{onChange:h,sorting:S,items:null!==(a=null==O?void 0:O.series)&&void 0!==a?a:[],columns:k}))}function Zt({bucketSize:e}){var t;const a=Object(r.useContext)(me.ThemeContext),l=Object(Pt.a)(),s=Object(o.useHistory)(),{forceUpdate:c,hasDataMap:u}=Object(te.a)(),{relativeStart:d,relativeEnd:m,absoluteStart:p,absoluteEnd:b}=Object(xt.a)(),{data:g,status:f}=Object(ee.b)((()=>{var t;if(e)return null===(t=Object(_t.a)("synthetics"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:p,end:b},relativeTime:{start:d,end:m},...e})}),[e,d,m,c]);if(null===(t=u.synthetics)||void 0===t||!t.hasData)return null;const E=dt.a.utc(p).valueOf(),y=dt.a.utc(b).valueOf(),v=Object(jt.niceTimeFormatter)([E,y]),h=f===ee.a.LOADING,{appLink:x,stats:T,series:k}=g||{},S=a.eui.euiColorVis2,O=a.eui.euiColorLightShade;return n.a.createElement(Lt,{title:i.i18n.translate("xpack.observability.overview.uptime.title",{defaultMessage:"Uptime"}),appLink:{href:x,label:i.i18n.translate("xpack.observability.overview.uptime.appLink",{defaultMessage:"View in app"})},hasError:f===ee.a.FAILURE},n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{title:Ct()(null==T?void 0:T.monitors.value).format("0a"),description:i.i18n.translate("xpack.observability.overview.uptime.monitors",{defaultMessage:"Monitors"}),isLoading:h})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{title:Ct()(null==T?void 0:T.up.value).format("0a"),description:i.i18n.translate("xpack.observability.overview.uptime.up",{defaultMessage:"Up"}),isLoading:h,color:O})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(zt,{title:Ct()(null==T?void 0:T.down.value).format("0a"),description:i.i18n.translate("xpack.observability.overview.uptime.down",{defaultMessage:"Down"}),isLoading:h,color:S}))),n.a.createElement(Rt,{isInitialLoad:h&&!g},n.a.createElement(jt.Settings,{onBrushEnd:e=>Bt({x:e.x,history:s}),theme:l,showLegend:!1,legendPosition:jt.Position.Right,xDomain:{min:E,max:y}}),n.a.createElement(ea,{id:"down",label:i.i18n.translate("xpack.observability.overview.uptime.chart.down",{defaultMessage:"Down"}),series:null==k?void 0:k.down,tickFormatter:v,color:S}),n.a.createElement(ea,{id:"up",label:i.i18n.translate("xpack.observability.overview.uptime.chart.up",{defaultMessage:"Up"}),series:null==k?void 0:k.up,tickFormatter:v,color:O})))}function ea({id:e,label:t,series:a,color:i,tickFormatter:r}){if(!a)return null;const l=a.coordinates.map((e=>({...e,g:t})));return n.a.createElement(n.a.Fragment,null,n.a.createElement(jt.BarSeries,{id:e,xScaleType:jt.ScaleType.Time,yScaleType:jt.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:i,stackAccessors:["x"],splitSeriesAccessors:["g"],data:l}),n.a.createElement(jt.Axis,{id:"x-axis",position:jt.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:r}),n.a.createElement(jt.Axis,{id:"y-axis",gridLine:{visible:!0},position:jt.Position.Left,tickFormat:e=>Ct()(e).format("0a")}))}var ta=a(125);function aa({bucketSize:e}){const{forceUpdate:t,hasDataMap:a}=Object(te.a)(),{relativeStart:r,relativeEnd:l,absoluteStart:s,absoluteEnd:o}=Object(xt.a)(),c=a.ux,u=null==c?void 0:c.serviceName,{data:d,status:m}=Object(ee.b)((()=>{var t;if(u&&e)return null===(t=Object(_t.a)("ux"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:s,end:o},relativeTime:{start:r,end:l},serviceName:u,...e})}),[e,r,l,t,u]);if(null==c||!c.hasData)return null;const p=m===ee.a.LOADING,{appLink:b,coreWebVitals:g}=d||{};return n.a.createElement(Lt,{title:i.i18n.translate("xpack.observability.overview.ux.title",{defaultMessage:"User Experience"}),appLink:{href:b,label:i.i18n.translate("xpack.observability.overview.ux.appLink",{defaultMessage:"View in app"})},hasError:m===ee.a.FAILURE},n.a.createElement(ta.default,{data:g,loading:p,displayServiceName:!0,serviceName:u}))}function ia({bucketSize:e}){return n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiFlexGroup,{direction:"column"},n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement($t,{bucketSize:e})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(Yt,{bucketSize:e})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(Ut,{bucketSize:e})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(Zt,{bucketSize:e})),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(aa,{bucketSize:e}))))}function ra({routeParams:e}){var t,a;Object(k.useTrackPageview)({app:"observability-overview",path:"overview"}),Object(k.useTrackPageview)({app:"observability-overview",path:"overview",delay:15e3}),Object(Z.a)([{text:i.i18n.translate("xpack.observability.breadcrumbs.overviewLinkText",{defaultMessage:"Overview"})}]);const{core:r,ObservabilityPageTemplate:l}=Object(T.a)(),{relativeStart:s,relativeEnd:o,absoluteStart:c,absoluteEnd:u}=Object(xt.a)(),d={start:s,end:o},m={start:c,end:u},{data:p}=Object(ee.b)((()=>async function({core:e}){try{return await e.http.get("https://feeds.elastic.co/observability-solution/v8.0.0.json")}catch(e){return console.error("Error while fetching news feed",e),{items:[]}}}({core:r})),[r]),{hasDataMap:b,hasAnyData:g,isAllRequestsComplete:f}=Object(te.a)();if(void 0===g)return n.a.createElement(oe,null);const E=!0===g||!1===f&&void 0,y=re({hasData:E,basePath:r.http.basePath,docsLink:r.docLinks.links.observability.guide}),{refreshInterval:v=1e4,refreshPaused:h=!0}=e.query,x=function({start:e,end:t}){if(e&&t)return It({start:e,end:t,minInterval:"60s"})}({start:m.start,end:m.end});return n.a.createElement(l,{noDataConfig:y,pageHeader:E?{pageTitle:na,rightSideItems:[n.a.createElement(ht,{rangeFrom:d.start,rangeTo:d.end,refreshInterval:v,refreshPaused:h})]}:void 0},E&&n.a.createElement(n.a.Fragment,null,n.a.createElement(le,null),n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,{grow:6},g&&n.a.createElement(ia,{bucketSize:x}),n.a.createElement(nt,null),n.a.createElement(w.EuiSpacer,{size:"l"}),n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiPanel,{hasBorder:!0},n.a.createElement(ct,null),n.a.createElement(w.EuiSpacer,{size:"l"}),!(null==p||null===(t=p.items)||void 0===t||!t.length)&&n.a.createElement(lt,{items:p.items.slice(0,5)}))),(null==b||null===(a=b.alert)||void 0===a?void 0:a.hasData)&&n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiPanel,{hasBorder:!0},n.a.createElement(gt,null))))))))}const na=i.i18n.translate("xpack.observability.overview.pageTitle",{defaultMessage:"Overview"});function la(e){return e.hasData?n.a.createElement(sa,e):n.a.createElement(oa,e)}function sa({dataSourceName:e,modules:t,integrationLink:a}){return n.a.createElement(w.EuiPanel,{color:"subdued"},n.a.createElement(w.EuiFlexGroup,{justifyContent:"spaceBetween"},n.a.createElement(w.EuiFlexItem,null,n.a.createElement("div",null,n.a.createElement(w.EuiIcon,{type:"checkInCircleFilled",color:"success",className:"eui-displayInline eui-alignMiddle",style:{marginRight:8}}),n.a.createElement(w.EuiTitle,{size:"xs",className:"eui-displayInline eui-alignMiddle"},n.a.createElement("h2",null,e)))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiButtonEmpty,{size:"xs",iconType:"plusInCircle",flush:"right",href:a},n.a.createElement(z.FormattedMessage,{id:"xpack.observability.status.addIntegrationLink",defaultMessage:"Add"})))),n.a.createElement(w.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s",style:{marginTop:8},role:"list"},t.map((e=>n.a.createElement(w.EuiFlexItem,{role:"listitem",key:e.name},n.a.createElement(w.EuiBadge,{color:e.hasData?"success":"hollow",iconType:"check",iconSide:"left"},e.name))))))}function oa({dataSourceName:e,description:t,learnMoreLink:a}){return n.a.createElement(w.EuiPanel,{color:"subdued",style:{marginBottom:20}},n.a.createElement(w.EuiFlexGroup,{justifyContent:"spaceBetween"},n.a.createElement(w.EuiFlexItem,null,n.a.createElement("div",null,n.a.createElement(w.EuiIcon,{type:"dot",color:"warning",className:"eui-displayInline eui-alignMiddle",style:{marginRight:8}}),n.a.createElement(w.EuiTitle,{size:"xs",className:"eui-displayInline eui-alignMiddle"},n.a.createElement("h2",null,e)))),n.a.createElement(w.EuiFlexItem,{grow:!1},n.a.createElement(w.EuiIcon,{type:"cross",color:"text"}))),n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiText,{size:"xs"},t))),n.a.createElement(w.EuiFlexGroup,null,n.a.createElement(w.EuiFlexItem,null,n.a.createElement(w.EuiButton,{color:"primary",size:"s",href:a},n.a.createElement(z.FormattedMessage,{id:"xpack.observability.status.learnMoreButton",defaultMessage:"Learn more"})))))}function ca({boxes:e}){return n.a.createElement("div",null,e.map((e=>n.a.createElement(n.a.Fragment,null,n.a.createElement(la,de()({key:e.id},e)),n.a.createElement(w.EuiSpacer,null)))))}function ua(){const{core:e}=Object(T.a)(),{hasDataMap:t}=Object(te.a)(),a=it({core:e}).map((e=>{var a,i,r,n;return{id:e.id,dataSourceName:e.title,hasData:null!==(a=null===(i=t[e.id])||void 0===i?void 0:i.hasData)&&void 0!==a&&a,description:e.description,modules:[],integrationLink:null!==(r=e.href)&&void 0!==r?r:"",learnMoreLink:null!==(n=e.href)&&void 0!==n?n:""}}));return n.a.createElement(ca,{boxes:a})}function da({routeParams:e}){Object(k.useTrackPageview)({app:"observability-overview",path:"overview"}),Object(k.useTrackPageview)({app:"observability-overview",path:"overview",delay:15e3}),Object(Z.a)([{text:i.i18n.translate("xpack.observability.breadcrumbs.overviewLinkText",{defaultMessage:"Overview"})}]);const[t,a]=Object(r.useState)(!1),{core:l,ObservabilityPageTemplate:s}=Object(T.a)(),{relativeStart:o,relativeEnd:c}=Object(xt.a)(),u={start:o,end:c},{hasAnyData:d,isAllRequestsComplete:m}=Object(te.a)();if(void 0===d)return n.a.createElement(oe,null);const p=!0===d||!1===m&&void 0,b=re({hasData:p,basePath:l.http.basePath,docsLink:l.docLinks.links.observability.guide}),{refreshInterval:g=1e4,refreshPaused:f=!0}=e.query;return n.a.createElement(s,{noDataConfig:b,pageHeader:p?{pageTitle:ma,rightSideItems:[n.a.createElement(ht,{rangeFrom:u.start,rangeTo:u.end,refreshInterval:g,refreshPaused:f})]}:void 0},p&&n.a.createElement(n.a.Fragment,null,n.a.createElement(w.EuiButton,{onClick:()=>a(!0)},"Show observability status"),t&&n.a.createElement(w.EuiFlyout,{size:"s",ownFocus:!0,onClose:()=>a(!1),"aria-labelledby":"flyout-id"},n.a.createElement(w.EuiFlyoutHeader,{hasBorder:!0},n.a.createElement(w.EuiTitle,{size:"m"},n.a.createElement("h2",{id:"flyout-id"},"Status"))),n.a.createElement(w.EuiFlyoutBody,null,n.a.createElement(ua,null)))))}const ma=i.i18n.translate("xpack.observability.overview.pageTitle",{defaultMessage:"Overview"});function pa(e){const{config:t}=Object(T.a)(),a=e.routeParams.query.alpha;return t.unsafe.overviewNext.enabled||a?n.a.createElement(da,e):n.a.createElement(ra,e)}const ba=new g.Type("JSON",g.any.is,((e,t)=>f.either.chain(g.string.validate(e,t),(a=>{try{return g.success(JSON.parse(a))}catch(a){return g.failure(e,t)}}))),(e=>JSON.stringify(e)));var ga=a(108);const fa={"/":{handler:()=>n.a.createElement(et,null),params:{},exact:!0},"/landing":{handler:()=>n.a.createElement(at,null),params:{},exact:!0},"/overview":{handler:({query:e})=>n.a.createElement(pa,{routeParams:{query:e}}),params:{query:g.partial({rangeFrom:g.string,rangeTo:g.string,refreshPaused:ba.pipe(g.boolean),refreshInterval:ba.pipe(g.number),alpha:ba.pipe(g.boolean)})},exact:!0},[y.casesPath]:{handler:()=>n.a.createElement(Ze,null),params:{},exact:!1},"/alerts":{handler:()=>n.a.createElement(De,null),params:{},exact:!0},"/exploratory-view/":{handler:()=>n.a.createElement(ga.a,null),params:{query:g.partial({rangeFrom:g.string,rangeTo:g.string,refreshPaused:ba.pipe(g.boolean),refreshInterval:ba.pipe(g.number)})},exact:!0}};function Ea(e){const t=Object(o.useLocation)(),a=Object(o.useParams)(),i=function(e){const t=new URLSearchParams(e.search),a={};return t.forEach(((e,t)=>{a[t]=e})),a}(t),{query:r,path:n}=fa[e].params,l={queryRt:r?g.exact(r):g.strict({}),pathRt:n?g.exact(n):g.strict({})},s=l.queryRt.decode(i),c=l.pathRt.decode(a);return Object(f.isLeft)(s)&&console.error(E.PathReporter.report(s)[0]),Object(f.isLeft)(c)&&console.error(E.PathReporter.report(c)[0]),{query:Object(f.isLeft)(s)?{}:s.right,path:Object(f.isLeft)(c)?{}:c.right}}function ya(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.Switch,null,Object.keys(fa).map((e=>{const t=e,{handler:a,exact:i}=fa[t];return n.a.createElement(o.Route,{key:t,path:t,exact:i,component:()=>{const e=Ea(t);return a(e)}})}))))}const va=({config:e,core:t,plugins:a,appMountParameters:r,observabilityRuleTypeRegistry:l,ObservabilityPageTemplate:g})=>{const{element:f,history:E,theme$:y}=r,v=t.i18n,h=t.uiSettings.get("theme:darkMode");return t.chrome.setHelpExtension({appName:i.i18n.translate("xpack.observability.feedbackMenu.appName",{defaultMessage:"Observability"}),links:[{linkType:"discuss",href:"https://ela.st/observability-discuss"}]}),f.classList.add(c.APP_WRAPPER_CLASS),s.a.render(n.a.createElement(d.KibanaThemeProvider,{theme$:y},n.a.createElement(d.KibanaContextProvider,{services:{...t,...a,storage:new m.Storage(localStorage)}},n.a.createElement(b.a.Provider,{value:{appMountParameters:r,config:e,core:t,plugins:a,observabilityRuleTypeRegistry:l,ObservabilityPageTemplate:g}},n.a.createElement(o.Router,{history:E},n.a.createElement(u.EuiThemeProvider,{darkMode:h},n.a.createElement(v.Context,null,n.a.createElement(d.RedirectAppLinks,{application:t.application,className:c.APP_WRAPPER_CLASS},n.a.createElement(p.b,null,n.a.createElement(ya,null))))))))),f),()=>{s.a.unmountComponentAtNode(f)}}},93:function(e,t,a){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},n=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),l=[];function s(e){for(var t=-1,a=0;a<l.length;a++)if(l[a].identifier===e){t=a;break}return t}function o(e,t){for(var a={},i=[],r=0;r<e.length;r++){var n=e[r],o=t.base?n[0]+t.base:n[0],c=a[o]||0,u="".concat(o," ").concat(c);a[o]=c+1;var d=s(u),m={css:n[1],media:n[2],sourceMap:n[3]};-1!==d?(l[d].references++,l[d].updater(m)):l.push({identifier:u,updater:f(m,t),references:1}),i.push(u)}return i}function c(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=a.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var l=n(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function m(e,t,a,i){var r=a?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var n=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(n,l[t]):e.appendChild(n)}}function p(e,t,a){var i=a.css,r=a.media,n=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var b=null,g=0;function f(e,t){var a,i,r;if(t.singleton){var n=g++;a=b||(b=c(t)),i=m.bind(null,a,n,!1),r=m.bind(null,a,n,!0)}else a=c(t),i=p.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var a=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<a.length;i++){var r=s(a[i]);l[r].references--}for(var n=o(e,t),c=0;c<a.length;c++){var u=s(a[c]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}a=n}}}},94:function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",i=e[3];if(!i)return a;if(t&&"function"==typeof btoa){var r=(l=i,s=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(o," */")),n=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[a].concat(n).concat([r]).join("\n")}var l,s,o;return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var n=0;n<this.length;n++){var l=this[n][0];null!=l&&(r[l]=!0)}for(var s=0;s<e.length;s++){var o=[].concat(e[s]);i&&r[o[0]]||(a&&(o[2]?o[2]="".concat(a," and ").concat(o[2]):o[2]=a),t.push(o))}},t}}}]);