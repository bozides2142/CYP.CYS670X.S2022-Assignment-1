/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(t){function e(e){for(var n,i,a=e[0],s=e[1],o=0,l=[];o<a.length;o++)i=a[o],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(c&&c(e);l.length;)l.shift()()}var n={},r={1:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,i){n=r[t]=[e,i]}));e.push(n[2]=a);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=function(t){return i.p+"reporting.chunk."+t+".js"}(t);var c=new Error;s=function(e){o.onerror=o.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var a=window.reporting_bundle_jsonpfunction=window.reporting_bundle_jsonpfunction||[],s=a.push.bind(a);a.push=e,a=a.slice();for(var o=0;o<a.length;o++)e(a[o]);var c=s;i(i.s=26)}([function(t,e){t.exports=__kbnSharedDeps__.EmotionReact},function(t,e,n){t.exports=n(19)(2)},function(t,e,n){"use strict";n.d(e,"l",(function(){return j})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return l})),n.d(e,"p",(function(){return u})),n.d(e,"q",(function(){return p})),n.d(e,"t",(function(){return d})),n.d(e,"u",(function(){return g})),n.d(e,"g",(function(){return i})),n.d(e,"n",(function(){return a})),n.d(e,"o",(function(){return s})),n.d(e,"r",(function(){return o})),n.d(e,"s",(function(){return c})),n.d(e,"h",(function(){return y})),n.d(e,"z",(function(){return _})),n.d(e,"b",(function(){return x})),n.d(e,"a",(function(){return O})),n.d(e,"e",(function(){return S})),n.d(e,"d",(function(){return w})),n.d(e,"f",(function(){return C})),n.d(e,"k",(function(){return k})),n.d(e,"v",(function(){return P})),n.d(e,"w",(function(){return T})),n.d(e,"A",(function(){return R})),n.d(e,"m",(function(){return M})),n.d(e,"x",(function(){return D})),n.d(e,"y",(function(){return E})),n.d(e,"c",(function(){return N}));var r={};n.r(r),n.d(r,"CSV_JOB_TYPE",(function(){return i})),n.d(r,"PDF_JOB_TYPE",(function(){return a})),n.d(r,"PDF_JOB_TYPE_V2",(function(){return s})),n.d(r,"PNG_JOB_TYPE",(function(){return o})),n.d(r,"PNG_JOB_TYPE_V2",(function(){return c}));const i="csv_searchsource",a="printable_pdf",s="printable_pdf_v2",o="PNG",c="PNGV2",l="CSV",u="printablePdf",p="printablePdfV2",d="PNG",g="pngV2",{PDF_JOB_TYPE:h,PDF_JOB_TYPE_V2:b,PNG_JOB_TYPE:f,PNG_JOB_TYPE_V2:m}=r,j="xpack.reporting.jobCompletionNotifications",v="downloadCsvReport",y="csv",_=[h,f,b,m],x="/api/reporting",O=`${x}/generate`,S=`${x}/jobs`,w=`${x}/ilm_policy_status`,C=`${x}/deprecations/migrate_ilm_policy`,k="kibana-reporting",P="/app/management/insightsAndAlerting/reporting",T="__REPORTING_REDIRECT_LOCATOR_STORE_KEY__",R=()=>"/app/reportingRedirect";let M;!function(t){t.PENDING="pending",t.PROCESSING="processing",t.COMPLETED="completed",t.FAILED="failed",t.WARNINGS="completed_with_warnings"}(M||(M={}));const D="reportJobListing",E="reportJobRow",N="/api/reporting/v1/generate/immediate/csv_searchsource"},function(t,e){t.exports=__kbnSharedDeps__.KbnI18n},function(t,e){t.exports=__kbnSharedDeps__.React},function(t,e){t.exports=__kbnSharedDeps__.ElasticEui},function(t,e){t.exports=__kbnSharedDeps__.KbnI18nReact},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e){t.exports=__kbnSharedDeps__.RxjsOperators},function(t,e){t.exports=__kbnSharedDeps__.Rxjs},function(t,e,n){"use strict";n.d(e,"c",(function(){return s}));var r=n(21);n.d(e,"a",(function(){return r.AppNavLinkStatus}));var i=n(22);n.d(e,"d",(function(){return i.useRequest}));var a=n(7);n.d(e,"b",(function(){return a.KibanaContextProvider}));const s=()=>Object(a.useKibana)()},function(t,e){t.exports=__kbnSharedDeps__.Moment},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>{switch(t.state){case"valid":return{showLinks:!0,enableLinks:!0,message:""};case"invalid":return{showLinks:!1,enableLinks:!1,message:"Your license does not support Reporting. Please upgrade your license."};case"unavailable":return{showLinks:!0,enableLinks:!1,message:"You cannot use Reporting because license information is not available at this time."};case"expired":return{showLinks:!0,enableLinks:!1,message:"You cannot use Reporting because your license has expired."};default:return{showLinks:!0,enableLinks:!0,message:""}}}},function(t,e,n){t.exports=n(19)(3)},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){"use strict";const r=n(28),i=n(29),a=n(30);function s(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function l(t){return Array.isArray(t)?t.sort():"object"==typeof t?l(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function u(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=u(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function d(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){s((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return(e,n,r)=>{const i="string"==typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===n?n:c(n,t);r[e]=i};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const i of t.split("&")){let[t,s]=a(e.decode?i.replace(/\+/g," "):i,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:c(s,e),n(c(t,e),s,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=d(n[t],e);else r[t]=d(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=l(n):t[e]=n,t}),Object.create(null))}e.extract=p,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";s((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const n=n=>e.skipNull&&null==t[n]||e.skipEmptyString&&""===t[n],r=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[o(e,t),"[",i,"]"].join("")]:[...n,[o(e,t),"[",o(i,t),"]=",o(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,[o(e,t),"[]"].join("")]:[...n,[o(e,t),"[]=",o(r,t)].join("")];case"comma":case"separator":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[o(e,t),"=",o(r,t)].join("")]:[[n,o(r,t)].join(t.arrayFormatSeparator)];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:null===r?[...n,o(e,t)]:[...n,[o(e,t),"=",o(r,t)].join("")]}}(e),i={};for(const e of Object.keys(t))n(e)||(i[e]=t[e]);const a=Object.keys(i);return!1!==e.sort&&a.sort(e.sort),a.map((n=>{const i=t[n];return void 0===i?"":null===i?o(n,e):Array.isArray(i)?i.reduce(r(n),[]).join("&"):o(n,e)+"="+o(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[n,r]=a(t,"#");return Object.assign({url:n.split("?")[0]||"",query:g(p(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:c(r,e)}:{})},e.stringifyUrl=(t,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=u(t.url).split("?")[0]||"",i=e.extract(t.url),a=e.parse(i,{sort:!1}),s=Object.assign(a,t.query);let c=e.stringify(s,n);c&&(c=`?${c}`);let l=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(l=`#${o(t.fragmentIdentifier,n)}`),`${r}${c}${l}`}},function(t,e){t.exports=__kbnSharedDeps__.RisonNode},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/discover/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return reporting_api_client_ReportingAPIClient}));var r=n(4),i=n.n(r),a=n(10),s=n(0);const o=Object(r.createContext)(void 0),c=({apiClient:t,children:e})=>{const{services:{http:n}}=Object(a.c)();return Object(s.jsx)(o.Provider,{value:{http:n,apiClient:t}},e)},l=()=>{const t=Object(r.useContext)(o);if(!t)throw new Error('"useInternalApiClient" can only be used inside of "InternalApiClientContext"');return t};var u=n(2);const p=()=>{const{services:{http:t}}=Object(a.c)();return Object(a.d)(t,{path:u.d,method:"get"})};var d=n(1),g=n.n(d),h=n(3),b=n(11),f=n.n(b),m=n(15),j=n(16),v=n.n(j);const y=t=>{sessionStorage.setItem(u.l,JSON.stringify(t))},_=()=>{const t=sessionStorage.getItem(u.l);return t?JSON.parse(t):[]};var x=n(5);const{COMPLETED:O,FAILED:S,PENDING:w,PROCESSING:C,WARNINGS:k}=u.m;class job_Job{constructor(t){var e,n,r,i,a;g()(this,"id",void 0),g()(this,"index",void 0),g()(this,"objectType",void 0),g()(this,"title",void 0),g()(this,"isDeprecated",void 0),g()(this,"spaceId",void 0),g()(this,"browserTimezone",void 0),g()(this,"layout",void 0),g()(this,"version",void 0),g()(this,"jobtype",void 0),g()(this,"created_by",void 0),g()(this,"created_at",void 0),g()(this,"started_at",void 0),g()(this,"completed_at",void 0),g()(this,"status",void 0),g()(this,"attempts",void 0),g()(this,"max_attempts",void 0),g()(this,"timeout",void 0),g()(this,"kibana_name",void 0),g()(this,"kibana_id",void 0),g()(this,"size",void 0),g()(this,"content_type",void 0),g()(this,"csv_contains_formulas",void 0),g()(this,"max_size_reached",void 0),g()(this,"warnings",void 0),g()(this,"locatorParams",void 0),this.id=t.id,this.index=t.index,this.jobtype=t.jobtype,this.objectType=t.payload.objectType,this.title=t.payload.title,this.layout=t.payload.layout,this.version=t.payload.version,this.created_by=t.created_by,this.created_at=t.created_at,this.started_at=t.started_at,this.completed_at=t.completed_at,this.status=t.status,this.attempts=t.attempts,this.max_attempts=t.max_attempts,this.timeout=t.timeout,this.kibana_name=t.kibana_name,this.kibana_id=t.kibana_id,this.browserTimezone=t.payload.browserTimezone,this.size=null===(e=t.output)||void 0===e?void 0:e.size,this.content_type=null===(n=t.output)||void 0===n?void 0:n.content_type,this.isDeprecated=t.payload.isDeprecated||!1,this.spaceId=t.payload.spaceId,this.csv_contains_formulas=null===(r=t.output)||void 0===r?void 0:r.csv_contains_formulas,this.max_size_reached=null===(i=t.output)||void 0===i?void 0:i.max_size_reached,this.warnings=null===(a=t.output)||void 0===a?void 0:a.warnings,this.locatorParams=t.payload.locatorParams}getStatusMessage(){const t=this.status;let e,n;return t===w?e=h.i18n.translate("xpack.reporting.jobStatusDetail.pendingStatusReachedText",{defaultMessage:"Waiting for job to process."}):t===C?e=h.i18n.translate("xpack.reporting.jobStatusDetail.attemptXofY",{defaultMessage:"Attempt {attempts} of {max_attempts}.",values:{attempts:this.attempts,max_attempts:this.max_attempts}}):this.getWarnings()?e=h.i18n.translate("xpack.reporting.jobStatusDetail.warningsText",{defaultMessage:"See report info for warnings."}):this.getError()&&(e=h.i18n.translate("xpack.reporting.jobStatusDetail.errorText",{defaultMessage:"See report info for error details."})),this.isDeprecated&&(n=Object(s.jsx)(x.EuiText,{size:"s"}," ",Object(s.jsx)(x.EuiTextColor,{color:"warning"},h.i18n.translate("xpack.reporting.jobStatusDetail.deprecatedText",{defaultMessage:"This is a deprecated export type. Automation of this report will need to be re-created for compatibility with future versions of Kibana."})))),e?Object(s.jsx)(i.a.Fragment,null,Object(s.jsx)(x.EuiText,{size:"s"},Object(s.jsx)(x.EuiTextColor,{color:"subdued"},e)),n||null):null}get prettyStatus(){var t;return null!==(t=P.get(this.status))&&void 0!==t?t:h.i18n.translate("xpack.reporting.jobStatusDetail.unknownText",{defaultMessage:"Unknown"})}get canLinkToKibanaApp(){return Boolean(this.locatorParams)}get isDownloadReady(){return this.status===u.m.COMPLETED||this.status===u.m.WARNINGS}get prettyJobTypeName(){switch(this.jobtype){case"printable_pdf":case"printable_pdf_v2":return h.i18n.translate("xpack.reporting.jobType.pdfOutputName",{defaultMessage:"PDF"});case"PNG":case"PNGV2":return h.i18n.translate("xpack.reporting.jobType.pngOutputName",{defaultMessage:"PNG"});case"csv_searchsource":return h.i18n.translate("xpack.reporting.jobType.csvOutputName",{defaultMessage:"CSV"});default:return}}get prettyTimeout(){if(null==this.timeout)return h.i18n.translate("xpack.reporting.jobStatusDetail.timeoutSecondsUnknown",{defaultMessage:"Unknown"});const t=this.timeout/1e3;return h.i18n.translate("xpack.reporting.jobStatusDetail.timeoutSeconds",{defaultMessage:"{timeout} seconds",values:{timeout:t}})}getCreatedAtDate(){return this.formatDate(this.created_at)}getCreatedBy(){return this.created_by||h.i18n.translate("xpack.reporting.jobCreatedBy.unknownUserPlaceholderText",{defaultMessage:"Unknown"})}getCreatedAtLabel(){return this.created_by?Object(s.jsx)(i.a.Fragment,null,Object(s.jsx)("div",null,this.formatDate(this.created_at)),Object(s.jsx)("span",null,this.created_by)):this.formatDate(this.created_at)}getError(){if(this.status===S)return this.warnings}getDeprecatedMessage(){if(this.isDeprecated)return h.i18n.translate("xpack.reporting.jobWarning.exportTypeDeprecated",{defaultMessage:"This is a deprecated export type. Automation of this report will need to be re-created for compatibility with future versions of Kibana."})}getWarnings(){var t;const e=[],n=this.getDeprecatedMessage();if(n&&e.push(n),this.csv_contains_formulas&&e.push(h.i18n.translate("xpack.reporting.jobWarning.csvContainsFormulas",{defaultMessage:"Your CSV contains characters that spreadsheet applications might interpret as formulas."})),this.max_size_reached&&e.push(h.i18n.translate("xpack.reporting.jobWarning.maxSizeReachedTooltip",{defaultMessage:"Your search reached the max size and contains partial data."})),this.status!==S&&null!==(t=this.warnings)&&void 0!==t&&t.length&&e.push(...this.warnings),e.length)return Object(s.jsx)("ul",null,e.map(((t,e)=>Object(s.jsx)("li",{key:`warning-key-${e}`},t))))}getPrettyStatusTimestamp(){return this.formatDate(this.getStatusTimestamp())}formatDate(t){try{return f()(t).format("YYYY-MM-DD @ hh:mm A")}catch(e){return t}}getStatusTimestamp(){const t=this.status;return t===C&&this.started_at?this.started_at:this.completed_at&&[O,S,k].includes(t)?this.completed_at:this.created_at}}const P=new Map([[w,h.i18n.translate("xpack.reporting.jobStatuses.pendingText",{defaultMessage:"Pending"})],[C,h.i18n.translate("xpack.reporting.jobStatuses.processingText",{defaultMessage:"Processing"})],[O,h.i18n.translate("xpack.reporting.jobStatuses.completedText",{defaultMessage:"Completed"})],[k,h.i18n.translate("xpack.reporting.jobStatuses.warningText",{defaultMessage:"Completed"})],[S,h.i18n.translate("xpack.reporting.jobStatuses.failedText",{defaultMessage:"Failed"})]]);class reporting_api_client_ReportingAPIClient{constructor(t,e,n){g()(this,"http",void 0),g()(this,"getManagementLink",(()=>this.http.basePath.prepend(u.v))),g()(this,"getDownloadLink",(t=>this.http.basePath.prepend(`${u.e}/download/${t}`))),g()(this,"getServerBasePath",(()=>this.http.basePath.serverBasePath)),this.uiSettings=e,this.kibanaVersion=n,this.http=t}getKibanaAppHref(t){const e=Object(m.stringify)({jobId:t.id});return`${(({basePath:t,appPath:e,spaceId:n})=>void 0===n||"default"===n.toLowerCase()?`${t}${e}`:`${t}/s/${n}${e}`)({basePath:this.http.basePath.serverBasePath,spaceId:t.spaceId,appPath:Object(u.A)()})}?${e}`}getReportURL(t){return`${this.http.basePath.prepend(u.e)}/download/${t}`}downloadReport(t){const e=this.getReportURL(t);window.open(e)}async deleteReport(t){return await this.http.delete(`${u.e}/delete/${t}`,{asSystemRequest:!0})}async list(t=0,e=[]){const n={page:t};e.length>0&&(n.ids=e.slice(0,10).join(","));return(await this.http.get(`${u.e}/list`,{query:n,asSystemRequest:!0})).map((t=>new job_Job(t)))}async total(){return await this.http.get(`${u.e}/count`,{asSystemRequest:!0})}async getError(t){var e;const n=await this.getInfo(t);return null!==(e=n.warnings)&&void 0!==e&&e[0]?n.warnings[0]:h.i18n.translate("xpack.reporting.apiClient.unknownError",{defaultMessage:"Report job {job} failed. Error unknown.",values:{job:t}})}async getInfo(t){const e=await this.http.get(`${u.e}/info/${t}`,{asSystemRequest:!0});return new job_Job(e)}async findForJobIds(t){return(await this.http.fetch(`${u.e}/list`,{query:{page:0,ids:t.join(",")},method:"GET"})).map((t=>new job_Job(t)))}getReportingJobPath(t,e){const n=Object(m.stringify)({jobParams:v.a.encode(e)});return`${this.http.basePath.prepend(u.a)}/${t}?${n}`}async createReportingJob(t,e){const n=v.a.encode(e),r=await this.http.post(`${u.a}/${t}`,{method:"POST",body:JSON.stringify({jobParams:n})});return(t=>{const e=_();e.push(t),y(e)})(r.job.id),new job_Job(r.job)}async createImmediateReport(t){const{objectType:e,...n}=t;return this.http.post(`${u.c}`,{asResponse:!0,body:JSON.stringify(n)})}getDecoratedJobParams(t){return{browserTimezone:"Browser"===this.uiSettings.get("dateFormat:tz")?f.a.tz.guess():this.uiSettings.get("dateFormat:tz"),version:this.kibanaVersion,...t}}verifyBrowser(){return this.http.post(`${u.b}/diagnose/browser`,{asSystemRequest:!0})}verifyScreenCapture(){return this.http.post(`${u.b}/diagnose/screenshot`,{asSystemRequest:!0})}migrateReportingIndicesIlmPolicy(){return this.http.put(`${u.f}`)}}},function(t,e){t.exports=__kbnSharedDeps_npm__},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(11);const r=t=>"number"==typeof t?t:t.asMilliseconds()},function(t,e,n){n.r(e);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r=n(2);const i=({sharingData:t})=>null!=t.locatorParams,a=t=>{switch(t){case r.n:case r.o:return"PDF";case r.g:case r.h:return"CSV";case r.r:case r.s:return"PNG";default:return t}}},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/home/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){n.r(e);var r=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))},function(t,e,n){n(27),__kbnBundles__.define("plugin/reporting/public",n,31)},function(t,e,n){n.p=window.__kbnPublicPath__.reporting},function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},function(t,e,n){"use strict";var r="%[a-f0-9]{2}",i=new RegExp(r,"gi"),a=new RegExp("("+r+")+","gi");function s(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],s(n),s(r))}function o(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(i),n=1;n<e.length;n++)e=(t=s(e,n).join("")).match(i);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=o(n[0]);r!==n[0]&&(e[n[0]]=r)}n=a.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var c=i[s];t=t.replace(new RegExp(c,"g"),e[c])}return t}(t)}}},function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}},function(t,e,n){"use strict";n.r(e),n.d(e,"plugin",(function(){return U}));var r=n(1),i=n.n(r),a=n(3),s=n(9),o=n(8),c=n(14),l=n(24),u=n(20),p=n(18),d=n(2),g=n(5),h=n(6),b=n(4),f=n(7),m=n(0);const j=(t,e,n,r)=>({title:Object(f.toMountPoint)(Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.error.couldNotCreateReportTitle",defaultMessage:"Cannot create {reportType} report for '{reportObjectTitle}'.",values:{reportType:e.jobtype,reportObjectTitle:e.title}}),{theme$:r.theme$}),text:Object(f.toMountPoint)(Object(m.jsx)(b.Fragment,null,Object(m.jsx)(g.EuiCallOut,{size:"m",title:a.i18n.translate("xpack.reporting.publicNotifier.error.calloutTitle",{defaultMessage:"The reporting job failed"}),color:"danger",iconType:"alert","data-test-errorText":t},t),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.error.checkManagement",defaultMessage:"Go to {path} for details.",values:{path:Object(m.jsx)("a",{href:n()},Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.error.reportingSectionUrlLinkLabel",defaultMessage:"Stack Management > Kibana > Reporting"}))}}))),{theme$:r.theme$}),iconType:void 0,"data-test-subj":"completeReportFailure"}),v=(t,e,n)=>({text:Object(f.toMountPoint)(Object(m.jsx)(b.Fragment,null,Object(m.jsx)(g.EuiCallOut,{title:t,color:"danger",iconType:"alert"},e.toString()),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.error.tryRefresh",defaultMessage:"Try refreshing the page."})),{theme$:n.theme$}),iconType:void 0}),y=({getUrl:t,job:e})=>Object(m.jsx)(g.EuiButton,{size:"s","data-test-subj":"downloadCompletedReportButton",href:t(e.id),target:"_blank"},Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.downloadReportButtonLabel",defaultMessage:"Download report"})),_=({getUrl:t})=>Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.reportLinkDescription",defaultMessage:"Download it now, or get it later in {path}.",values:{path:Object(m.jsx)("a",{href:t()},Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.reportLink.reportingSectionUrlLinkLabel",defaultMessage:"Stack Management > Alerts and Insights > Reporting"}))}}),x=(t,e,n,r)=>({title:Object(f.toMountPoint)(Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.successfullyCreatedReportNotificationTitle",defaultMessage:"{reportType} created for '{reportObjectTitle}'",values:{reportType:t.jobtype,reportObjectTitle:t.title}}),{theme$:r.theme$}),color:"success",text:Object(f.toMountPoint)(Object(m.jsx)(b.Fragment,null,Object(m.jsx)("p",null,Object(m.jsx)(_,{getUrl:e})),Object(m.jsx)(y,{getUrl:n,job:t})),{theme$:r.theme$}),"data-test-subj":"completeReportSuccess"}),O=(t,e,n,r)=>({title:Object(f.toMountPoint)(Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.csvContainsFormulas.formulaReportTitle",defaultMessage:"{reportType} may contain formulas",values:{reportType:t.jobtype}}),{theme$:r.theme$}),text:Object(f.toMountPoint)(Object(m.jsx)(b.Fragment,null,Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.csvContainsFormulas.formulaReportMessage",defaultMessage:"The report '{reportObjectTitle}' contains characters which spreadsheet applications can interpret as formulas.",values:{reportObjectTitle:t.title}})),Object(m.jsx)("p",null,Object(m.jsx)(_,{getUrl:e})),Object(m.jsx)(y,{getUrl:n,job:t})),{theme$:r.theme$}),"data-test-subj":"completeReportCsvFormulasWarning"}),S=(t,e,n,r)=>({title:Object(f.toMountPoint)(Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.maxSizeReached.partialReportTitle",defaultMessage:"Created partial {reportType} for '{reportObjectTitle}'",values:{reportType:t.jobtype,reportObjectTitle:t.title}}),{theme$:r.theme$}),text:Object(f.toMountPoint)(Object(m.jsx)(b.Fragment,null,Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"xpack.reporting.publicNotifier.maxSizeReached.partialReportDescription",defaultMessage:"The report reached the max size and contains partial data."})),Object(m.jsx)("p",null,Object(m.jsx)(_,{getUrl:e})),Object(m.jsx)(y,{getUrl:n,job:t})),{theme$:r.theme$}),"data-test-subj":"completeReportMaxSizeWarning"});function w(t){var e;return{id:t.id,status:t.status,title:t.title,jobtype:null!==(e=t.prettyJobTypeName)&&void 0!==e?e:t.jobtype,maxSizeReached:t.max_size_reached,csvContainsFormulas:t.csv_contains_formulas}}class stream_handler_ReportingNotifierStreamHandler{constructor(t,e,n){this.notifications=t,this.apiClient=e,this.theme=n}showNotifications({completed:t,failed:e}){return s.from((async()=>{for(const e of t)e.csvContainsFormulas?this.notifications.toasts.addWarning(O(e,this.apiClient.getManagementLink,this.apiClient.getDownloadLink,this.theme)):e.maxSizeReached?this.notifications.toasts.addWarning(S(e,this.apiClient.getManagementLink,this.apiClient.getDownloadLink,this.theme)):this.notifications.toasts.addSuccess(x(e,this.apiClient.getManagementLink,this.apiClient.getDownloadLink,this.theme));for(const t of e){const e=await this.apiClient.getError(t.id);this.notifications.toasts.addDanger(j(e,t,this.apiClient.getManagementLink,this.theme))}return{completed:t,failed:e}})())}findChangedStatusJobs(t){return s.from(this.apiClient.findForJobIds(t)).pipe(Object(o.map)((e=>{const n=[],r=[],i=[];for(const a of e){const{id:e,status:s}=a;t.includes(e)&&(s===d.m.COMPLETED||s===d.m.WARNINGS?n.push(w(a)):s===d.m.FAILED?r.push(w(a)):i.push(e))}var a;return a=i,sessionStorage.setItem(d.l,JSON.stringify(a)),{completed:n,failed:r}})),Object(o.catchError)((t=>(this.notifications.toasts.addDanger(v(a.i18n.translate("xpack.reporting.publicNotifier.httpErrorMessage",{defaultMessage:"Could not check Reporting job status!"}),t,this.theme)),window.console.error(t),s.of({completed:[],failed:[]})))))}}var C=n(17),k=n(25),P=n(12);class get_csv_panel_action_ReportingCsvPanelAction{constructor({core:t,apiClient:e,startServices$:n,usesUiCapabilities:r}){i()(this,"isDownloading",void 0),i()(this,"type",""),i()(this,"id",d.i),i()(this,"licenseHasDownloadCsv",!1),i()(this,"capabilityHasDownloadCsv",!1),i()(this,"notifications",void 0),i()(this,"apiClient",void 0),i()(this,"startServices$",void 0),i()(this,"usesUiCapabilities",void 0),i()(this,"isCompatible",(async t=>{if(await new Promise((t=>{this.startServices$.subscribe((([{application:e},{licensing:n}])=>{var r;(n.license$.subscribe((t=>{const e=t.check("reporting","basic"),{showLinks:n}=Object(P.a)(e);this.licenseHasDownloadCsv=n})),this.usesUiCapabilities)?this.capabilityHasDownloadCsv=!0===(null===(r=e.capabilities.dashboard)||void 0===r?void 0:r.downloadCsv):this.capabilityHasDownloadCsv=!0;t()}))})),!this.licenseHasDownloadCsv||!this.capabilityHasDownloadCsv)return!1;const{embeddable:e}=t;return e.getInput().viewMode!==c.ViewMode.EDIT&&"search"===e.type})),i()(this,"execute",(async t=>{const{embeddable:e}=t;if(!function(t){return t.type===C.SEARCH_EMBEDDABLE_TYPE}(e)||!await this.isCompatible(t))throw new k.IncompatibleActionError;if(this.isDownloading)return;const n=e.getSavedSearch(),{columns:r,getSearchSource:i}=await this.getSearchSource(n,e),s=this.apiClient.getDecoratedJobParams({searchSource:i(!0),columns:r,title:n.title||"",objectType:"downloadCsv"});this.isDownloading=!0,this.notifications.toasts.addSuccess({title:a.i18n.translate("xpack.reporting.dashboard.csvDownloadStartedTitle",{defaultMessage:"CSV Download Started"}),text:a.i18n.translate("xpack.reporting.dashboard.csvDownloadStartedMessage",{defaultMessage:"Your CSV will download momentarily."}),"data-test-subj":"csvDownloadStarted"}),await this.apiClient.createImmediateReport(s).then((({body:t,response:e})=>{this.isDownloading=!1;const r=`${n.title}.csv`,i=new Blob([t],{type:(null==e?void 0:e.headers.get("content-type"))||void 0});if(window.navigator.msSaveOrOpenBlob)return window.navigator.msSaveOrOpenBlob(i,r);const a=window.document.createElement("a"),s=window.URL.createObjectURL(i);a.href=s,a.download=r,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)})).catch(this.onGenerationFail.bind(this))})),this.isDownloading=!1,this.notifications=t.notifications,this.apiClient=e,this.startServices$=n,this.usesUiCapabilities=r}getIconType(){return"document"}getDisplayName(){return a.i18n.translate("xpack.reporting.dashboard.downloadCsvPanelTitle",{defaultMessage:"Download CSV"})}async getSearchSource(t,e){const[{uiSettings:n},{data:r}]=await this.startServices$.pipe(Object(o.first)()).toPromise(),{getSharingData:i}=await Object(C.loadSharingDataHelpers)();return await i(t.searchSource,t,{uiSettings:n,data:r})}onGenerationFail(t){this.isDownloading=!1,this.notifications.toasts.addDanger({title:a.i18n.translate("xpack.reporting.dashboard.failedCsvDownloadTitle",{defaultMessage:"CSV download failed"}),text:a.i18n.translate("xpack.reporting.dashboard.failedCsvDownloadMessage",{defaultMessage:"We couldn't generate your CSV at this time."}),"data-test-subj":"downloadCsvFail"})}}var T=n(13),R=n.n(T);const M=t=>Object(m.jsx)(b.Fragment,null,Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiFlexGroup,{justifyContent:"spaceAround"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiLoadingSpinner,{size:"l"}))),Object(m.jsx)(g.EuiSpacer,null)),D=Object(b.lazy)((()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,56)).then((({ScreenCapturePanelContent:t})=>({default:t}))))),E=t=>Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)(M,null)},Object(m.jsx)(D,t));function N(t,e){return{ReportingPanelPDF:n=>Object(m.jsx)(E,R()({requiresSavedState:!1,reportType:d.p,apiClient:e,toasts:t.notifications.toasts,uiSettings:t.uiSettings,theme:t.theme},n)),ReportingPanelPDFV2:n=>Object(m.jsx)(E,R()({requiresSavedState:!1,reportType:d.q,apiClient:e,toasts:t.notifications.toasts,uiSettings:t.uiSettings,theme:t.theme},n)),ReportingPanelPNGV2:n=>Object(m.jsx)(E,R()({requiresSavedState:!1,reportType:d.u,apiClient:e,toasts:t.notifications.toasts,uiSettings:t.uiSettings,theme:t.theme},n))}}var $=n(10);const F=Object(b.lazy)((()=>n.e(0).then(n.bind(null,55)).then((({ReportingPanelContent:t})=>({default:t}))))),I=t=>Object(m.jsx)(b.Suspense,{fallback:Object(m.jsx)(M,null)},Object(m.jsx)(F,t));var L=n(23);const A=(t,e,n)=>()=>{const{objectType:r,sharingData:{title:i,layout:a,locatorParams:s}}=e,o={objectType:r,layout:a,title:i};if("printablePdfV2"===n)return{...o,locatorParams:[s]};if("pngV2"===n)return{...o,locatorParams:s};const c=e.shareableUrl.replace(window.location.origin+t.getServerBasePath(),"");return"printablePdf"===n?{...o,relativeUrls:[c]}:{...o,relativeUrl:c}};class plugin_ReportingPublicPlugin{constructor(t){i()(this,"kibanaVersion",void 0),i()(this,"apiClient",void 0),i()(this,"stop$",new s.ReplaySubject(1)),i()(this,"title",a.i18n.translate("xpack.reporting.management.reportingTitle",{defaultMessage:"Reporting"})),i()(this,"breadcrumbText",a.i18n.translate("xpack.reporting.breadcrumb",{defaultMessage:"Reporting"})),i()(this,"config",void 0),i()(this,"contract",void 0),this.config=t.config.get(),this.kibanaVersion=t.env.packageInfo.version}getApiClient(t,e){return this.apiClient||(this.apiClient=new p.b(t,e,this.kibanaVersion)),this.apiClient}getContract(t){if(t&&(this.contract={usesUiCapabilities:()=>{var t;return!1===(null===(t=this.config.roles)||void 0===t?void 0:t.enabled)},components:N(t,this.getApiClient(t.http,t.uiSettings))}),!this.contract)throw new Error("Setup error in Reporting plugin!");return this.contract}setup(t,e){const{getStartServices:r,uiSettings:i}=t,{home:o,management:u,screenshotting:p,share:g,uiActions:h}=e,b=s.from(r()),f=!this.config.roles.enabled,j=this.getApiClient(t.http,t.uiSettings);o.featureCatalogue.register({id:"reporting",title:a.i18n.translate("xpack.reporting.registerFeature.reportingTitle",{defaultMessage:"Reporting"}),description:a.i18n.translate("xpack.reporting.registerFeature.reportingDescription",{defaultMessage:"Manage your reports generated from Discover, Visualize, and Dashboard."}),icon:"reportingApp",path:"/app/management/insightsAndAlerting/reporting",showOnHomePage:!1,category:l.FeatureCatalogueCategory.ADMIN}),u.sections.section.insightsAndAlerting.registerApp({id:"reporting",title:this.title,order:1,mount:async e=>{e.setBreadcrumbs([{text:this.breadcrumbText}]);const[[i,a],{mountManagementSection:s}]=await Promise.all([r(),n.e(2).then(n.bind(null,57))]),{docTitle:o}=i.chrome;o.change(this.title);const{license$:c}=a.licensing,l=await s(t,i,c,this.config.poll,j,g.url,e);return()=>{o.reset(),l()}}}),t.application.register({id:"reportingRedirect",mount:async t=>{const{mountRedirectApp:e}=await n.e(3).then(n.bind(null,58));return e({...t,apiClient:j,screenshotting:p,share:g})},title:"Reporting redirect app",searchable:!1,chromeless:!0,exactRoute:!0,navLinkStatus:$.a.hidden}),h.addTriggerAction(c.CONTEXT_MENU_TRIGGER,new get_csv_panel_action_ReportingCsvPanelAction({core:t,apiClient:j,startServices$:b,usesUiCapabilities:f}));const v=this.getContract(t),{toasts:y}=t.notifications;return b.subscribe((([{application:e},{licensing:n}])=>{n.license$.subscribe((n=>{g.register((({apiClient:t,toasts:e,uiSettings:n,application:r,license:i,usesUiCapabilities:s,theme:o})=>({id:"csvReports",getShareMenuItems:({objectType:c,objectId:l,sharingData:u,onClose:p})=>{if("search"!==c)return[];const g=u.getSearchSource,h={title:u.title,objectType:c,columns:u.columns},b=t=>({...h,searchSource:g(!t)}),f=[],j=Object(P.a)(i.check("reporting","basic")),v=j.message,y=j.showLinks,_=!j.enableLinks;let x=!1;var O;if(x=!s||!0===(null===(O=r.capabilities.discover)||void 0===O?void 0:O.generateCsv),y&&x){const r=a.i18n.translate("xpack.reporting.shareContextMenu.csvReportsButtonLabel",{defaultMessage:"CSV Reports"});f.push({shareMenuItem:{name:r,icon:"document",toolTipContent:v,disabled:_,"data-test-subj":"csvReportMenuItem",sortOrder:1},panel:{id:"csvReportingPanel",title:r,content:Object(m.jsx)(I,{requiresSavedState:!1,apiClient:t,toasts:e,uiSettings:n,reportType:d.g,layoutId:void 0,objectId:l,getJobParams:b,onClose:p,theme:o})}})}return f}}))({apiClient:j,toasts:y,uiSettings:i,license:n,application:e,usesUiCapabilities:f,theme:t.theme})),g.register((({apiClient:t,toasts:e,uiSettings:n,license:r,application:i,usesUiCapabilities:s,theme:o})=>({id:"screenCaptureReports",getShareMenuItems:({objectType:c,objectId:l,isDirty:u,onClose:p,shareableUrl:d,...g})=>{const{enableLinks:h,showLinks:b,message:f}=Object(P.a)(r.check("reporting","gold")),j=f,v=b,y=!h;let _=!1,x=!1;var O,S;if(s?(_=!0===(null===(O=i.capabilities.dashboard)||void 0===O?void 0:O.generateScreenshot),x=!0===(null===(S=i.capabilities.visualize)||void 0===S?void 0:S.generateScreenshot)):(_=!0,x=!0),!v)return[];if(!["dashboard","visualization"].includes(c))return[];if("dashboard"===c&&!_)return[];if("visualize"===c&&!x)return[];const{sharingData:w}=g,C=[],k=a.i18n.translate("xpack.reporting.shareContextMenu.pngReportsButtonLabel",{defaultMessage:"PNG Reports"}),T={shareableUrl:d,objectType:c,sharingData:w},R=Object(L.a)(T),M=!R,D=R?"pngV2":"png",N={shareMenuItem:{name:k,icon:"document",toolTipContent:j,disabled:y,"data-test-subj":"pngReportMenuItem",sortOrder:10},panel:{id:"reportingPngPanel",title:k,content:Object(m.jsx)(E,{apiClient:t,toasts:e,uiSettings:n,reportType:D,objectId:l,requiresSavedState:M,getJobParams:A(t,T,D),isDirty:u,onClose:p,theme:o})}},$=a.i18n.translate("xpack.reporting.shareContextMenu.pdfReportsButtonLabel",{defaultMessage:"PDF Reports"}),F=R?"printablePdfV2":"printablePdf",I={shareMenuItem:{name:$,icon:"document",toolTipContent:j,disabled:y,"data-test-subj":"pdfReportMenuItem",sortOrder:10},panel:{id:"reportingPdfPanel",title:$,content:Object(m.jsx)(E,{apiClient:t,toasts:e,uiSettings:n,reportType:F,objectId:l,requiresSavedState:M,layoutOption:"dashboard"===c?"print":void 0,getJobParams:A(t,T,F),isDirty:u,onClose:p,theme:o})}};return C.push(N),C.push(I),C}}))({apiClient:j,toasts:y,uiSettings:i,license:n,application:e,usesUiCapabilities:f,theme:t.theme}))}))})),v}start(t){const{notifications:e}=t,n=this.getApiClient(t.http,t.uiSettings),r=new stream_handler_ReportingNotifierStreamHandler(e,n,t.theme),i=Object(u.a)(this.config.poll.jobsRefresh.interval);return s.timer(0,i).pipe(Object(o.takeUntil)(this.stop$),Object(o.map)((()=>function(){const t=sessionStorage.getItem(d.l);return t?JSON.parse(t):[]}())),Object(o.filter)((t=>t.length>0)),Object(o.mergeMap)((t=>r.findChangedStatusJobs(t))),Object(o.mergeMap)((({completed:t,failed:e})=>r.showNotifications({completed:t,failed:e}))),Object(o.catchError)((n=>function(t,e,n){return t.toasts.addDanger(v(a.i18n.translate("xpack.reporting.publicNotifier.pollingErrorMessage",{defaultMessage:"Reporting notifier error!"}),e,n)),window.console.error(e),s.of({completed:[],failed:[]})}(e,n,t.theme)))).subscribe(),this.getContract()}stop(){this.stop$.next()}}function U(t){return new plugin_ReportingPublicPlugin(t)}},function(t,e){t.exports=__kbnSharedDeps__.ReactDom},function(t,e){t.exports=__kbnSharedDeps__.Lodash}]);