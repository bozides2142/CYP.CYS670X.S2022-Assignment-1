/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.remoteClusters_bundle_jsonpfunction=window.remoteClusters_bundle_jsonpfunction||[]).push([[1],Array(24).concat([function(e,t,s){e.exports=s(11)(1115)},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0;var o=r(s(43));t.Provider=o.default;var n=r(s(33));t.connectAdvanced=n.default;var a=s(26);t.ReactReduxContext=a.ReactReduxContext;var i=r(s(47));t.connect=i.default;var l=s(55);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var u=s(56);t.useSelector=u.useSelector,t.createSelectorHook=u.createSelectorHook;var c=s(39);t.useStore=c.useStore,t.createStoreHook=c.createStoreHook;var d=s(32),m=s(57);t.batch=m.unstable_batchedUpdates;var p=r(s(35));t.shallowEqual=p.default,(0,d.setBatch)(m.unstable_batchedUpdates)},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var o=r(s(15)).default.createContext(null);t.ReactReduxContext=o;var n=o;t.default=n},function(e,t,s){e.exports=s(11)(3)},function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0;var r=s(32),o={notify:function(){}};var n=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=o,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t,s;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=(e=(0,r.getBatch)(),t=null,s=null,{clear:function(){t=null,s=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],s=t;s;)e.push(s),s=s.next;return e},subscribe:function(e){var r=!0,o=s={callback:e,next:null,prev:s};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:s=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t.default=n},function(e,t,s){e.exports=s(11)(1116)},function(e,t,s){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(s(49));function n(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t){return function(){return t(e.apply(this,arguments))}}function d(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return function(){var s=e.apply(void 0,arguments),r=function(){throw new Error(n(15))},a={getState:s.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return r=d.apply(void 0,i)(s.dispatch),o.default(o.default({},s),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error(n(16));var s={};for(var r in e){var o=e[r];"function"==typeof o&&(s[r]=c(o,t))}return s},t.combineReducers=function(e){for(var t=Object.keys(e),s={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(s[o]=e[o])}var a,i=Object.keys(s);try{!function(e){Object.keys(e).forEach((function(t){var s=e[t];if(void 0===s(void 0,{type:l.INIT}))throw new Error(n(12));if(void 0===s(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(n(13))}))}(s)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},l=0;l<i.length;l++){var u=i[l],c=s[u],d=e[u],m=c(d,t);if(void 0===m){t&&t.type;throw new Error(n(14))}o[u]=m,r=r||m!==d}return(r=r||i.length!==Object.keys(e).length)?o:e}},t.compose=d,t.createStore=function e(t,s,r){var o;if("function"==typeof s&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(n(0));if("function"==typeof s&&void 0===r&&(r=s,s=void 0),void 0!==r){if("function"!=typeof r)throw new Error(n(1));return r(e)(t,s)}if("function"!=typeof t)throw new Error(n(2));var i=t,c=s,d=[],m=d,p=!1;function j(){m===d&&(m=d.slice())}function f(){if(p)throw new Error(n(3));return c}function b(e){if("function"!=typeof e)throw new Error(n(4));if(p)throw new Error(n(5));var t=!0;return j(),m.push(e),function(){if(t){if(p)throw new Error(n(6));t=!1,j();var s=m.indexOf(e);m.splice(s,1),d=null}}}function x(e){if(!u(e))throw new Error(n(7));if(void 0===e.type)throw new Error(n(8));if(p)throw new Error(n(9));try{p=!0,c=i(c,e)}finally{p=!1}for(var t=d=m,s=0;s<t.length;s++){(0,t[s])()}return e}function g(e){if("function"!=typeof e)throw new Error(n(10));i=e,x({type:l.REPLACE})}function C(){var e,t=b;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(n(11));function s(){e.next&&e.next(f())}return s(),{unsubscribe:t(s)}}})[a]=function(){return this},e}return x({type:l.INIT}),(o={dispatch:x,subscribe:b,getState:f,replaceReducer:g})[a]=C,o}},function(e,t,s){e.exports=s(11)(2454)},function(e,t,s){"use strict";t.__esModule=!0,t.getBatch=t.setBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e};t.getBatch=function(){return r}},function(e,t,s){"use strict";var r=s(31),o=s(24);t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var s=t,r=s.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=s.methodName,h=void 0===d?"connectAdvanced":d,O=s.renderCountProp,v=void 0===O?void 0:O,y=s.shouldHandleStateChanges,E=void 0===y||y,M=s.storeKey,F=void 0===M?"store":M,S=(s.withRef,s.forwardRef),k=void 0!==S&&S,T=s.context,L=void 0===T?m.ReactReduxContext:T,P=(0,a.default)(s,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);0;var w=L;return function(t){var s=t.displayName||t.name||"Component",r=o(s),d=(0,n.default)({},P,{getDisplayName:o,methodName:h,renderCountProp:v,shouldHandleStateChanges:E,storeKey:F,displayName:r,wrappedComponentName:s,WrappedComponent:t}),m=P.pure;var O=m?l.useMemo:function(e){return e()};function y(s){var r=(0,l.useMemo)((function(){var e=s.forwardedRef,t=(0,a.default)(s,["forwardedRef"]);return[s.context,e,t]}),[s]),o=r[0],i=r[1],m=r[2],h=(0,l.useMemo)((function(){return o&&o.Consumer&&(0,u.isContextConsumer)(l.default.createElement(o.Consumer,null))?o:w}),[o,w]),v=(0,l.useContext)(h),y=Boolean(s.store)&&Boolean(s.store.getState)&&Boolean(s.store.dispatch);Boolean(v)&&Boolean(v.store);var M=y?s.store:v.store,F=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,d)}(M)}),[M]),S=(0,l.useMemo)((function(){if(!E)return j;var e=new c.default(M,y?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[M,y,v]),k=S[0],T=S[1],L=(0,l.useMemo)((function(){return y?v:(0,n.default)({},v,{subscription:k})}),[y,v,k]),P=(0,l.useReducer)(f,p,C),R=P[0][0],_=P[1];if(R&&R.error)throw R.error;var D=(0,l.useRef)(),N=(0,l.useRef)(m),I=(0,l.useRef)(),A=(0,l.useRef)(!1),U=O((function(){return I.current&&m===N.current?I.current:F(M.getState(),m)}),[M,R,m]);b(x,[N,D,A,m,U,I,T]),b(g,[E,M,k,F,N,D,A,I,T,_],[M,k,F]);var B=(0,l.useMemo)((function(){return l.default.createElement(t,(0,n.default)({},U,{ref:i}))}),[i,t,U]);return(0,l.useMemo)((function(){return E?l.default.createElement(h.Provider,{value:L},B):B}),[h,B,L])}var M=m?l.default.memo(y):y;if(M.WrappedComponent=t,M.displayName=r,k){var S=l.default.forwardRef((function(e,t){return l.default.createElement(M,(0,n.default)({},e,{forwardedRef:t}))}));return S.displayName=r,S.WrappedComponent=t,(0,i.default)(S,t)}return(0,i.default)(M,t)}};var n=o(s(27)),a=o(s(29)),i=o(s(45)),l=r(s(15)),u=s(46),c=o(s(28)),d=s(34),m=s(26),p=[],j=[null,null];function f(e,t){var s=e[1];return[t.payload,s+1]}function b(e,t,s){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),s)}function x(e,t,s,r,o,n,a){e.current=r,t.current=o,s.current=!1,n.current&&(n.current=null,a())}function g(e,t,s,r,o,n,a,i,l,u){if(e){var c=!1,d=null,m=function(){if(!c){var e,s,m=t.getState();try{e=r(m,o.current)}catch(e){s=e,d=e}s||(d=null),e===n.current?a.current||l():(n.current=e,i.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:s}}))}};s.onStateChange=m,s.trySubscribe(),m();return function(){if(c=!0,s.tryUnsubscribe(),s.onStateChange=null,d)throw d}}}var C=function(){return[null,0]}},function(e,t,s){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=s(15),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=o},function(e,t,s){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var n=0;n<s.length;n++)if(!Object.prototype.hasOwnProperty.call(t,s[n])||!r(e[s[n]],t[s[n]]))return!1;return!0}},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.wrapMapToPropsConstant=function(e){return function(t,s){var r=e(t,s);function o(){return r}return o.dependsOnOwnProps=!1,o}},t.getDependsOnOwnProps=o,t.wrapMapToPropsFunc=function(e,t){return function(t,s){s.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,s){r.mapToProps=e,r.dependsOnOwnProps=o(e);var n=r(t,s);return"function"==typeof n&&(r.mapToProps=n,r.dependsOnOwnProps=o(n),n=r(t,s)),n},r}};r(s(37));function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.default=function(e,t,s){(0,o.default)(e)||(0,n.default)(s+"() in "+t+" must return a plain object. Instead received "+e+".")};var o=r(s(50)),n=r(s(38))},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,s){"use strict";t.__esModule=!0,t.createStoreHook=a,t.useStore=void 0;var r=s(15),o=s(26),n=s(40);function a(e){void 0===e&&(e=o.ReactReduxContext);var t=e===o.ReactReduxContext?n.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var i=a();t.useStore=i},function(e,t,s){"use strict";t.__esModule=!0,t.useReduxContext=function(){0;return(0,r.useContext)(o.ReactReduxContext)};var r=s(15),o=s(26)},function(e,t,s){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},n=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),a=[];function i(e){for(var t=-1,s=0;s<a.length;s++)if(a[s].identifier===e){t=s;break}return t}function l(e,t){for(var s={},r=[],o=0;o<e.length;o++){var n=e[o],l=t.base?n[0]+t.base:n[0],u=s[l]||0,c="".concat(l," ").concat(u);s[l]=u+1;var d=i(c),m={css:n[1],media:n[2],sourceMap:n[3]};-1!==d?(a[d].references++,a[d].updater(m)):a.push({identifier:c,updater:b(m,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=s.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=n(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function m(e,t,s,r){var o=s?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var n=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(n,a[t]):e.appendChild(n)}}function p(e,t,s){var r=s.css,o=s.media,n=s.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var j=null,f=0;function b(e,t){var s,r,o;if(t.singleton){var n=f++;s=j||(j=u(t)),r=m.bind(null,s,n,!1),o=m.bind(null,s,n,!0)}else s=u(t),r=p.bind(null,s,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var s=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<s.length;r++){var o=i(s[r]);a[o].references--}for(var n=l(e,t),u=0;u<s.length;u++){var c=i(s[u]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}s=n}}}},function(e,t,s){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=function(e,t){var s=e[1]||"",r=e[3];if(!r)return s;if(t&&"function"==typeof btoa){var o=(a=r,i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(l," */")),n=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[s].concat(n).concat([o]).join("\n")}var a,i,l;return[s].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var n=0;n<this.length;n++){var a=this[n][0];null!=a&&(o[a]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);r&&o[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),t.push(l))}},t}},function(e,t,s){"use strict";var r=s(24),o=s(31);t.__esModule=!0,t.default=void 0;var n=o(s(15)),a=(r(s(44)),s(26)),i=r(s(28));var l=function(e){var t=e.store,s=e.context,r=e.children,o=(0,n.useMemo)((function(){var e=new i.default(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),l=(0,n.useMemo)((function(){return t.getState()}),[t]);(0,n.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),l!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,l]);var u=s||a.ReactReduxContext;return n.default.createElement(u.Provider,{value:o},r)};t.default=l},function(e,t,s){e.exports=s(11)(7)},function(e,t,s){e.exports=s(11)(228)},function(e,t,s){e.exports=s(11)(376)},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.createConnect=j,t.default=void 0;var o=r(s(27)),n=r(s(29)),a=r(s(33)),i=r(s(35)),l=r(s(48)),u=r(s(51)),c=r(s(52)),d=r(s(53));function m(e,t,s){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+r.wrappedComponentName+".")}}function p(e,t){return e===t}function j(e){var t=void 0===e?{}:e,s=t.connectHOC,r=void 0===s?a.default:s,j=t.mapStateToPropsFactories,f=void 0===j?u.default:j,b=t.mapDispatchToPropsFactories,x=void 0===b?l.default:b,g=t.mergePropsFactories,C=void 0===g?c.default:g,h=t.selectorFactory,O=void 0===h?d.default:h;return function(e,t,s,a){void 0===a&&(a={});var l=a,u=l.pure,c=void 0===u||u,d=l.areStatesEqual,j=void 0===d?p:d,b=l.areOwnPropsEqual,g=void 0===b?i.default:b,h=l.areStatePropsEqual,v=void 0===h?i.default:h,y=l.areMergedPropsEqual,E=void 0===y?i.default:y,M=(0,n.default)(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),F=m(e,f,"mapStateToProps"),S=m(t,x,"mapDispatchToProps"),k=m(s,C,"mergeProps");return r(O,(0,o.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:F,initMapDispatchToProps:S,initMergeProps:k,pure:c,areStatesEqual:j,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:E},M))}}var f=j();t.default=f},function(e,t,s){"use strict";t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=n,t.whenMapDispatchToPropsIsMissing=a,t.whenMapDispatchToPropsIsObject=i,t.default=void 0;var r=s(30),o=s(36);function n(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function a(e){return e?void 0:(0,o.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function i(e){return e&&"object"==typeof e?(0,o.wrapMapToPropsConstant)((function(t){return(0,r.bindActionCreators)(e,t)})):void 0}var l=[n,a,i];t.default=l},function(e,t,s){e.exports=s(11)(2455)},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var s=t;for(;null!==Object.getPrototypeOf(s);)s=Object.getPrototypeOf(s);return t===s}},function(e,t,s){"use strict";t.__esModule=!0,t.whenMapStateToPropsIsFunction=o,t.whenMapStateToPropsIsMissing=n,t.default=void 0;var r=s(36);function o(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function n(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var a=[o,n];t.default=a},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.defaultMergeProps=n,t.wrapMergePropsFunc=a,t.whenMergePropsIsFunction=i,t.whenMergePropsIsOmitted=l,t.default=void 0;var o=r(s(27));r(s(37));function n(e,t,s){return(0,o.default)({},s,{},e,{},t)}function a(e){return function(t,s){s.displayName;var r,o=s.pure,n=s.areMergedPropsEqual,a=!1;return function(t,s,i){var l=e(t,s,i);return a?o&&n(l,r)||(r=l):(a=!0,r=l),r}}}function i(e){return"function"==typeof e?a(e):void 0}function l(e){return e?void 0:function(){return n}}var u=[i,l];t.default=u},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.impureFinalPropsSelectorFactory=n,t.pureFinalPropsSelectorFactory=a,t.default=function(e,t){var s=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,l=(0,o.default)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=s(e,l),c=r(e,l),d=i(e,l);0;return(l.pure?a:n)(u,c,d,e,l)};var o=r(s(29));r(s(54));function n(e,t,s,r){return function(o,n){return s(e(o,n),t(r,n),n)}}function a(e,t,s,r,o){var n,a,i,l,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,m=o.areStatePropsEqual,p=!1;function j(o,p){var j,f,b=!d(p,a),x=!c(o,n);return n=o,a=p,b&&x?(i=e(n,a),t.dependsOnOwnProps&&(l=t(r,a)),u=s(i,l,a)):b?(e.dependsOnOwnProps&&(i=e(n,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=s(i,l,a)):x?(j=e(n,a),f=!m(j,i),i=j,f&&(u=s(i,l,a)),u):u}return function(o,c){return p?j(o,c):(i=e(n=o,a=c),l=t(r,a),u=s(i,l,a),p=!0,u)}}},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.default=function(e,t,s,r){n(e,"mapStateToProps",r),n(t,"mapDispatchToProps",r),n(s,"mergeProps",r)};var o=r(s(38));function n(e,t,s){if(!e)throw new Error("Unexpected value for "+t+" in "+s+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,o.default)("The selector for "+t+" of "+s+" did not specify a value for dependsOnOwnProps.")}},function(e,t,s){"use strict";t.__esModule=!0,t.createDispatchHook=n,t.useDispatch=void 0;var r=s(26),o=s(39);function n(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?o.useStore:(0,o.createStoreHook)(e);return function(){return t().dispatch}}var a=n();t.useDispatch=a},function(e,t,s){"use strict";var r=s(24);t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var o=s(15),n=s(40),a=r(s(28)),i=s(34),l=s(26),u=function(e,t){return e===t};function c(e){void 0===e&&(e=l.ReactReduxContext);var t=e===l.ReactReduxContext?n.useReduxContext:function(){return(0,o.useContext)(e)};return function(e,s){void 0===s&&(s=u);var r=t();return function(e,t,s,r){var n,l=(0,o.useReducer)((function(e){return e+1}),0)[1],u=(0,o.useMemo)((function(){return new a.default(s,r)}),[s,r]),c=(0,o.useRef)(),d=(0,o.useRef)(),m=(0,o.useRef)();try{n=e!==d.current||c.current?e(s.getState()):m.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return(0,i.useIsomorphicLayoutEffect)((function(){d.current=e,m.current=n,c.current=void 0})),(0,i.useIsomorphicLayoutEffect)((function(){function e(){try{var e=d.current(s.getState());if(t(e,m.current))return;m.current=e}catch(e){c.current=e}l({})}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[s,u]),n}(e,s,r.store,r.subscription)}}var d=c();t.useSelector=d},function(e,t,s){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=s(21);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,s){"use strict";function r(e){return function(t){var s=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(s,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(60);case"v8light":return s(62)}},function(e,t,s){var r=s(41),o=s(61);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};r(o,n);e.exports=o.locals||{}},function(e,t,s){(t=s(42)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start !important;padding-top:8px !important}.remoteClustersConnectionStatus__message{flex-basis:auto !important}\n",""]),e.exports=t},function(e,t,s){var r=s(41),o=s(63);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};r(o,n);e.exports=o.locals||{}},function(e,t,s){(t=s(42)(!1)).push([e.i,".remoteClusterSkipIfUnavailableSwitch{justify-content:flex-start !important;padding-top:8px !important}.remoteClustersConnectionStatus__message{flex-basis:auto !important}\n",""]),e.exports=t},function(e,t,s){"use strict";s.r(t),s.d(t,"renderApp",(function(){return mt}));var r=s(15),o=s.n(r),n=s(21),a=s(25),i=s(20),l=s(19),u=s(22),c=s(8),d=s(6),m=s(10);async function p(e){return await Object(m.c)(void 0,e)}async function j(e){const t=Object(m.d)("",e);return await Object(d.d)(t,c.c)}async function f(e){const{name:t,...s}=e,r=Object(m.e)(t,s);return await Object(d.d)(r,c.f)}var b=s(7);function x(e,t){if(e&&e.body){const{error:s,statusCode:r,message:o}=e.body;return{title:t,text:`${r}: ${s}. ${o}`}}}var g=s(5),C=s(9);let h,O=!1;function v(e){O=e}function y(){return h}const E=e=>e.clusters.asList,M=e=>e.clusters.byName,F=e=>e.detailPanel.isOpen,S=e=>((e,t)=>M(e)[t])(e,e.detailPanel.clusterName),k=e=>e.detailPanel.clusterName,T=e=>e.clusters.isLoading,L=e=>e.clusters.clusterLoadError,P=e=>e.addCluster.isAdding,w=e=>e.addCluster.error,R=e=>M(e)[e.editCluster.clusterName],_=e=>e.editCluster.isEditing,D=e=>e.editCluster.error,N=e=>e.removeCluster.isRemoving;var I=s(0);const A="OPEN_DETAIL_PANEL",U="CLOSE_DETAIL_PANEL",B="LOAD_CLUSTERS_START",q="LOAD_CLUSTERS_SUCCESS",z="LOAD_CLUSTERS_FAILURE",W="REFRESH_CLUSTERS_SUCCESS",H="ADD_CLUSTER_START",V="ADD_CLUSTER_SUCCESS",$="ADD_CLUSTER_FAILURE",G="CLEAR_ADD_CLUSTER_ERRORS",K="EDIT_CLUSTER_START",Q="EDIT_CLUSTER_STOP",Y="EDIT_CLUSTER_SAVE",J="EDIT_CLUSTER_SUCCESS",Z="EDIT_CLUSTER_FAILURE",X="CLEAR_EDIT_CLUSTER_ERRORS",ee="REMOVE_CLUSTERS_START",te="REMOVE_CLUSTERS_FINISH",se=({name:e})=>t=>{const{history:s}=y(),r=s.location.search,{cluster:o}=Object(i.extractQueryParams)(r);o!==e&&s.replace({search:`?cluster=${e}`}),t({type:A,payload:{clusterName:e}})},re=()=>e=>{e({type:U})};function oe(e,t=null){return 1!==e?I.i18n.translate("xpack.remoteClusters.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} remote clusters",values:{count:e}}):t?I.i18n.translate("xpack.remoteClusters.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing remote cluster '{name}'",values:{name:t}}):void 0}const ne=()=>async e=>{let t;e({type:B});try{t=await p()}catch(t){return e({type:z,payload:{error:t}})}e({type:q,payload:{clusters:t}})},ae=()=>async e=>{let t;try{t=await p({asSystemRequest:!0})}catch(e){return function(e,t){const s=x(e,t);return s?b.c.addWarning(s):b.a.add(e,t)}(e,I.i18n.translate("xpack.remoteClusters.refreshAction.errorTitle",{defaultMessage:"Error refreshing remote clusters"}))}e({type:W,payload:{clusters:t}})};var ie=s(27),le=s.n(ie),ue=s(17),ce=s(18),de=s(4),me=s(2),pe=s.n(me),je=s(1),fe=s(16);function be({isConnected:e,mode:t}){let s,r;e?(s=Object(fe.jsx)(ce.EuiIcon,{type:"check",color:"success"}),r=I.i18n.translate("xpack.remoteClusters.connectedStatus.connectedAriaLabel",{defaultMessage:"Connected"})):(s=Object(fe.jsx)(ce.EuiIcon,{type:"cross",color:"danger"}),r=I.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedAriaLabel",{defaultMessage:"Not connected"}));const o=I.i18n.translate("xpack.remoteClusters.connectedStatus.notConnectedToolTip",{defaultMessage:"Ensure the seed nodes are configured with the remote cluster's transport port, not the http port."});return Object(fe.jsx)(ce.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)("span",{className:"eui-displayBlock"},s)),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1,className:"remoteClustersConnectionStatus__message"},Object(fe.jsx)(ce.EuiText,{size:"s"},r)),!e&&t===je.d&&Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiIconTip,{color:"subdued",content:o})))}class remove_cluster_button_provider_RemoveClusterButtonProvider extends r.Component{constructor(...e){super(...e),pe()(this,"state",{isModalOpen:!1}),pe()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),pe()(this,"showConfirmModal",(()=>{this.setState({isModalOpen:!0})})),pe()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),pe()(this,"onConfirm",(()=>{const{removeClusters:e,clusterNames:t}=this.props;e(t),this.closeConfirmModal()}))}render(){const{clusterNames:e,children:t}=this.props,{isModalOpen:s}=this.state,n=1===e.length;let a;if(s){const t=n?I.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.deleteSingleClusterTitle",{defaultMessage:"Remove remote cluster '{name}'?",values:{name:e[0]}}):I.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.multipleDeletionTitle",{defaultMessage:"Remove {count} remote clusters?",values:{count:e.length}}),s=Object(fe.jsx)(r.Fragment,null,Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.removeButton.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these remote clusters:"})),Object(fe.jsx)("ul",null,e.map((e=>Object(fe.jsx)("li",{key:e},e)))));a=Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiConfirmModal,{"data-test-subj":"remoteClustersDeleteConfirmModal",title:t,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:I.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:I.i18n.translate("xpack.remoteClusters.removeButton.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal},!n&&s))}return Object(fe.jsx)(r.Fragment,null,t(this.showConfirmModal),a)}}const xe=Object(a.connect)(void 0,(e=>({removeClusters:t=>{e((e=>async(t,s)=>{t({type:ee});let r=[],o=[];var n;if(await Promise.all([(n=e.join(","),Object(m.b)(n)).then((e=>{({itemsDeleted:r,errors:o}=e)})),new Promise((e=>setTimeout(e,500)))]).catch((t=>{var s;const r=oe(e.length,e[0]);b.c.addDanger({title:r,text:null===(s=t.body)||void 0===s?void 0:s.message})})),o.length>0){const{name:e,error:{payload:{message:t}}}=o[0],s=oe(o.length,e);b.c.addDanger({title:s,text:t})}r.length>0&&(Object(d.c)(d.a.COUNT,e.length>1?c.e:c.d),1===r.length?b.c.addSuccess(I.i18n.translate("xpack.remoteClusters.removeAction.successSingleNotificationTitle",{defaultMessage:"Remote cluster '{name}' was removed",values:{name:r[0]}})):b.c.addSuccess(I.i18n.translate("xpack.remoteClusters.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} remote clusters were removed",values:{count:r.length}})));const a=k(s());a&&e.includes(a)&&t(re()),t({type:te,payload:r})})(t))}})))(remove_cluster_button_provider_RemoveClusterButtonProvider),ge=(e,t)=>{if(t){const s=t.toLowerCase();return e.filter((e=>{const{name:t,seeds:r,proxyAddress:o}=e;return!!t.toLowerCase().toLowerCase().includes(s)||(!(!o||!o.toLowerCase().includes(s))||!!r&&r.some((e=>e.includes(s))))}))}return e};class remote_cluster_table_RemoteClusterTable extends r.Component{static getDerivedStateFromProps(e,t){const{clusters:s}=e,{prevClusters:r,queryText:o}=t;return r!==s?{prevClusters:s,filteredClusters:ge(s,o)}:null}constructor(e){super(e),pe()(this,"onSearch",(({query:e})=>{if(!e)return;const{clusters:t}=this.props,{text:s}=e;this.setState({queryText:s,filteredClusters:ge(t,s)})})),this.state={prevClusters:e.clusters,selectedItems:[],filteredClusters:e.clusters,queryText:""}}render(){const{openDetailPanel:e}=this.props,{selectedItems:t,filteredClusters:s}=this.state,{history:r}=y(),o=[{field:"name",name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:(t,{isConfiguredByNode:s,hasDeprecatedProxySetting:r})=>{const o=Object(fe.jsx)(ce.EuiLink,{"data-test-subj":"remoteClustersTableListClusterLink",onClick:()=>{Object(d.c)(d.a.CLICK,c.g),e(t)}},t);return s?Object(fe.jsx)(ce.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},o),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterDefinedByNodeTooltip"},Object(fe.jsx)(ce.EuiIconTip,{type:"iInCircle",color:"subdued",content:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.isConfiguredByNodeMessage",defaultMessage:"Defined in elasticsearch.yml"})}))):r?Object(fe.jsx)(ce.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListClusterWithDeprecatedSettingTooltip"},o),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1,"data-test-subj":"remoteClustersTableListDeprecatedSetttingsTooltip"},Object(fe.jsx)(ce.EuiIconTip,{type:"alert",color:"warning",content:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.hasDeprecatedSettingMessage",defaultMessage:"Edit this cluster to update the deprecated settings."})}))):o}},{field:"isConnected",name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectedColumnTitle",{defaultMessage:"Status"}),sortable:!0,render:(e,{mode:t})=>Object(fe.jsx)(be,{isConnected:e,mode:t}),width:"240px"},{field:"mode",name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.modeColumnTitle",{defaultMessage:"Mode"}),sortable:!0,render:e=>e===je.c?e:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.sniffModeDescription",{defaultMessage:"default"})},{field:"mode",name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.addressesColumnTitle",{defaultMessage:"Addresses"}),truncateText:!0,render:(e,{seeds:t,proxyAddress:s})=>e===je.c?s:t.join(", ")},{field:"mode",name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.connectionsColumnTitle",{defaultMessage:"Connections"}),sortable:!0,width:"160px",render:(e,{connectedNodesCount:t,connectedSocketsCount:s})=>e===je.c?s:t},{name:I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionsColumnTitle",{defaultMessage:"Actions"}),width:"100px",actions:[{render:({name:e,isConfiguredByNode:t})=>{const s=t?I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedEditDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be edited"}):I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionEditDescription",{defaultMessage:"Edit remote cluster"});return Object(fe.jsx)(ce.EuiToolTip,{content:s,delay:"long"},Object(fe.jsx)(ce.EuiButtonIcon,le()({"data-test-subj":"remoteClusterTableRowEditButton","aria-label":s,iconType:"pencil",color:"primary",isDisabled:t},Object(l.reactRouterNavigate)(r,`/edit/${e}`),{disabled:t})))}},{render:({name:e,isConfiguredByNode:t})=>{const s=t?I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionBlockedDeleteDescription",{defaultMessage:"Remote clusters defined in elasticsearch.yml can't be deleted"}):I.i18n.translate("xpack.remoteClusters.remoteClusterList.table.actionDeleteDescription",{defaultMessage:"Delete remote cluster"});return Object(fe.jsx)(ce.EuiToolTip,{content:s,delay:"long"},Object(fe.jsx)(xe,{clusterNames:[e]},(e=>Object(fe.jsx)(ce.EuiButtonIcon,{"data-test-subj":"remoteClusterTableRowRemoveButton","aria-label":s,iconType:"trash",color:"danger",isDisabled:t,onClick:e}))))}}]}],n={toolsLeft:t.length?Object(fe.jsx)(xe,{clusterNames:t.map((({name:e})=>e))},(e=>Object(fe.jsx)(ce.EuiButton,{color:"danger",onClick:e,"data-test-subj":"remoteClusterBulkDeleteButton"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.table.removeButtonLabel",defaultMessage:"Remove {count, plural, one {remote cluster} other {{count} remote clusters}}",values:{count:t.length}})))):void 0,toolsRight:Object(fe.jsx)(ce.EuiButton,le()({},Object(l.reactRouterNavigate)(r,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterCreateButton"}),Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.connectButtonLabel",defaultMessage:"Add a remote cluster"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"remoteClusterSearch"}},a={onSelectionChange:e=>this.setState({selectedItems:e}),selectable:({isConfiguredByNode:e})=>!e};return Object(fe.jsx)(ce.EuiInMemoryTable,{items:s,itemId:"name",columns:o,search:n,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},sorting:{sort:{field:"name",direction:"asc"}},selection:a,isSelectable:!0,"data-test-subj":"remoteClusterListTable"})}}pe()(remote_cluster_table_RemoteClusterTable,"defaultProps",{clusters:[]});const Ce=Object(a.connect)(void 0,(e=>({openDetailPanel:t=>{e(se({name:t}))}})))(remote_cluster_table_RemoteClusterTable);var he=s(23);const Oe=Object(r.createContext)({}),ve=({children:e,context:t})=>Object(fe.jsx)(Oe.Provider,{value:t},e),ye=()=>{const e=Object(r.useContext)(Oe);if(!e)throw new Error("Cannot use outside of app context");return e};class request_flyout_RequestFlyout extends r.PureComponent{render(){const{close:e,cluster:t}=this.props,{name:s}=t,r=`PUT _cluster/settings\n${JSON.stringify(function(e){if(!e||"object"!=typeof e)throw new Error("Unable to serialize cluster");const{name:t,seeds:s,skipUnavailable:r,mode:o,nodeConnections:n,proxyAddress:a,proxySocketConnections:i,serverName:l,hasDeprecatedProxySetting:u}=e,c={skip_unavailable:"boolean"==typeof r?r:null,mode:o||null,proxy_address:a||null,proxy_socket_connections:i||null,server_name:l||null,seeds:s||null,node_connections:n||null};return u&&(c.proxy=null),{persistent:{cluster:{remote:{[t]:c}}}}}(t),null,2)}`;return Object(fe.jsx)(ce.EuiFlyout,{maxWidth:480,onClose:e},Object(fe.jsx)(ce.EuiFlyoutHeader,null,Object(fe.jsx)(ce.EuiTitle,{"data-test-subj":"remoteClusterRequestFlyoutTitle"},Object(fe.jsx)("h2",null,s?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.namedTitle",defaultMessage:"Request for '{name}'",values:{name:s}}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),Object(fe.jsx)(ce.EuiFlyoutBody,null,Object(fe.jsx)(ce.EuiText,null,Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create or update this remote cluster."}))),Object(fe.jsx)(ce.EuiSpacer,null),Object(fe.jsx)(ce.EuiCodeBlock,{language:"json",isCopyable:!0},r)),Object(fe.jsx)(ce.EuiFlyoutFooter,null,Object(fe.jsx)(ce.EuiButtonEmpty,{iconType:"cross",onClick:e,flush:"left"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}function Ee(e){if(!e||!e.trim())return Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.form.errors.nameMissing",defaultMessage:"Name is required."});if(e.includes(" "))return Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalSpace",defaultMessage:"Spaces are not allowed in the name."});const t=e.match(/[^a-zA-Z\d\-_]/g);return t?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.form.errors.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the name.",values:{characterList:Object(fe.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):null}function Me(e){if(!e)return!1;return!e.split(":")[0].split(".").some((e=>{var t;if(!e)return!0;const[s]=null!==(t=e.match(/[A-Za-z0-9\-]*/))&&void 0!==t?t:[];return s!==e}))}function Fe(e){var t;if(!e)return!1;const s=e.split(":");if(!(2===s.length))return!1;const r=s[1];if(!r)return!1;return(null!==(t=r.match(/[0-9]*/))&&void 0!==t?t:[])[0]===r}function Se(e){if(!e)return Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.missingProxyMessage",defaultMessage:"A proxy address is required."});return Me(e)?Fe(e)?null:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.addressError.invalidPortMessage",defaultMessage:"A port is required."}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.proxyError.invalidCharactersMessage",defaultMessage:"Address must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."})}function ke(e,t){return e.some((e=>Boolean(e.trim())))||t?null:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.form.errors.seedMissing",defaultMessage:"At least one seed node is required."})}function Te(e){const t=[];if(!e)return t;return Me(e)||t.push(Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidCharactersMessage",defaultMessage:"Seed node must use host:port format. Example: 127.0.0.1:9400, localhost:9400. Hosts can only consist of letters, numbers, and dashes."})),Fe(e)||t.push(Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.invalidPortMessage",defaultMessage:"A port is required."})),t}function Le(e){return e&&e.trim()?null:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.form.errors.serverNameMissing",defaultMessage:"A server name is required."})}const Pe={urlEmpty:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.urlRequiredError",defaultMessage:"A url is required."}),urlInvalid:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.cloudDeploymentForm.urlInvalidError",defaultMessage:"Url is invalid"})},we="9400",Re={proxyAddress:"",serverName:""},_e=new RegExp(/^https?:\/\//),De=e=>{if(!e)return!0;const{proxyAddress:t,serverName:s}=e;if(!t&&!s)return!0;const r=(null!=t?t:"").split(":"),o=r[0];return r[1]===we&&o===s},Ne=e=>{var t;return e=(e=(null!==(t=e)&&void 0!==t?t:"").trim().toLowerCase()).replace(_e,"")},Ie=e=>e?Me(e=Ne(e))?null:Pe.urlInvalid:Pe.urlEmpty,Ae=(e,t)=>{const{name:s,seeds:r=[],mode:o,proxyAddress:n,serverName:a,cloudUrlEnabled:i,cloudUrl:l}=e;return{name:Ee(s),seeds:o===je.d?ke(r):null,proxyAddress:i||o!==je.c?null:Se(n),serverName:!i&&t&&o===je.c?Le(a):null,cloudUrl:i?Ie(l):null}},Ue=({fields:e,fieldsErrors:t,areErrorsVisible:s,onFieldsChange:n})=>{const[a,i]=Object(r.useState)([]),{seeds:l=[],nodeConnections:u}=e,{seeds:c}=t,d=Boolean(s&&c),m=d||0!==a.length,p=d&&c?a.concat(c):a,j=l.map((e=>({label:e})));return Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormSeedNodesFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsLabel",defaultMessage:"Seed nodes"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSeedsHelpText",defaultMessage:"An IP address or host name, followed by the {transportPort} of the remote cluster. Specify multiple seed nodes so discovery doesn't fail if a node is unavailable.",values:{transportPort:Object(fe.jsx)(ce.EuiLink,{href:de.f,target:"_blank"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSeedsHelpText.transportPortLinkText",defaultMessage:"transport port"}))}}),isInvalid:m,error:p,fullWidth:!0},Object(fe.jsx)(ce.EuiComboBox,{noSuggestions:!0,placeholder:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldSeedsPlaceholder",{defaultMessage:"host:port"}),selectedOptions:j,onCreateOption:e=>{if(!e)return;const t=Te(e);if(0!==t.length)return i(t),!1;const s=l.slice(0);s.push(e.toLowerCase()),n({seeds:s})},onChange:e=>n({seeds:e.map((({label:e})=>e))}),onSearchChange:e=>{if(!e)return;const t=e&&0!==Te(e).length?a:[];l.includes(e)&&t.push(Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.localSeedError.duplicateMessage",defaultMessage:"Duplicate seed nodes aren't allowed.`"})),i(t)},isInvalid:m,fullWidth:!0,"data-test-subj":"remoteClusterFormSeedsInput"})),Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormNodeConnectionsFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsLabel",defaultMessage:"Node connections"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNodeConnectionsHelpText",defaultMessage:"The number of gateway nodes to connect to for this cluster."}),fullWidth:!0},Object(fe.jsx)(ce.EuiFieldNumber,{value:u||"",onChange:e=>n({nodeConnections:Number(e.target.value)}),fullWidth:!0})))},Be=()=>{const[e,t]=Object(r.useState)(!1),{cloudBaseUrl:s}=ye();return Object(fe.jsx)(ce.EuiPopover,{button:Object(fe.jsx)(ce.EuiText,{size:"xs"},Object(fe.jsx)(ce.EuiLink,{onClick:()=>{t(!e)}},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.buttonLabel",defaultMessage:"Need help?"}))),isOpen:e,closePopover:()=>t(!1),anchorPosition:"upCenter"},Object(fe.jsx)(ce.EuiPopoverTitle,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.popoverTitle",defaultMessage:"How to find your Elasticsearch endpoint URL"})),Object(fe.jsx)(ce.EuiText,{size:"s",style:{maxWidth:500}},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelp.stepOneText",defaultMessage:"Open the {deploymentsLink}, select the remote deployment and copy the {elasticsearch} endpoint URL.",values:{deploymentsLink:Object(fe.jsx)(ce.EuiLink,{external:!0,href:`${s}/deployments`,target:"_blank"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cloudUrlHelpModal.deploymentsLink",defaultMessage:"deployments page"})),elasticsearch:Object(fe.jsx)("strong",null," Elasticsearch")}})))},qe=e=>{const{fields:t,fieldsErrors:s,areErrorsVisible:r,onFieldsChange:n}=e,{isCloudEnabled:a}=ye(),{proxyAddress:i,serverName:l,proxySocketConnections:u,cloudUrl:c,cloudUrlEnabled:d}=t,{proxyAddress:m,serverName:p,cloudUrl:j}=s;return Object(fe.jsx)(o.a.Fragment,null,d?Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormCloudUrlFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldCloudUrlLabel",defaultMessage:"Elasticsearch endpoint URL"}),labelAppend:Object(fe.jsx)(Be,null),isInvalid:Boolean(r&&j),error:j,fullWidth:!0,helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldCloudUrlHelpText",defaultMessage:"The protocol (https://) and port values are optional."})},Object(fe.jsx)(ce.EuiFieldText,{value:c,onChange:e=>n({cloudUrl:e.target.value}),isInvalid:Boolean(r&&j),"data-test-subj":"remoteClusterFormCloudUrlInput",fullWidth:!0}))):Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormProxyAddressFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressLabel",defaultMessage:"Proxy address"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxyAddressHelpText",defaultMessage:"The address to use for remote connections."}),isInvalid:Boolean(r&&m),error:m,fullWidth:!0},Object(fe.jsx)(ce.EuiFieldText,{value:i,placeholder:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.fieldProxyAddressPlaceholder",{defaultMessage:"host:port"}),onChange:e=>n({proxyAddress:e.target.value}),isInvalid:Boolean(r&&m),"data-test-subj":"remoteClusterFormProxyAddressInput",fullWidth:!0})),Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormServerNameFormRow",isInvalid:Boolean(r&&p),error:p,label:a?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameRequiredLabel",defaultMessage:"Server name"}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameOptionalLabel",defaultMessage:"Server name (optional)"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText",defaultMessage:"A string sent in the server_name field of the TLS Server Name Indication extension if TLS is enabled. {learnMoreLink}",values:{learnMoreLink:Object(fe.jsx)(ce.EuiLink,{href:de.c,target:"_blank"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldServerNameHelpText.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}),fullWidth:!0},Object(fe.jsx)(ce.EuiFieldText,{value:l,onChange:e=>n({serverName:e.target.value}),isInvalid:Boolean(r&&p),fullWidth:!0}))),Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormProxySocketConnectionsFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldProxySocketConnectionsLabel",defaultMessage:"Socket connections"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldSocketConnectionsHelpText",defaultMessage:"The number of connections to open per remote cluster."}),fullWidth:!0},Object(fe.jsx)(ce.EuiFieldNumber,{value:u||"",onChange:e=>n({proxySocketConnections:Number(e.target.value)}),fullWidth:!0})))},ze=e=>{const{fields:t,onFieldsChange:s}=e,{mode:r,cloudUrlEnabled:n}=t,{isCloudEnabled:a}=ye();return Object(fe.jsx)(ce.EuiDescribedFormGroup,{title:Object(fe.jsx)(ce.EuiTitle,{size:"s"},Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeTitle",defaultMessage:"Connection mode"}))),description:Object(fe.jsx)(o.a.Fragment,null,a?Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeCloudDescription",defaultMessage:"Automatically configure the remote cluster by using the Elasticsearch endpoint URL of the remote deployment or enter the proxy address and server name manually."}),Object(fe.jsx)(ce.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(fe.jsx)(ce.EuiSwitch,{label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.manualModeFieldLabel",defaultMessage:"Manually enter proxy address and server name"}),checked:!n,"data-test-subj":"remoteClusterFormCloudUrlToggle",onChange:e=>s({cloudUrlEnabled:!e.target.checked})})),Object(fe.jsx)(ce.EuiSpacer,{size:"s"})):Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionModeDescription",defaultMessage:"Use seed nodes by default, or switch to proxy mode."}),Object(fe.jsx)(ce.EuiFormRow,{hasEmptyLabelSpace:!0,fullWidth:!0},Object(fe.jsx)(ce.EuiSwitch,{label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldModeLabel",defaultMessage:"Use proxy mode"}),checked:r===je.c,"data-test-subj":"remoteClusterFormConnectionModeToggle",onChange:e=>s({mode:e.target.checked?je.c:je.d})})))),fullWidth:!0},r===je.d?Object(fe.jsx)(Ue,e):Object(fe.jsx)(qe,e))},We={name:"",seeds:[],skipUnavailable:!1,nodeConnections:3,proxyAddress:"",proxySocketConnections:18,serverName:""},He="removeClustersErrorTitle",Ve="removeClustersErrorList";class remote_cluster_form_RemoteClusterForm extends r.Component{constructor(e,t){super(e,t),pe()(this,"generateId",void 0),pe()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),pe()(this,"onFieldsChange",(e=>{const{isCloudEnabled:t}=this.context,{cloudUrl:s}=e;if(s){const{proxyAddress:t,serverName:r}=((e="")=>{if(!(e=Ne(e))||!Me(e))return Re;const t=e.split(":")[0];return{proxyAddress:`${t}:9400`,serverName:t}})(s);e={...e,proxyAddress:t,serverName:r}}this.setState((({fields:s})=>{const r={...s,...e};return{fields:r,fieldsErrors:Ae(r,t)}}))})),pe()(this,"save",(()=>{const{save:e}=this.props;if(this.hasErrors())return void this.setState({areErrorsVisible:!0});e(this.getCluster())})),pe()(this,"onSkipUnavailableChange",(e=>{const t=e.target.checked;this.onFieldsChange({skipUnavailable:t})})),pe()(this,"resetToDefault",(e=>{this.onFieldsChange({[e]:We[e]})})),pe()(this,"hasErrors",(()=>{const{fieldsErrors:e}=this.state;return Object.values(e).some((e=>null!=e))})),pe()(this,"renderErrors",(()=>{const{areErrorsVisible:e,fieldsErrors:{name:t,seeds:s,proxyAddress:o,serverName:n,cloudUrl:a}}=this.state,i=this.hasErrors();if(!e||!i)return null;const l=[];t&&l.push({key:"nameExplanation",field:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputNameErrorMessage",{defaultMessage:'The "Name" field is invalid.'}),error:t}),s&&l.push({key:"seedsExplanation",field:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputSeedsErrorMessage",{defaultMessage:'The "Seed nodes" field is invalid.'}),error:s}),o&&l.push({key:"proxyAddressExplanation",field:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputProxyErrorMessage",{defaultMessage:'The "Proxy address" field is invalid.'}),error:o}),n&&l.push({key:"serverNameExplanation",field:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputServerNameErrorMessage",{defaultMessage:'The "Server name" field is invalid.'}),error:n}),a&&l.push({key:"cloudUrlExplanation",field:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.inputcloudUrlErrorMessage",{defaultMessage:'The "Elasticsearch endpoint URL" field is invalid.'}),error:a});const u=l.length&&Object(fe.jsx)(ce.EuiScreenReaderOnly,null,Object(fe.jsx)("dl",{id:this.generateId(Ve),"aria-labelledby":this.generateId(He)},l.map((({key:e,field:t,error:s})=>Object(fe.jsx)("div",{key:e},Object(fe.jsx)("dt",null,t),Object(fe.jsx)("dd",null,s))))));return Object(fe.jsx)(r.Fragment,null,Object(fe.jsx)(ce.EuiSpacer,{size:"m","data-test-subj":"remoteClusterFormGlobalError"}),Object(fe.jsx)(ce.EuiCallOut,{title:Object(fe.jsx)("h3",{id:this.generateId(He)},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.errorTitle",defaultMessage:"Fix errors before continuing."})),color:"danger",iconType:"cross"}),Object(fe.jsx)(ce.EuiDelayRender,null,u))}));const{cluster:s}=e,{isCloudEnabled:o}=t,n=o?je.c:je.d,a=Object(he.merge)({},{...We,mode:n,cloudUrl:(i=s,De(i)&&null!==(l=null==i?void 0:i.serverName)&&void 0!==l?l:""),cloudUrlEnabled:o&&De(s)},s);var i,l;this.generateId=Object(ce.htmlIdGenerator)(),this.state={fields:a,fieldsErrors:Ae(a,o),areErrorsVisible:!1,isRequestVisible:!1}}getCluster(){const{fields:{name:e,mode:t,seeds:s,nodeConnections:r,proxyAddress:o,proxySocketConnections:n,serverName:a,skipUnavailable:i}}=this.state,{cluster:l}=this.props;let u;return u=t===je.c?{proxyAddress:o,proxySocketConnections:n,serverName:a}:{seeds:s,nodeConnections:r},{name:e,skipUnavailable:i,mode:t,hasDeprecatedProxySetting:null==l?void 0:l.hasDeprecatedProxySetting,...u}}renderSkipUnavailable(){const{fields:{skipUnavailable:e}}=this.state;return Object(fe.jsx)(ce.EuiDescribedFormGroup,{title:Object(fe.jsx)(ce.EuiTitle,{size:"s"},Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableTitle",defaultMessage:"Make remote cluster optional"}))),description:Object(fe.jsx)(r.Fragment,null,Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription",defaultMessage:"If any of the remote clusters are unavailable, the query request fails. To avoid this and continue to send requests to other clusters, enable {optionName}. {learnMoreLink}",values:{optionName:Object(fe.jsx)("strong",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.optionNameLabel",defaultMessage:"Skip if unavailable"})),learnMoreLink:Object(fe.jsx)(ce.EuiLink,{href:de.e,target:"_blank"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableDescription.learnMoreLinkLabel",defaultMessage:"Learn more."}))}}))),fullWidth:!0},Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormSkipUnavailableFormRow",className:"remoteClusterSkipIfUnavailableSwitch",hasEmptyLabelSpace:!0,fullWidth:!0,helpText:e!==We.skipUnavailable?Object(fe.jsx)(ce.EuiLink,{onClick:()=>{this.resetToDefault("skipUnavailable")}},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableResetLabel",defaultMessage:"Reset to default"})):null},Object(fe.jsx)(ce.EuiSwitch,{label:I.i18n.translate("xpack.remoteClusters.remoteClusterForm.sectionSkipUnavailableLabel",{defaultMessage:"Skip if unavailable"}),checked:!!e,onChange:this.onSkipUnavailableChange,"data-test-subj":"remoteClusterFormSkipUnavailableFormToggle"})))}renderActions(){const{isSaving:e,cancel:t}=this.props,{areErrorsVisible:s,isRequestVisible:r}=this.state;if(e)return Object(fe.jsx)(ce.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiLoadingSpinner,{size:"l"})),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiText,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.actions.savingText",defaultMessage:"Saving"}))));let o;t&&(o=Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiButtonEmpty,{color:"primary",onClick:t},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.cancelButtonLabel",defaultMessage:"Cancel"}))));const n=s&&this.hasErrors();return Object(fe.jsx)(ce.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiButton,{"data-test-subj":"remoteClusterFormSaveButton",color:"success",iconType:"check",onClick:this.save,fill:!0,isDisabled:n,"aria-describedby":`${this.generateId(He)} ${this.generateId(Ve)}`},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.saveButtonLabel",defaultMessage:"Save"}))),o)),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiButtonEmpty,{onClick:this.toggleRequest,"data-test-subj":"remoteClustersRequestButton"},r?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.showRequestButtonLabel",defaultMessage:"Show request"}))))}renderSavingFeedback(){return this.props.isSaving?Object(fe.jsx)(ce.EuiOverlayMask,null,Object(fe.jsx)(ce.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderSaveErrorFeedback(){const{saveError:e}=this.props;if(e){const{message:t,cause:s}=e;let o;return s&&Array.isArray(s)&&(o=1===s.length?Object(fe.jsx)("p",null,s[0]):Object(fe.jsx)("ul",null,s.map((e=>Object(fe.jsx)("li",{key:e},e))))),Object(fe.jsx)(r.Fragment,null,Object(fe.jsx)(ce.EuiCallOut,{title:t,iconType:"cross",color:"warning"},o),Object(fe.jsx)(ce.EuiSpacer,null))}return null}render(){const{isRequestVisible:e,areErrorsVisible:t,fields:s,fieldsErrors:o}=this.state,{name:n}=o,{cluster:a}=this.props,i=!a;return Object(fe.jsx)(r.Fragment,null,this.renderSaveErrorFeedback(),Object(fe.jsx)(ce.EuiForm,{"data-test-subj":"remoteClusterForm"},Object(fe.jsx)(ce.EuiDescribedFormGroup,{title:Object(fe.jsx)(ce.EuiTitle,{size:"s"},Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameTitle",defaultMessage:"Name"}))),description:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.sectionNameDescription",defaultMessage:"A unique name for the cluster."}),fullWidth:!0},Object(fe.jsx)(ce.EuiFormRow,{"data-test-subj":"remoteClusterFormNameFormRow",label:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabel",defaultMessage:"Name"}),helpText:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterForm.fieldNameLabelHelpText",defaultMessage:"Must contain only letters, numbers, underscores, and dashes."}),error:n,isInvalid:Boolean(t&&n),fullWidth:!0},Object(fe.jsx)(ce.EuiFieldText,{isInvalid:Boolean(t&&n),value:s.name,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:!0,disabled:!i,"data-test-subj":"remoteClusterFormNameInput"}))),Object(fe.jsx)(ze,{fields:s,fieldsErrors:o,onFieldsChange:this.onFieldsChange,areErrorsVisible:t}),this.renderSkipUnavailable()),this.renderErrors(),Object(fe.jsx)(ce.EuiSpacer,{size:"l"}),this.renderActions(),this.renderSavingFeedback(),e?Object(fe.jsx)(request_flyout_RequestFlyout,{cluster:this.getCluster(),close:()=>this.setState({isRequestVisible:!1})}):null)}}pe()(remote_cluster_form_RemoteClusterForm,"defaultProps",{fields:Object(he.merge)({},We)}),pe()(remote_cluster_form_RemoteClusterForm,"contextType",Oe);const $e=({title:e,description:t})=>Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(fe.jsx)("span",{"data-test-subj":"remoteClusterPageTitle"},e),rightSideItems:[Object(fe.jsx)(ce.EuiButtonEmpty,{size:"s",flush:"right",href:de.d,target:"_blank",iconType:"help","data-test-subj":"remoteClusterDocsButton"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.readDocsButtonLabel",defaultMessage:"Remote cluster docs"}))],description:t}),Object(fe.jsx)(ce.EuiSpacer,{size:"l"}));function Ge(){return Object(fe.jsx)(ce.EuiCallOut,{title:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningTitle",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."}),color:"primary",iconType:"iInCircle","data-test-subj":"remoteClusterConfiguredByNodeWarning"})}class detail_panel_DetailPanel extends r.Component{renderSkipUnavailableValue(e){return!0===e?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableTrueValue",defaultMessage:"Yes"}):!1===e?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableFalseValue",defaultMessage:"No"}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableNullValue",defaultMessage:"Default"})}renderClusterNotFound(){return Object(fe.jsx)(ce.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s","data-test-subj":"remoteClusterDetailClusterNotFound"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiText,null,Object(fe.jsx)(ce.EuiTextColor,{color:"subdued"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.notFoundLabel",defaultMessage:"Remote cluster not found"})))))}renderClusterConfiguredByNodeWarning({isConfiguredByNode:e}){return e?Object(fe.jsx)(r.Fragment,null,Object(fe.jsx)(Ge,null),Object(fe.jsx)(ce.EuiSpacer,{size:"l"})):null}renderClusterWithDeprecatedSettingWarning({hasDeprecatedProxySetting:e,isConfiguredByNode:t},s,r){return e?Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiCallOut,{title:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsTitle",defaultMessage:"'{remoteCluster}' has deprecated settings",values:{remoteCluster:s}}),color:"warning",iconType:"help"},t?Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsConfiguredByNodeMessage",defaultMessage:"Edit the cluster to update the settings. {helpLink}",values:{helpLink:Object(fe.jsx)(ce.EuiLink,{href:de.b,target:"_blank"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsLearnMoreLinkLabel",defaultMessage:"Learn more."}))}}):Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsMessage",defaultMessage:"{editLink} to update the settings.",values:{editLink:Object(fe.jsx)(ce.EuiLink,Object(l.reactRouterNavigate)(r,`/edit/${s}`),Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.deprecatedSettingsEditLinkLabel",defaultMessage:"Edit the cluster"}))}})),Object(fe.jsx)(ce.EuiSpacer,{size:"l"})):null}renderSniffModeDescriptionList({isConnected:e,connectedNodesCount:t,skipUnavailable:s,seeds:r,maxConnectionsPerCluster:o,initialConnectTimeout:n,mode:a}){return Object(fe.jsx)(ce.EuiFlexGroup,{"data-test-subj":"remoteClusterDetailPanelStatusValues"},Object(fe.jsx)(ce.EuiFlexItem,null,Object(fe.jsx)(ce.EuiDescriptionList,null,Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(fe.jsx)(be,{isConnected:e,mode:a})),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedNodesLabel",defaultMessage:"Connected nodes"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedNodesCount"},t),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.seedsLabel",defaultMessage:"Seeds"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSeeds"},r.map((e=>Object(fe.jsx)(ce.EuiText,{size:"s",key:e},e)))))),Object(fe.jsx)(ce.EuiFlexItem,null,Object(fe.jsx)(ce.EuiDescriptionList,null,Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(s)),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxConnectionsPerClusterLabel",defaultMessage:"Maximum connections"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxConnections"},o),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},n))))}renderProxyModeDescriptionList({isConnected:e,skipUnavailable:t,initialConnectTimeout:s,proxyAddress:r,proxySocketConnections:o,connectedSocketsCount:n,mode:a,serverName:i}){return Object(fe.jsx)(ce.EuiFlexGroup,null,Object(fe.jsx)(ce.EuiFlexItem,null,Object(fe.jsx)(ce.EuiDescriptionList,null,Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedLabel",defaultMessage:"Connection"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailIsConnected"},Object(fe.jsx)(be,{isConnected:e,mode:a})),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.connectedSocketsLabel",defaultMessage:"Connected sockets"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailConnectedSocketsCount"},n||"-"),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.proxyAddressLabel",defaultMessage:"Proxy address"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailProxyAddress"},r),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.serverNameLabel",defaultMessage:"Server name"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailServerName"},i||"-"))),Object(fe.jsx)(ce.EuiFlexItem,null,Object(fe.jsx)(ce.EuiDescriptionList,null,Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.skipUnavailableLabel",defaultMessage:"Skip unavailable"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailSkipUnavailable"},this.renderSkipUnavailableValue(t)),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.maxSocketConnectionsLabel",defaultMessage:"Maximum socket connections"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailMaxSocketConnections"},o||"-"),Object(fe.jsx)(ce.EuiDescriptionListTitle,null,Object(fe.jsx)(ce.EuiTitle,{size:"xs"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.initialConnectTimeoutLabel",defaultMessage:"Initial connect timeout"}))),Object(fe.jsx)(ce.EuiDescriptionListDescription,{"data-test-subj":"remoteClusterDetailInitialConnectTimeout"},s))))}renderCluster(e){return Object(fe.jsx)("section",{"aria-labelledby":"clusterStatus","data-test-subj":"remoteClusterDetailPanelStatusSection"},Object(fe.jsx)(ce.EuiTitle,{size:"s",id:"clusterStatus"},Object(fe.jsx)("h3",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.statusTitle",defaultMessage:"Status"}))),Object(fe.jsx)(ce.EuiSpacer,{size:"s"}),e.mode===je.c?this.renderProxyModeDescriptionList(e):this.renderSniffModeDescriptionList(e))}renderFlyoutBody(e){const{cluster:t,clusterName:s}=this.props;return Object(fe.jsx)(ce.EuiFlyoutBody,null,!t&&this.renderClusterNotFound(),t&&Object(fe.jsx)(r.Fragment,null,this.renderClusterConfiguredByNodeWarning(t),this.renderClusterWithDeprecatedSettingWarning(t,s,e),this.renderCluster(t)))}renderFlyoutFooter(e){const{cluster:t,clusterName:s,closeDetailPanel:r}=this.props;return Object(fe.jsx)(ce.EuiFlyoutFooter,null,Object(fe.jsx)(ce.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:r,"data-test-subj":"remoteClusterDetailsPanelCloseButton"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.closeButtonLabel",defaultMessage:"Close"}))),t&&!t.isConfiguredByNode&&Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiFlexGroup,{alignItems:"center"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(xe,{clusterNames:[s]},(e=>Object(fe.jsx)(ce.EuiButtonEmpty,{color:"danger",onClick:e,"data-test-subj":"remoteClusterDetailPanelRemoveButton"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.removeButtonLabel",defaultMessage:"Remove"}))))),Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiButton,le()({},Object(l.reactRouterNavigate)(e,`/edit/${s}`),{fill:!0,color:"primary","data-test-subj":"remoteClusterDetailPanelEditButton"}),Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.detailPanel.editButtonLabel",defaultMessage:"Edit"})))))))}render(){const{isOpen:e,closeDetailPanel:t,clusterName:s,cluster:r}=this.props,{history:o}=y();return e?Object(fe.jsx)(ce.EuiFlyout,{"data-test-subj":"remoteClusterDetailFlyout",onClose:t,"aria-labelledby":"remoteClusterDetailsFlyoutTitle",size:"m",maxWidth:550,className:"eui-textBreakAll"},Object(fe.jsx)(ce.EuiFlyoutHeader,null,Object(fe.jsx)(ce.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(fe.jsx)(ce.EuiFlexItem,{grow:!1},Object(fe.jsx)(ce.EuiTitle,{size:"m",id:"remoteClusterDetailsFlyoutTitle","data-test-subj":"remoteClusterDetailsFlyoutTitle"},Object(fe.jsx)("h2",null,s))),r&&r.mode===je.c?Object(fe.jsx)(ce.EuiFlexItem,{grow:!1}," ",Object(fe.jsx)(ce.EuiBadge,{color:"hollow",title:I.i18n.translate("xpack.remoteClusters.detailPanel.proxyBadgeLabel",{defaultMessage:'This remote cluster was configured with the "proxy" connection mode'})},r.mode)):null)),this.renderFlyoutBody(o),this.renderFlyoutFooter(o)):null}}const Ke=Object(a.connect)((e=>({isOpen:F(e),isLoading:T(e),cluster:S(e),clusterName:k(e)})),(e=>({closeDetailPanel:()=>{e(re())}})))(detail_panel_DetailPanel);class remote_cluster_list_RemoteClusterList extends r.Component{componentDidUpdate(){const{openDetailPanel:e,closeDetailPanel:t,isDetailPanelOpen:s,history:{location:{search:r}}}=this.props,{cluster:o}=Object(i.extractQueryParams)(r);null!=o?e(o):s&&t()}componentDidMount(){this.props.loadClusters(),this.interval=setInterval(this.props.refreshClusters,3e4),Object(g.b)("home")}componentWillUnmount(){clearInterval(this.interval)}renderBlockingAction(){const{isCopyingCluster:e,isRemovingCluster:t}=this.props;return e||t?Object(fe.jsx)(ce.EuiOverlayMask,null,Object(fe.jsx)(ce.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}renderNoPermission(){return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(fe.jsx)(ce.EuiEmptyPrompt,{iconType:"alert",title:Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionTitle",defaultMessage:"Permission error"})),body:Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.noPermissionText",defaultMessage:"You do not have permission to view or add remote clusters."}))}))}renderError(e){const{statusCode:t,error:s}=e.body;return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(fe.jsx)(ce.EuiEmptyPrompt,{iconType:"alert",title:Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingErrorTitle",defaultMessage:"Error loading remote clusters"})),body:Object(fe.jsx)("p",null,t," ",s)}))}renderEmpty(){return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(fe.jsx)(ce.EuiEmptyPrompt,{"data-test-subj":"remoteClusterListEmptyPrompt",iconType:"managementApp",title:Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptTitle",defaultMessage:"Add your first remote cluster"})),body:Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPromptDescription",defaultMessage:"Remote clusters create a uni-directional connection from your local cluster to other clusters."})),actions:Object(fe.jsx)(ce.EuiButton,le()({},Object(l.reactRouterNavigate)(this.props.history,"/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"remoteClusterEmptyPromptCreateButton"}),Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.emptyPrompt.connectButtonLabel",defaultMessage:"Add a remote cluster"}))}))}renderLoading(){return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued","data-test-subj":"remoteClustersTableLoading"},Object(fe.jsx)(i.SectionLoading,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterList.loadingTitle",defaultMessage:"Loading remote clusters"})))}renderList(){const{clusters:e}=this.props;return Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClusterListTitle",defaultMessage:"Remote Clusters"}),rightSideItems:[Object(fe.jsx)(ce.EuiButtonEmpty,{href:de.d,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDocsLinkText",defaultMessage:"Remote Clusters docs"}))]}),Object(fe.jsx)(ce.EuiSpacer,{size:"l"}),Object(fe.jsx)(Ce,{clusters:e}),Object(fe.jsx)(Ke,null))}render(){const{isLoading:e,clusters:t,clusterLoadError:s}=this.props,r=!e&&!t.length,n=!s||403!==s.status;let a;return a=s?n?this.renderError(s):this.renderNoPermission():r?this.renderEmpty():e?this.renderLoading():this.renderList(),Object(fe.jsx)(o.a.Fragment,null,a,this.renderBlockingAction())}}const Qe=Object(a.connect)((e=>({clusters:E(e),isDetailPanelOpen:F(e),isLoading:T(e),isCopyingCluster:_(e),isRemovingCluster:N(e),clusterLoadError:L(e)})),(e=>({loadClusters:()=>{e(ne())},refreshClusters:()=>{e(ae())},openDetailPanel:t=>{e(se({name:t}))},closeDetailPanel:()=>{e(re())}})))(remote_cluster_list_RemoteClusterList);class remote_cluster_add_RemoteClusterAdd extends r.PureComponent{constructor(...e){super(...e),pe()(this,"save",(e=>{this.props.addCluster(e)})),pe()(this,"cancel",(()=>{const{history:e,route:{location:{search:t}}}=y(),{redirect:s}=Object(i.extractQueryParams)(t);if(s){const e=decodeURIComponent(s);Object(C.b)(e)}else e.push("/list")}))}componentDidMount(){Object(g.b)("add")}componentWillUnmount(){this.props.clearAddClusterErrors()}render(){const{isAddingCluster:e,addClusterError:t}=this.props;return Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)($e,{title:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.addTitle",defaultMessage:"Add remote cluster"}),description:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.remoteClustersDescription",defaultMessage:"Add a remote cluster that connects to seed nodes or to a single proxy address."})}),Object(fe.jsx)(remote_cluster_form_RemoteClusterForm,{isSaving:e,saveError:t,save:this.save,cancel:this.cancel}))}}const Ye=Object(a.connect)((e=>({isAddingCluster:P(e),addClusterError:w(e)})),(e=>({addCluster:t=>{e((e=>async t=>{t({type:H});try{await Promise.all([j(e),new Promise((e=>setTimeout(e,500)))])}catch(s){if(s){const{body:r}=s;if(r){const{statusCode:s,message:o}=r;return t(s&&409===s?{type:$,payload:{error:{message:I.i18n.translate("xpack.remoteClusters.addAction.clusterNameAlreadyExistsErrorMessage",{defaultMessage:"A cluster with the name '{clusterName}' already exists.",values:{clusterName:e.name}})}}}:{type:$,payload:{error:{message:I.i18n.translate("xpack.remoteClusters.addAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:s,message:o}})}}})}}return b.a.add(s,I.i18n.translate("xpack.remoteClusters.addAction.errorTitle",{defaultMessage:"Error adding cluster"}))}t({type:V});const{history:s,route:{location:{search:r}}}=y(),{redirect:o}=Object(i.extractQueryParams)(r);if(o){b.c.addSuccess(I.i18n.translate("xpack.remoteClusters.addAction.successTitle",{defaultMessage:"Added remote cluster '{name}'",values:{name:e.name}}));const t=decodeURIComponent(o);Object(C.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearAddClusterErrors:()=>{e((e=>{e({type:G})}))}})))(remote_cluster_add_RemoteClusterAdd);class remote_cluster_edit_RemoteClusterEdit extends r.Component{constructor(e){super(e),pe()(this,"save",(e=>{this.props.editCluster(e)})),pe()(this,"cancel",(()=>{const{openDetailPanel:e}=this.props,{clusterName:t}=this.state,{history:s,route:{location:{search:r}}}=y(),{redirect:o}=Object(i.extractQueryParams)(r);if(o){const e=decodeURIComponent(o);Object(C.b)(e)}else s.push("/list"),e(t)}));const{match:{params:{name:t}}}=e;Object(g.b)("edit",`?cluster=${t}`),this.state={clusterName:t}}componentDidMount(){const{startEditingCluster:e}=this.props,{clusterName:t}=this.state;e(t)}componentWillUnmount(){this.props.clearEditClusterErrors(),this.props.stopEditingCluster()}render(){const{clusterName:e}=this.state,{isLoading:t,cluster:s,isEditingCluster:r,getEditClusterError:n}=this.props;if(t)return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(fe.jsx)(i.SectionLoading,null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingLabel",defaultMessage:"Loading remote cluster"})));if(!s)return Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(fe.jsx)(ce.EuiEmptyPrompt,{iconType:"alert",title:Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorTitle",defaultMessage:"Error loading remote cluster"})),body:Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.loadingErrorMessage",defaultMessage:"The remote cluster '{name}' does not exist.",values:{name:e}})),actions:Object(fe.jsx)(ce.EuiButton,le()({},Object(l.reactRouterNavigate)(this.props.history,"/list"),{color:"danger",iconType:"arrowLeft",flush:"left"}),Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.viewRemoteClustersButtonLabel",defaultMessage:"View remote clusters"}))}));const{isConfiguredByNode:a,hasDeprecatedProxySetting:u}=s;return a?Object(fe.jsx)(ce.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",color:"primary"},Object(fe.jsx)(ce.EuiEmptyPrompt,{iconType:"iInCircle",title:Object(fe.jsx)("h2",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.configuredByNodeWarningTitle",defaultMessage:"Defined in configuration"})),body:Object(fe.jsx)("p",null,Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.configuredByNodeWarningBody",defaultMessage:"You can't edit or delete this remote cluster because it's defined in a node's elasticsearch.yml configuration file."})),actions:Object(fe.jsx)(ce.EuiButton,{color:"primary",iconType:"arrowLeft",flush:"left",onClick:this.cancel},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.backToRemoteClustersButtonLabel",defaultMessage:"Back to remote clusters"}))})):Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)($e,{title:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.editTitle",defaultMessage:"Edit remote cluster"})}),u?Object(fe.jsx)(o.a.Fragment,null,Object(fe.jsx)(ce.EuiCallOut,{title:Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsTitle",defaultMessage:"Proceed with caution"}),color:"warning",iconType:"help"},Object(fe.jsx)(ue.FormattedMessage,{id:"xpack.remoteClusters.edit.deprecatedSettingsMessage",defaultMessage:"This remote cluster has deprecated settings that we tried to resolve. Verify all changes before saving."})),Object(fe.jsx)(ce.EuiSpacer,null)):null,Object(fe.jsx)(remote_cluster_form_RemoteClusterForm,{cluster:s,isSaving:r,saveError:n,save:this.save,cancel:this.cancel}))}}const Je=Object(a.connect)((e=>({isLoading:T(e),cluster:R(e),isEditingCluster:_(e),getEditClusterError:D(e)})),(e=>({startEditingCluster:t=>{e((({clusterName:e})=>t=>{t(ne()),t({type:K,payload:{clusterName:e}})})({clusterName:t}))},stopEditingCluster:()=>{e((e=>{e(ne()),e({type:Q})}))},editCluster:t=>{e((e=>async t=>{t({type:Y});try{await Promise.all([f(e),new Promise((e=>setTimeout(e,500)))])}catch(e){if(e){const{body:s}=e;if(s){const{statusCode:e,message:r}=s;return t({type:Z,payload:{error:{message:I.i18n.translate("xpack.remoteClusters.editAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:e,message:r}})}}})}}return b.a.add(e,I.i18n.translate("xpack.remoteClusters.editAction.errorTitle",{defaultMessage:"Error editing cluster"}))}t({type:J});const{history:s,route:{location:{search:r}}}=y(),{redirect:o}=Object(i.extractQueryParams)(r);if(o){b.c.addSuccess(I.i18n.translate("xpack.remoteClusters.editAction.successTitle",{defaultMessage:"Edited remote cluster '{name}'",values:{name:e.name}}));const t=decodeURIComponent(o);Object(C.b)(`${t}?cluster=${e.name}`)}else s.push({pathname:"/list",search:`?cluster=${e.name}`})})(t))},clearEditClusterErrors:()=>{e((e=>{e({type:X})}))},openDetailPanel:t=>{e(se({name:t}))}})))(remote_cluster_edit_RemoteClusterEdit);class app_AppComponent extends r.Component{constructor(...e){super(...e),v(!1),this.registerRouter()}registerRouter(){const{history:e}=this.props;var t;t={history:e,route:{location:e.location}},h=t}componentDidMount(){Object(d.c)(d.a.LOADED,c.a)}componentWillUnmount(){v(!0)}render(){return Object(fe.jsx)(u.Router,{history:this.props.history},Object(fe.jsx)(u.Switch,null,Object(fe.jsx)(u.Route,{exact:!0,path:["/list","/",""],component:Qe}),Object(fe.jsx)(u.Route,{path:["/add"],component:Ye}),Object(fe.jsx)(u.Route,{path:"/edit/:name",component:Je}),Object(fe.jsx)(u.Redirect,{from:"/:anything",to:"/list"})))}}const Ze=app_AppComponent;var Xe=s(30),et=s(58),tt=s.n(et);const st={isLoading:!1,clusterLoadError:null,asList:[],byName:{},allNames:[]},rt=e=>e.reduce(((e,t)=>({...e,[t.name]:t})),{}),ot=e=>e.map((e=>e.name));const nt={isOpen:!1,clusterName:void 0};const at={isAdding:!1,error:void 0};const it={isRemoving:!1};const lt={clusterName:void 0,isEditing:!1,error:void 0};const ut=Object(Xe.combineReducers)({clusters:function(e=st,t){const{type:s,payload:r}=t;switch(s){case B:return{...e,isLoading:!0};case q:return{asList:[...r.clusters],byName:rt(r.clusters),allNames:ot(r.clusters),isLoading:!1};case W:return{asList:[...r.clusters],byName:rt(r.clusters),allNames:ot(r.clusters)};case z:return{...e,isLoading:!1,clusterLoadError:r.error};case te:const t=r,s=Object.keys(e.byName).filter((e=>t.indexOf(e)<0)).map((t=>e.byName[t]));return{...e,asList:s,byName:rt(s),allNames:ot(s)};default:return e}},detailPanel:function(e=nt,t){const{type:s,payload:r}=t;switch(s){case A:const{clusterName:t}=r;return{clusterName:t,isOpen:!0};case U:return{clusterName:void 0,isOpen:!1};default:return e}},addCluster:function(e=at,t){const{type:s,payload:r}=t;switch(s){case H:return{isAdding:!0,error:void 0};case V:return{...e,isAdding:!1};case $:return{...e,error:r.error,isAdding:!1};case G:return{...e,error:void 0};default:return e}},removeCluster:function(e=it,t){const{type:s}=t;switch(s){case ee:return{isRemoving:!0};case te:return{isRemoving:!1};default:return e}},editCluster:function(e=lt,t){const{type:s,payload:r}=t;switch(s){case K:const{clusterName:t}=r;return{clusterName:t};case Q:return{clusterName:void 0,isEditing:!1,error:void 0};case Y:return{...e,isEditing:!0};case J:return{...e,isEditing:!1};case Z:return{...e,error:r.error,isEditing:!1};case X:return{...e,error:void 0};default:return e}}}),ct=()=>e=>t=>{const{type:s}=t;switch(s){case U:if(!O){const{history:e}=y();e.replace({search:""})}}return e(t)};const dt=function(e={}){const t=[Object(Xe.applyMiddleware)(tt.a,ct)];return Object(Xe.createStore)(ut,e,Object(Xe.compose)(...t))}();s(59);const mt=(e,t,s,r,o)=>(Object(n.render)(Object(fe.jsx)(t,null,Object(fe.jsx)(l.KibanaThemeProvider,{theme$:o},Object(fe.jsx)(a.Provider,{store:dt},Object(fe.jsx)(ve,{context:s},Object(fe.jsx)(Ze,{history:r}))))),e),()=>Object(n.unmountComponentAtNode)(e))}])]);