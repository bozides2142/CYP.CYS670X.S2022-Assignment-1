/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function n(n){for(var t,o,i=n[0],s=n[1],a=0,u=[];a<i.length;a++)o=i[a],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);for(c&&c(n);u.length;)u.shift()()}var t={},r={9:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=i);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.src=function(e){return o.p+"canvas.chunk."+e+".js"}(e);var c=new Error;s=function(n){a.onerror=a.onload=null,clearTimeout(u);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,t[1](c)}r[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(n)},o.m=e,o.c=t,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[],s=i.push.bind(i);i.push=n,i=i.slice();for(var a=0;a<i.length;a++)n(i[a]);var c=s;o(o.s=14)}([function(e,n,t){"use strict";t.d(n,"l",(function(){return o})),t.d(n,"j",(function(){return i})),t.d(n,"a",(function(){return s})),t.d(n,"g",(function(){return a})),t.d(n,"h",(function(){return c})),t.d(n,"i",(function(){return u})),t.d(n,"b",(function(){return p})),t.d(n,"f",(function(){return d})),t.d(n,"A",(function(){return l})),t.d(n,"D",(function(){return _})),t.d(n,"w",(function(){return f})),t.d(n,"s",(function(){return b})),t.d(n,"q",(function(){return g})),t.d(n,"r",(function(){return v})),t.d(n,"E",(function(){return O})),t.d(n,"k",(function(){return h})),t.d(n,"u",(function(){return m})),t.d(n,"t",(function(){return P})),t.d(n,"G",(function(){return w})),t.d(n,"C",(function(){return j})),t.d(n,"B",(function(){return y})),t.d(n,"F",(function(){return k})),t.d(n,"n",(function(){return x})),t.d(n,"p",(function(){return S})),t.d(n,"y",(function(){return D})),t.d(n,"z",(function(){return B})),t.d(n,"e",(function(){return U})),t.d(n,"d",(function(){return E})),t.d(n,"m",(function(){return I})),t.d(n,"o",(function(){return A})),t.d(n,"c",(function(){return C})),t.d(n,"v",(function(){return R})),t.d(n,"x",(function(){return L}));var r=t(11);const o="canvas",i="/app/canvas#/workpad",s="/api/canvas",a=`${s}/workpad`,c=`${s}/workpad-assets`,u=`${s}/workpad-structures`,p=`${s}/custom-element`,d=`${s}/templates`,l="kibana.canvas.clipboard",_="lastPath:canvas",f=3e4,b=".canvasPage {\n\n}",g=".canvasRenderEl{\n\n}",v="filterGroup",O=["gif","jpeg","png","svg+xml"],h=25e3,m=10,P=1,w=[.25,.33,.5,.67,.75,1,1.25,1.5,1.75,2,3,4].sort(),j=w[0],y=w[w.length-1],k=32,x="canvasLayout__stageContent",S=["string","number","null","boolean","date"],D="workpad-full-screen-launch",B="workpad-full-screen-launch-with-autoplay",U="/public/canvas/zip",E=`/public/canvas/${r.SHAREABLE_RUNTIME_NAME}.js`,I="canvasEmbeddable",A="canvasContextMenu--topBorder",C=`${s}/fns`,R="essql",L=32},function(e,n,t){e.exports=t(13)(2)},function(e,n){e.exports=__kbnSharedDeps__.Rxjs},function(e,n){e.exports=__kbnSharedDeps__.KbnI18n},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressions/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));const r={location:null,localStorage:{},sessionStorage:{},innerWidth:0,innerHeight:0,addEventListener:()=>{},removeEventListener:()=>{}},o=()=>"undefined"==typeof window?r:window},function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return CanvasAppLocatorDefinition}));var r=t(1),o=t.n(r),i=t(0);const s="CANVAS_APP_LOCATOR";class CanvasAppLocatorDefinition{constructor(){o()(this,"id",s)}async getLocation(e){const n=i.l;if("workpadPDF"===e.view){const{id:t,page:r}=e;return{app:n,path:`#/export/workpad/pdf/${t}/page/${r}`,state:{}}}return{app:n,path:"#/",state:{}}}}},function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return u}));var r=t(10),o=t(5);let i;!function(e){e.Local="localStorage",e.Session="sessionStorage"}(i||(i={}));const s={[i.Local]:null,[i.Session]:null},a=e=>{const n=s[e]||new r.Storage(Object(o.a)()[e]);return s[e]=n,n},c=()=>a(i.Local),u=()=>a(i.Session)},function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return a}));var r=t(2);let o=!1;const i=new r.BehaviorSubject(0),s=e=>e(i),a={show:()=>{o||(o=!0,i.next(1))},hide:()=>{o&&(o=!1,i.next(0))}}},function(e,n,t){t.r(n);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports={LIBRARY_NAME:"KbnCanvas",SHAREABLE_RUNTIME_NAME:"kbn_canvas"}},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/home/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps_npm__},function(e,n,t){t(15),__kbnBundles__.define("plugin/canvas/public",t,16)},function(e,n,t){t.p=window.__kbnPublicPath__.canvas},function(e,n,t){"use strict";t.r(n),t.d(n,"plugin",(function(){return g}));var r=t(1),o=t.n(r),i=t(2),s=t(9),a=t(8),c=t(7),u=t(0),p=t(6),d=t(3),l=t(12);const _={id:"canvas",title:"Canvas",subtitle:d.i18n.translate("xpack.canvas.featureCatalogue.canvasSubtitle",{defaultMessage:"Design pixel-perfect presentations."}),description:d.i18n.translate("xpack.canvas.appDescription",{defaultMessage:"Showcase your data in a pixel-perfect way."}),icon:"canvasApp",path:"/app/canvas",showOnHomePage:!1,category:l.FeatureCatalogueCategory.DATA,solutionId:"kibana",order:300};var f=t(4);let b=null;class plugin_CanvasPlugin{constructor(e){o()(this,"appUpdater",new i.BehaviorSubject((()=>({})))),o()(this,"initContext",void 0),this.initContext=e}setup(e,n){const{api:r,registries:o}=function(e){const n={elements:[],transformUIs:[],datasourceUIs:[],modelUIs:[],viewUIs:[],argumentUIs:[],tagUIs:[],transitions:[]},t=e=>n=>{Array.isArray(n)?e.push(...n):e.push(n)};return{api:{addFunctions:n=>{n.forEach((n=>{e.registerFunction(n)}))},addTypes:n=>{n.forEach((n=>{e.registerType(n)}))},addRenderers:n=>{n.forEach((n=>{e.registerRenderer(n)}))},addElements:t(n.elements),addTransformUIs:t(n.transformUIs),addDatasourceUIs:t(n.datasourceUIs),addModelUIs:t(n.modelUIs),addViewUIs:t(n.viewUIs),addArgumentUIs:t(n.argumentUIs),addTagUIs:t(n.tagUIs),addTransitions:t(n.transitions)},registries:n}}(n.expressions),i=Object(c.b)().get(`${u.D}:${e.http.basePath.get()}`);return i&&this.appUpdater.next((()=>({defaultPath:`#${i}`}))),e.application.register({category:s.DEFAULT_APP_CATEGORIES.kibana,id:u.l,title:"Canvas",euiIconType:"logoKibana",order:3e3,updater$:this.appUpdater,mount:async i=>{const{CanvasSrcPlugin:s}=await Promise.all([t.e(2),t.e(3),t.e(4),t.e(7),t.e(6),t.e(13)]).then(t.bind(null,408)),a=new s;a.setup(e,{canvas:r}),(async({coreSetup:e,setupPlugins:n})=>{const{expressions:t,bfetch:r}=n;await(async()=>(b||(b=(async()=>{const n=await e.http.get(u.c),o=r.batchedFunction({url:u.c}),{serialize:i}=Object(f.serializeProvider)(t.getTypes());Object.keys(n).forEach((e=>{t.getFunction(e)||t.registerFunction((()=>({...n[e],fn:(n,t)=>o({functionName:e,args:t,context:i(n)})})))}))})()),b))()})({coreSetup:e,setupPlugins:n});const[c,p]=await e.getStartServices();a.start(c,p);const{pluginServices:d}=await t.e(17).then(t.bind(null,57)),{pluginServiceRegistry:l}=await Promise.all([t.e(2),t.e(3),t.e(5),t.e(7),t.e(18)]).then(t.bind(null,410));d.setRegistry(l.start({coreStart:c,startPlugins:p,appUpdater:this.appUpdater,initContext:this.initContext}));const{expressions:_,presentationUtil:g}=p;await g.registerExpressionsLanguage(Object.values(_.getFunctions()));const{renderApp:v,initializeCanvas:O,teardownCanvas:h}=await Promise.all([t.e(2),t.e(3),t.e(4),t.e(5),t.e(6),t.e(8),t.e(10)]).then(t.bind(null,406)),m=await O(e,c,n,p,o,this.appUpdater),P=v({coreStart:c,startPlugins:p,params:i,canvasStore:m,pluginServices:d});return()=>{P(),h(c)}}}),n.home&&n.home.featureCatalogue.register(_),n.share&&n.share.url.locators.create(new p.b),r.addArgumentUIs((async()=>{const{argTypeSpecs:e}=await Promise.all([t.e(2),t.e(4),t.e(8),t.e(12)]).then(t.bind(null,409));return e})),r.addTransitions((async()=>{const{transitions:e}=await Promise.all([t.e(2),t.e(19)]).then(t.bind(null,412));return e})),{...r}}start(e,n){Object(a.a)(e.http.addLoadingCountSource)}}const g=e=>new plugin_CanvasPlugin(e)},function(e,n){e.exports=__kbnSharedDeps__.React},function(e,n){e.exports=__kbnSharedDeps__.EmotionReact},function(e,n){e.exports=__kbnSharedDeps__.ElasticEui},function(e,n){e.exports=__kbnSharedDeps__.Lodash},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ReactDom},function(e,n){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Moment},function(e,n){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,n){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/presentationUtil/common/lib");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionError/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionShape/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Jquery},function(e,n){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressions/common/fonts");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionMetric/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionRevealImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionRepeatImage/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.History},function(e,n){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,n){e.exports=__kbnSharedDeps__.TsLib},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/expressionShape/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/visualizations/common/constants");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/lens/common/constants");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/discover/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.KbnMonaco}]);